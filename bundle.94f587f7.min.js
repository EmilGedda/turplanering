/*! For license information please see bundle.94f587f7.min.js.LICENSE.txt */
!function(){var t={8262:function(t,e,n){"use strict";n.d(e,{Z:function(){return tt}});var i=n(2506),r=Math.abs,o=String.fromCharCode;function a(t){return t.trim()}function s(t,e,n){return t.replace(e,n)}function l(t,e){return t.indexOf(e)}function u(t,e){return 0|t.charCodeAt(e)}function c(t,e,n){return t.slice(e,n)}function h(t){return t.length}function p(t){return t.length}function d(t,e){return e.push(t),t}var f=1,g=1,m=0,y=0,v=0,_="";function x(t,e,n,i,r,o,a){return{value:t,root:e,parent:n,type:i,props:r,children:o,line:f,column:g,length:a,return:""}}function w(t,e,n){return x(t,e.root,e.parent,n,e.props,e.children,0)}function b(){return v=y>0?u(_,--y):0,g--,10===v&&(g=1,f--),v}function S(){return v=y<m?u(_,y++):0,g++,10===v&&(g=1,f++),v}function C(){return u(_,y)}function T(){return y}function E(t,e){return c(_,t,e)}function M(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function O(t){return f=g=1,m=h(_=t),y=0,[]}function R(t){return _="",t}function P(t){return a(E(y-1,L(91===t?t+2:40===t?t+1:t)))}function k(t){for(;(v=C())&&v<33;)S();return M(t)>2||M(v)>3?"":" "}function I(t,e){for(;--e&&S()&&!(v<48||v>102||v>57&&v<65||v>70&&v<97););return E(t,T()+(e<6&&32==C()&&32==S()))}function L(t){for(;S();)switch(v){case t:return y;case 34:case 39:return L(34===t||39===t?t:v);case 40:41===t&&L(t);break;case 92:S()}return y}function F(t,e){for(;S()&&t+v!==57&&(t+v!==84||47!==C()););return"/*"+E(e,y-1)+"*"+o(47===t?t:S())}function A(t){for(;!M(C());)S();return E(t,y)}var Z="-ms-",j="-moz-",D="-webkit-",z="comm",W="rule",N="decl";function G(t,e){for(var n="",i=p(t),r=0;r<i;r++)n+=e(t[r],r,t,e)||"";return n}function V(t,e,n,i){switch(t.type){case"@import":case N:return t.return=t.return||t.value;case z:return"";case W:t.value=t.props.join(",")}return h(n=G(t.children,i))?t.return=t.value+"{"+n+"}":""}function B(t,e){switch(function(t,e){return(((e<<2^u(t,0))<<2^u(t,1))<<2^u(t,2))<<2^u(t,3)}(t,e)){case 5103:return D+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return D+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return D+t+j+t+Z+t+t;case 6828:case 4268:return D+t+Z+t+t;case 6165:return D+t+Z+"flex-"+t+t;case 5187:return D+t+s(t,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+t;case 5443:return D+t+Z+"flex-item-"+s(t,/flex-|-self/,"")+t;case 4675:return D+t+Z+"flex-line-pack"+s(t,/align-content|flex-|-self/,"")+t;case 5548:return D+t+Z+s(t,"shrink","negative")+t;case 5292:return D+t+Z+s(t,"basis","preferred-size")+t;case 6060:return D+"box-"+s(t,"-grow","")+D+t+Z+s(t,"grow","positive")+t;case 4554:return D+s(t,/([^-])(transform)/g,"$1-webkit-$2")+t;case 6187:return s(s(s(t,/(zoom-|grab)/,D+"$1"),/(image-set)/,D+"$1"),t,"")+t;case 5495:case 3959:return s(t,/(image-set\([^]*)/,D+"$1$`$1");case 4968:return s(s(t,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+D+t+t;case 4095:case 3583:case 4068:case 2532:return s(t,/(.+)-inline(.+)/,D+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(t)-1-e>6)switch(u(t,e+1)){case 109:if(45!==u(t,e+4))break;case 102:return s(t,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+j+(108==u(t,e+3)?"$3":"$2-$3"))+t;case 115:return~l(t,"stretch")?B(s(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==u(t,e+1))break;case 6444:switch(u(t,h(t)-3-(~l(t,"!important")&&10))){case 107:return s(t,":",":"+D)+t;case 101:return s(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+D+(45===u(t,14)?"inline-":"")+"box$3$1"+D+"$2$3$1"+Z+"$2box$3")+t}break;case 5936:switch(u(t,e+11)){case 114:return D+t+Z+s(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return D+t+Z+s(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return D+t+Z+s(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return D+t+Z+t+t}return t}function H(t){return R($("",null,null,null,[""],t=O(t),0,[0],t))}function $(t,e,n,i,r,a,l,u,c){for(var p=0,f=0,g=l,m=0,y=0,v=0,_=1,x=1,w=1,E=0,M="",O=r,R=a,L=i,Z=M;x;)switch(v=E,E=S()){case 34:case 39:case 91:case 40:Z+=P(E);break;case 9:case 10:case 13:case 32:Z+=k(v);break;case 92:Z+=I(T()-1,7);continue;case 47:switch(C()){case 42:case 47:d(X(F(S(),T()),e,n),c);break;default:Z+="/"}break;case 123*_:u[p++]=h(Z)*w;case 125*_:case 59:case 0:switch(E){case 0:case 125:x=0;case 59+f:y>0&&h(Z)-g&&d(y>32?Y(Z+";",i,n,g-1):Y(s(Z," ","")+";",i,n,g-2),c);break;case 59:Z+=";";default:if(d(L=K(Z,e,n,p,f,r,u,M,O=[],R=[],g),a),123===E)if(0===f)$(Z,e,L,L,O,a,g,u,R);else switch(m){case 100:case 109:case 115:$(t,L,L,i&&d(K(t,L,L,0,0,r,u,M,r,O=[],g),R),r,R,g,u,i?O:R);break;default:$(Z,L,L,L,[""],R,g,u,R)}}p=f=y=0,_=w=1,M=Z="",g=l;break;case 58:g=1+h(Z),y=v;default:if(_<1)if(123==E)--_;else if(125==E&&0==_++&&125==b())continue;switch(Z+=o(E),E*_){case 38:w=f>0?1:(Z+="\f",-1);break;case 44:u[p++]=(h(Z)-1)*w,w=1;break;case 64:45===C()&&(Z+=P(S())),m=C(),f=h(M=Z+=A(T())),E++;break;case 45:45===v&&2==h(Z)&&(_=0)}}return a}function K(t,e,n,i,o,l,u,h,d,f,g){for(var m=o-1,y=0===o?l:[""],v=p(y),_=0,w=0,b=0;_<i;++_)for(var S=0,C=c(t,m+1,m=r(w=u[_])),T=t;S<v;++S)(T=a(w>0?y[S]+" "+C:s(C,/&\f/g,y[S])))&&(d[b++]=T);return x(t,e,n,0===o?W:h,d,f,g)}function X(t,e,n){return x(t,e,n,z,o(v),c(t,2,-2),0)}function Y(t,e,n,i){return x(t,e,n,N,c(t,0,i),c(t,i+1,-1),i)}var U=new WeakMap,q=function(t){if("rule"===t.type&&t.parent&&t.length){for(var e=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||U.get(n))&&!i){U.set(t,!0);for(var r=[],a=function(t,e){return R(function(t,e){var n=-1,i=44;do{switch(M(i)){case 0:38===i&&12===C()&&(e[n]=1),t[n]+=A(y-1);break;case 2:t[n]+=P(i);break;case 4:if(44===i){t[++n]=58===C()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=o(i)}}while(i=S());return t}(O(t),e))}(e,r),s=n.props,l=0,u=0;l<a.length;l++)for(var c=0;c<s.length;c++,u++)t.props[u]=r[l]?a[l].replace(/&\f/g,s[c]):s[c]+" "+a[l]}}},J=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}},Q=[function(t,e,n,i){if(!t.return)switch(t.type){case N:t.return=B(t.value,t.length);break;case"@keyframes":return G([w(s(t.value,"@","@"+D),t,"")],i);case W:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=/(::plac\w+|:read-\w+)/.exec(t))?t[0]:t}(e)){case":read-only":case":read-write":return G([w(s(e,/:(read-\w+)/,":-moz-$1"),t,"")],i);case"::placeholder":return G([w(s(e,/:(plac\w+)/,":-webkit-input-$1"),t,""),w(s(e,/:(plac\w+)/,":-moz-$1"),t,""),w(s(e,/:(plac\w+)/,Z+"input-$1"),t,"")],i)}return""}))}}],tt=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var r,o,a=t.stylisPlugins||Q,s={},l=[];r=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)s[e[n]]=!0;l.push(t)}));var u,c,h,d,f=[V,(d=function(t){u.insert(t)},function(t){t.root||(t=t.return)&&d(t)})],g=(c=[q,J].concat(a,f),h=p(c),function(t,e,n,i){for(var r="",o=0;o<h;o++)r+=c[o](t,e,n,i)||"";return r});o=function(t,e,n,i){u=n,G(H(t?t+"{"+e.styles+"}":e.styles),g),i&&(m.inserted[e.name]=!0)};var m={key:e,sheet:new i.m({key:e,container:r,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend}),nonce:t.nonce,inserted:s,registered:{},insert:o};return m.sheet.hydrate(l),m}},2015:function(t,e){"use strict";e.Z=function(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}},2198:function(t,e,n){"use strict";n.d(e,{C:function(){return a},T:function(){return l},w:function(){return s}});var i=n(7363),r=n(8262),o=(n(9232),Object.prototype.hasOwnProperty,(0,i.createContext)("undefined"!=typeof HTMLElement?(0,r.Z)({key:"css"}):null)),a=o.Provider,s=function(t){return(0,i.forwardRef)((function(e,n){var r=(0,i.useContext)(o);return t(e,r,n)}))},l=(0,i.createContext)({})},9232:function(t,e,n){"use strict";n.d(e,{O:function(){return g}});var i=function(t){for(var e,n=0,i=0,r=t.length;r>=4;++i,r-=4)e=1540483477*(65535&(e=255&t.charCodeAt(i)|(255&t.charCodeAt(++i))<<8|(255&t.charCodeAt(++i))<<16|(255&t.charCodeAt(++i))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&t.charCodeAt(i+2))<<16;case 2:n^=(255&t.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},r={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(2015),a=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(t){return 45===t.charCodeAt(1)},u=function(t){return null!=t&&"boolean"!=typeof t},c=(0,o.Z)((function(t){return l(t)?t:t.replace(a,"-$&").toLowerCase()})),h=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(s,(function(t,e,n){return d={name:e,styles:n,next:d},e}))}return 1===r[t]||l(t)||"number"!=typeof e||0===e?e:e+"px"};function p(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return d={name:n.name,styles:n.styles,next:d},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)d={name:i.name,styles:i.styles,next:d},i=i.next;return n.styles+";"}return function(t,e,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=p(t,e,n[r])+";";else for(var o in n){var a=n[o];if("object"!=typeof a)null!=e&&void 0!==e[a]?i+=o+"{"+e[a]+"}":u(a)&&(i+=c(o)+":"+h(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=e&&void 0!==e[a[0]]){var s=p(t,e,a);switch(o){case"animation":case"animationName":i+=c(o)+":"+s+";";break;default:i+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)u(a[l])&&(i+=c(o)+":"+h(o,a[l])+";")}return i}(t,e,n);case"function":if(void 0!==t){var r=d,o=n(t);return d=r,p(t,e,o)}}if(null==e)return n;var a=e[n];return void 0!==a?a:n}var d,f=/label:\s*([^\s;\n{]+)\s*(;|$)/g,g=function(t,e,n){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,o="";d=void 0;var a=t[0];null==a||void 0===a.raw?(r=!1,o+=p(n,e,a)):o+=a[0];for(var s=1;s<t.length;s++)o+=p(n,e,t[s]),r&&(o+=a[s]);f.lastIndex=0;for(var l,u="";null!==(l=f.exec(o));)u+="-"+l[1];return{name:i(o)+u,styles:o,next:d}}},2506:function(t,e,n){"use strict";n.d(e,{m:function(){return i}});var i=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch(t){}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}()},3211:function(t,e,n){"use strict";function i(t,e,n){var i="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):i+=n+" "})),i}n.d(e,{f:function(){return i},M:function(){return r}});var r=function(t,e,n){var i=t.key+"-"+e.name;if(!1===n&&void 0===t.registered[i]&&(t.registered[i]=e.styles),void 0===t.inserted[e.name]){var r=e;do{t.insert(e===r?"."+i:"",r,t.sheet,!0),r=r.next}while(void 0!==r)}}},1736:function(t,e,n){"use strict";var i;e.Z=void 0;var r=(0,((i=n(8410))&&i.__esModule?i:{default:i}).default)("M15 13V5A3 3 0 0 0 9 5V13A5 5 0 1 0 15 13M12 4A1 1 0 0 1 13 5V8H11V5A1 1 0 0 1 12 4Z","Thermometer");e.Z=r},7888:function(t,e,n){"use strict";var i;e.Z=void 0;var r=(0,((i=n(8410))&&i.__esModule?i:{default:i}).default)("M9,12C9.53,12.14 9.85,12.69 9.71,13.22L8.41,18.05C8.27,18.59 7.72,18.9 7.19,18.76C6.65,18.62 6.34,18.07 6.5,17.54L7.78,12.71C7.92,12.17 8.47,11.86 9,12M13,12C13.53,12.14 13.85,12.69 13.71,13.22L11.64,20.95C11.5,21.5 10.95,21.8 10.41,21.66C9.88,21.5 9.56,20.97 9.7,20.43L11.78,12.71C11.92,12.17 12.47,11.86 13,12M17,12C17.53,12.14 17.85,12.69 17.71,13.22L16.41,18.05C16.27,18.59 15.72,18.9 15.19,18.76C14.65,18.62 14.34,18.07 14.5,17.54L15.78,12.71C15.92,12.17 16.47,11.86 17,12M17,10V9A5,5 0 0,0 12,4C9.5,4 7.45,5.82 7.06,8.19C6.73,8.07 6.37,8 6,8A3,3 0 0,0 3,11C3,12.11 3.6,13.08 4.5,13.6V13.59C5,13.87 5.14,14.5 4.87,14.96C4.59,15.43 4,15.6 3.5,15.32V15.33C2,14.47 1,12.85 1,11A5,5 0 0,1 6,6C7,3.65 9.3,2 12,2C15.43,2 18.24,4.66 18.5,8.03L19,8A4,4 0 0,1 23,12C23,13.5 22.2,14.77 21,15.46V15.46C20.5,15.73 19.91,15.57 19.63,15.09C19.36,14.61 19.5,14 20,13.72V13.73C20.6,13.39 21,12.74 21,12A2,2 0 0,0 19,10H17Z","WeatherPouring");e.Z=r},394:function(t,e,n){"use strict";var i;e.Z=void 0;var r=(0,((i=n(8410))&&i.__esModule?i:{default:i}).default)("M4,10A1,1 0 0,1 3,9A1,1 0 0,1 4,8H12A2,2 0 0,0 14,6A2,2 0 0,0 12,4C11.45,4 10.95,4.22 10.59,4.59C10.2,5 9.56,5 9.17,4.59C8.78,4.2 8.78,3.56 9.17,3.17C9.9,2.45 10.9,2 12,2A4,4 0 0,1 16,6A4,4 0 0,1 12,10H4M19,12A1,1 0 0,0 20,11A1,1 0 0,0 19,10C18.72,10 18.47,10.11 18.29,10.29C17.9,10.68 17.27,10.68 16.88,10.29C16.5,9.9 16.5,9.27 16.88,8.88C17.42,8.34 18.17,8 19,8A3,3 0 0,1 22,11A3,3 0 0,1 19,14H5A1,1 0 0,1 4,13A1,1 0 0,1 5,12H19M18,18H4A1,1 0 0,1 3,17A1,1 0 0,1 4,16H18A3,3 0 0,1 21,19A3,3 0 0,1 18,22C17.17,22 16.42,21.66 15.88,21.12C15.5,20.73 15.5,20.1 15.88,19.71C16.27,19.32 16.9,19.32 17.29,19.71C17.47,19.89 17.72,20 18,20A1,1 0 0,0 19,19A1,1 0 0,0 18,18Z","WeatherWindy");e.Z=r},8410:function(t,e,n){"use strict";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var l=o?Object.getOwnPropertyDescriptor(t,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}(n(7363)),o=n(5306);function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}e.default=function(t,e){return(0,o.createSvgIcon)(r.createElement("path",{d:t}),e)}},2473:function(t,e,n){"use strict";function i(t,e,n){const i={};return Object.keys(t).forEach((r=>{i[r]=t[r].reduce(((t,i)=>(i&&(n&&n[i]&&t.push(n[i]),t.push(e(i))),t)),[]).join(" ")})),i}n.d(e,{Z:function(){return i}})},510:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});const i={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function r(t,e){return i[e]||`${t}-${e}`}},9625:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=n(510);function r(t,e){const n={};return e.forEach((e=>{n[e]=(0,i.Z)(t,e)})),n}},710:function(t,e){"use strict";e.Z={black:"#000",white:"#fff"}},3246:function(t,e){"use strict";e.Z={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"}},7464:function(t,e){"use strict";e.Z={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"}},4786:function(t,e,n){"use strict";n.d(e,{Z:function(){return J}});var i=n(5773),r=n(808),o=n(3143),a=n(8436),s=n(5118),l=n(7818),u=n(710),c=n(3246),h="#f3e5f5",p="#ce93d8",d="#ba68c8",f="#ab47bc",g="#9c27b0",m="#7b1fa2",y="#e57373",v="#ef5350",_="#f44336",x="#d32f2f",w="#c62828",b=n(7464),S="#e3f2fd",C="#90caf9",T="#42a5f5",E="#1976d2",M="#1565c0",O="#4fc3f7",R="#29b6f6",P="#03a9f4",k="#0288d1",I="#01579b",L="#81c784",F="#66bb6a",A="#4caf50",Z="#388e3c",j="#2e7d32",D="#1b5e20";const z=["mode","contrastThreshold","tonalOffset"],W={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:u.Z.white,default:u.Z.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},N={text:{primary:u.Z.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:u.Z.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function G(t,e,n,i){const r=i.light||i,o=i.dark||1.5*i;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:"light"===e?t.light=(0,l.$n)(t.main,r):"dark"===e&&(t.dark=(0,l._j)(t.main,o)))}const V=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"],B={textTransform:"uppercase"},H='"Roboto", "Helvetica", "Arial", sans-serif';function $(t,e){const n="function"==typeof e?e(t):e,{fontFamily:a=H,fontSize:s=14,fontWeightLight:l=300,fontWeightRegular:u=400,fontWeightMedium:c=500,fontWeightBold:h=700,htmlFontSize:p=16,allVariants:d,pxToRem:f}=n,g=(0,r.Z)(n,V),m=s/14,y=f||(t=>t/p*m+"rem"),v=(t,e,n,r,o)=>{return(0,i.Z)({fontFamily:a,fontWeight:t,fontSize:y(e),lineHeight:n},a===H?{letterSpacing:(s=r/e,Math.round(1e5*s)/1e5+"em")}:{},o,d);var s},_={h1:v(l,96,1.167,-1.5),h2:v(l,60,1.2,-.5),h3:v(u,48,1.167,0),h4:v(u,34,1.235,.25),h5:v(u,24,1.334,0),h6:v(c,20,1.6,.15),subtitle1:v(u,16,1.75,.15),subtitle2:v(c,14,1.57,.1),body1:v(u,16,1.5,.15),body2:v(u,14,1.43,.15),button:v(c,14,1.75,.4,B),caption:v(u,12,1.66,.4),overline:v(u,12,2.66,1,B)};return(0,o.Z)((0,i.Z)({htmlFontSize:p,pxToRem:y,fontFamily:a,fontSize:s,fontWeightLight:l,fontWeightRegular:u,fontWeightMedium:c,fontWeightBold:h},_),g,{clone:!1})}function K(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,0.2)`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,0.14)`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,0.12)`].join(",")}var X=["none",K(0,2,1,-1,0,1,1,0,0,1,3,0),K(0,3,1,-2,0,2,2,0,0,1,5,0),K(0,3,3,-2,0,3,4,0,0,1,8,0),K(0,2,4,-1,0,4,5,0,0,1,10,0),K(0,3,5,-1,0,5,8,0,0,1,14,0),K(0,3,5,-1,0,6,10,0,0,1,18,0),K(0,4,5,-2,0,7,10,1,0,2,16,1),K(0,5,5,-3,0,8,10,1,0,3,14,2),K(0,5,6,-3,0,9,12,1,0,3,16,2),K(0,6,6,-3,0,10,14,1,0,4,18,3),K(0,6,7,-4,0,11,15,1,0,4,20,3),K(0,7,8,-4,0,12,17,2,0,5,22,4),K(0,7,8,-4,0,13,19,2,0,5,24,4),K(0,7,9,-4,0,14,21,2,0,5,26,4),K(0,8,9,-5,0,15,22,2,0,6,28,5),K(0,8,10,-5,0,16,24,2,0,6,30,5),K(0,8,11,-5,0,17,26,2,0,6,32,5),K(0,9,11,-5,0,18,28,2,0,7,34,6),K(0,9,12,-6,0,19,29,2,0,7,36,6),K(0,10,13,-6,0,20,31,3,0,8,38,7),K(0,10,13,-6,0,21,33,3,0,8,40,7),K(0,10,14,-6,0,22,35,3,0,8,42,7),K(0,11,14,-7,0,23,36,3,0,9,44,8),K(0,11,15,-7,0,24,38,3,0,9,46,8)],Y=n(9508),U={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const q=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];var J=function(t={},...e){const{mixins:n={},palette:V={},transitions:B={},typography:H={}}=t,K=(0,r.Z)(t,q),J=function(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:a=.2}=t,V=(0,r.Z)(t,z),B=t.primary||function(t="light"){return"dark"===t?{main:C,light:S,dark:T}:{main:E,light:T,dark:M}}(e),H=t.secondary||function(t="light"){return"dark"===t?{main:p,light:h,dark:f}:{main:g,light:d,dark:m}}(e),$=t.error||function(t="light"){return"dark"===t?{main:_,light:y,dark:x}:{main:x,light:v,dark:w}}(e),K=t.info||function(t="light"){return"dark"===t?{main:R,light:O,dark:k}:{main:k,light:P,dark:I}}(e),X=t.success||function(t="light"){return"dark"===t?{main:F,light:L,dark:Z}:{main:j,light:A,dark:D}}(e),Y=t.warning||function(t="light"){return"dark"===t?{main:b.Z[400],light:b.Z[300],dark:b.Z[700]}:{main:"#ED6C02",light:b.Z[500],dark:b.Z[900]}}(e);function U(t){return(0,l.mi)(t,N.text.primary)>=n?N.text.primary:W.text.primary}const q=({color:t,name:e,mainShade:n=500,lightShade:r=300,darkShade:o=700})=>{if(!(t=(0,i.Z)({},t)).main&&t[n]&&(t.main=t[n]),!t.hasOwnProperty("main"))throw new Error((0,s.Z)(11,e?` (${e})`:"",n));if("string"!=typeof t.main)throw new Error((0,s.Z)(12,e?` (${e})`:"",JSON.stringify(t.main)));return G(t,"light",r,a),G(t,"dark",o,a),t.contrastText||(t.contrastText=U(t.main)),t},J={dark:N,light:W};return(0,o.Z)((0,i.Z)({common:u.Z,mode:e,primary:q({color:B,name:"primary"}),secondary:q({color:H,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:q({color:$,name:"error"}),warning:q({color:Y,name:"warning"}),info:q({color:K,name:"info"}),success:q({color:X,name:"success"}),grey:c.Z,contrastThreshold:n,getContrastText:U,augmentColor:q,tonalOffset:a},J[e]),V)}(V),Q=(0,a.Z)(t);let tt=(0,o.Z)(Q,{mixins:(et=Q.breakpoints,Q.spacing,nt=n,(0,i.Z)({toolbar:{minHeight:56,[`${et.up("xs")} and (orientation: landscape)`]:{minHeight:48},[et.up("sm")]:{minHeight:64}}},nt)),palette:J,shadows:X.slice(),typography:$(J,H),transitions:(0,Y.ZP)(B),zIndex:(0,i.Z)({},U)});var et,nt;return tt=(0,o.Z)(tt,K),tt=e.reduce(((t,e)=>(0,o.Z)(t,e)),tt),tt}},9508:function(t,e,n){"use strict";n.d(e,{Ui:function(){return a},x9:function(){return s},ZP:function(){return c}});var i=n(808),r=n(5773);const o=["duration","easing","delay"],a={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},s={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function l(t){return`${Math.round(t)}ms`}function u(t){if(!t)return 0;const e=t/36;return Math.round(10*(4+15*e**.25+e/5))}function c(t){const e=(0,r.Z)({},a,t.easing),n=(0,r.Z)({},s,t.duration);return(0,r.Z)({getAutoHeightDuration:u,create:(t=["all"],r={})=>{const{duration:a=n.standard,easing:s=e.easeInOut,delay:u=0}=r;return(0,i.Z)(r,o),(Array.isArray(t)?t:[t]).map((t=>`${t} ${"string"==typeof a?a:l(a)} ${s} ${"string"==typeof u?u:l(u)}`)).join(",")}},t,{easing:e,duration:n})}},3126:function(t,e,n){"use strict";const i=(0,n(4786).Z)();e.Z=i},5603:function(t,e,n){"use strict";n.d(e,{ZP:function(){return j},Dz:function(){return A}});var i=n(5773),r=n(808),o=n(7363),a=n(2015),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,l=(0,a.Z)((function(t){return s.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91})),u=n(2198),c=n(3211),h=n(9232),p=l,d=function(t){return"theme"!==t},f=function(t){return"string"==typeof t&&t.charCodeAt(0)>96?p:d},g=function(t,e,n){var i;if(e){var r=e.shouldForwardProp;i=t.__emotion_forwardProp&&r?function(e){return t.__emotion_forwardProp(e)&&r(e)}:r}return"function"!=typeof i&&n&&(i=t.__emotion_forwardProp),i},m=function t(e,n){var r,a,s=e.__emotion_real===e,l=s&&e.__emotion_base||e;void 0!==n&&(r=n.label,a=n.target);var p=g(e,n,s),d=p||f(l),m=!d("as");return function(){var y=arguments,v=s&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==r&&v.push("label:"+r+";"),null==y[0]||void 0===y[0].raw)v.push.apply(v,y);else{v.push(y[0][0]);for(var _=y.length,x=1;x<_;x++)v.push(y[x],y[0][x])}var w=(0,u.w)((function(t,e,n){var i=m&&t.as||l,r="",s=[],g=t;if(null==t.theme){for(var y in g={},t)g[y]=t[y];g.theme=(0,o.useContext)(u.T)}"string"==typeof t.className?r=(0,c.f)(e.registered,s,t.className):null!=t.className&&(r=t.className+" ");var _=(0,h.O)(v.concat(s),e.registered,g);(0,c.M)(e,_,"string"==typeof i),r+=e.key+"-"+_.name,void 0!==a&&(r+=" "+a);var x=m&&void 0===p?f(i):d,w={};for(var b in t)m&&"as"===b||x(b)&&(w[b]=t[b]);return w.className=r,w.ref=n,(0,o.createElement)(i,w)}));return w.displayName=void 0!==r?r:"Styled("+("string"==typeof l?l:l.displayName||l.name||"Component")+")",w.defaultProps=e.defaultProps,w.__emotion_real=w,w.__emotion_base=l,w.__emotion_styles=v,w.__emotion_forwardProp=p,Object.defineProperty(w,"toString",{value:function(){return"."+a}}),w.withComponent=function(e,r){return t(e,(0,i.Z)({},n,r,{shouldForwardProp:g(w,r,!0)})).apply(void 0,v)},w}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){m[t]=m(t)}));var y=m,v=n(8436),_=n(5546),x=n(8285),w=n(2142);function b(t){const{sx:e,theme:n={}}=t||{};if(!e)return null;if("function"==typeof e)return e(n);if("object"!=typeof e)return e;const i=(0,w.W8)(n.breakpoints),r=Object.keys(i);let o=i;return Object.keys(e).forEach((t=>{const i="function"==typeof(r=e[t])?r(n):r;var r;if("object"==typeof i)if(x.G[t])o=(0,_.Z)(o,(0,x.Z)(t,i,n));else{const e=(0,w.k9)({theme:n},i,(e=>({[t]:e})));!function(...t){const e=t.reduce(((t,e)=>t.concat(Object.keys(e))),[]),n=new Set(e);return t.every((t=>n.size===Object.keys(t).length))}(e,i)?o=(0,_.Z)(o,e):o[t]=b({sx:i,theme:n})}else o=(0,_.Z)(o,(0,x.Z)(t,i,n))})),(0,w.L7)(r,o)}b.filterProps=["sx"];var S=b,C=n(9490);const T=["variant"];function E(t){return 0===t.length}function M(t){const{variant:e}=t,n=(0,r.Z)(t,T);let i=e||"";return Object.keys(n).sort().forEach((e=>{i+="color"===e?E(i)?t[e]:(0,C.Z)(t[e]):`${E(i)?e:(0,C.Z)(e)}${(0,C.Z)(t[e].toString())}`})),i}const O=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],R=["theme"],P=["theme"];function k(t){return 0===Object.keys(t).length}function I(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t}const L=(0,v.Z)();var F=n(3126);const A=I,Z=function(t={}){const{defaultTheme:e=L,rootShouldForwardProp:n=I,slotShouldForwardProp:o=I}=t;return(t,a={})=>{const{name:s,slot:l,skipVariantsResolver:u,skipSx:c,overridesResolver:h}=a,p=(0,r.Z)(a,O),d=void 0!==u?u:l&&"Root"!==l||!1,f=c||!1;let g=I;"Root"===l?g=n:l&&(g=o);const m=function(t,e){return y(t,e)}(t,(0,i.Z)({shouldForwardProp:g,label:void 0},p));return(t,...n)=>{const o=n?n.map((t=>"function"==typeof t?n=>{let{theme:o}=n,a=(0,r.Z)(n,R);return t((0,i.Z)({theme:k(o)?e:o},a))}:t)):[];let a=t;s&&h&&o.push((t=>{const n=k(t.theme)?e:t.theme,i=((t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null)(s,n);return i?h(t,i):null})),s&&!d&&o.push((t=>{const n=k(t.theme)?e:t.theme;return((t,e,n,i)=>{var r,o;const{ownerState:a={}}=t,s=[],l=null==n||null==(r=n.components)||null==(o=r[i])?void 0:o.variants;return l&&l.forEach((n=>{let i=!0;Object.keys(n.props).forEach((e=>{a[e]!==n.props[e]&&t[e]!==n.props[e]&&(i=!1)})),i&&s.push(e[M(n.props)])})),s})(t,((t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const i={};return n.forEach((t=>{const e=M(t.props);i[e]=t.style})),i})(s,n),n,s)})),f||o.push((t=>{const n=k(t.theme)?e:t.theme;return S((0,i.Z)({},t,{theme:n}))}));const l=o.length-n.length;if(Array.isArray(t)&&l>0){const e=new Array(l).fill("");a=[...t,...e],a.raw=[...t.raw,...e]}else"function"==typeof t&&(a=n=>{let{theme:o}=n,a=(0,r.Z)(n,P);return t((0,i.Z)({theme:k(o)?e:o},a))});return m(a,...o)}}}({defaultTheme:F.Z,rootShouldForwardProp:t=>I(t)&&"classes"!==t});var j=Z},7389:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var i=n(5773),r=n(9610);var o=n(3126);function a({props:t,name:e}){return function({props:t,name:e,defaultTheme:n}){const o=function(t){const{theme:e,name:n,props:r}=t;if(!(e&&e.components&&e.components[n]&&e.components[n].defaultProps))return r;const o=(0,i.Z)({},r),a=e.components[n].defaultProps;let s;for(s in a)void 0===o[s]&&(o[s]=a[s]);return o}({theme:(0,r.Z)(n),name:e,props:t});return o}({props:t,name:e,defaultTheme:o.Z})}},1640:function(t,e,n){"use strict";var i=n(9490);e.Z=i.Z},3493:function(t,e,n){"use strict";n.d(e,{Z:function(){return v}});var i=n(5773),r=n(7363),o=n(808),a=(n(3615),n(8944)),s=n(2473),l=n(1640),u=n(7389),c=n(5603),h=n(510);function p(t){return(0,h.Z)("MuiSvgIcon",t)}(0,n(9625).Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var d=n(4246);const f=["children","className","color","component","fontSize","htmlColor","titleAccess","viewBox"],g=(0,c.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,"inherit"!==n.color&&e[`color${(0,l.Z)(n.color)}`],e[`fontSize${(0,l.Z)(n.fontSize)}`]]}})((({theme:t,ownerState:e})=>{var n,i;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:t.transitions.create("fill",{duration:t.transitions.duration.shorter}),fontSize:{inherit:"inherit",small:t.typography.pxToRem(20),medium:t.typography.pxToRem(24),large:t.typography.pxToRem(35)}[e.fontSize],color:null!=(n=null==(i=t.palette[e.color])?void 0:i.main)?n:{action:t.palette.action.active,disabled:t.palette.action.disabled,inherit:void 0}[e.color]}})),m=r.forwardRef((function(t,e){const n=(0,u.Z)({props:t,name:"MuiSvgIcon"}),{children:r,className:c,color:h="inherit",component:m="svg",fontSize:y="medium",htmlColor:v,titleAccess:_,viewBox:x="0 0 24 24"}=n,w=(0,o.Z)(n,f),b=(0,i.Z)({},n,{color:h,component:m,fontSize:y,viewBox:x}),S=(t=>{const{color:e,fontSize:n,classes:i}=t,r={root:["root","inherit"!==e&&`color${(0,l.Z)(e)}`,`fontSize${(0,l.Z)(n)}`]};return(0,s.Z)(r,p,i)})(b);return(0,d.jsxs)(g,(0,i.Z)({as:m,className:(0,a.Z)(S.root,c),ownerState:b,focusable:"false",viewBox:x,color:v,"aria-hidden":!_||void 0,role:_?"img":void 0,ref:e},w,{children:[r,_?(0,d.jsx)("title",{children:_}):null]}))}));m.muiName="SvgIcon";var y=m;function v(t,e){const n=(n,r)=>(0,d.jsx)(y,(0,i.Z)({"data-testid":`${e}Icon`,ref:r},n,{children:t}));return n.muiName=y.muiName,r.memo(r.forwardRef(n))}},9427:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var i=function(t,e=166){let n;function i(...i){clearTimeout(n),n=setTimeout((()=>{t.apply(this,i)}),e)}return i.clear=()=>{clearTimeout(n)},i}},5306:function(t,e,n){"use strict";n.r(e),n.d(e,{capitalize:function(){return i.Z},createChainedFunction:function(){return r},createSvgIcon:function(){return o.Z},debounce:function(){return a.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return u},ownerDocument:function(){return c.Z},ownerWindow:function(){return h.Z},requirePropFactory:function(){return p},setRef:function(){return d},unstable_useEnhancedEffect:function(){return f.Z},unstable_useId:function(){return g},unsupportedProp:function(){return m},useControlled:function(){return y},useEventCallback:function(){return v.Z},useForkRef:function(){return _.Z},useIsFocusVisible:function(){return x.Z}});var i=n(1640),r=function(...t){return t.reduce(((t,e)=>null==e?t:function(...n){t.apply(this,n),e.apply(this,n)}),(()=>{}))},o=n(3493),a=n(9427),s=function(t,e){return()=>null},l=n(7363),u=function(t,e){return l.isValidElement(t)&&-1!==e.indexOf(t.type.muiName)},c=n(2444),h=n(8876);n(5773);var p=function(t,e){return()=>null},d=n(514).Z,f=n(6758),g=function(t){const[e,n]=l.useState(t),i=t||e;return l.useEffect((()=>{null==e&&n(`mui-${Math.round(1e9*Math.random())}`)}),[e]),i},m=function(t,e,n,i,r){return null},y=n(5566).Z,v=n(7151),_=n(1183),x=n(1328)},2444:function(t,e,n){"use strict";var i=n(624);e.Z=i.Z},8876:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=n(624),r=function(t){return(0,i.Z)(t).defaultView||window}},6758:function(t,e,n){"use strict";var i=n(8030);e.Z=i.Z},7151:function(t,e,n){"use strict";var i=n(9805);e.Z=i.Z},1183:function(t,e,n){"use strict";var i=n(7216);e.Z=i.Z},1328:function(t,e,n){"use strict";var i=n(6532);e.Z=i.Z},5491:function(t,e,n){"use strict";const i=n(7363).createContext(null);e.Z=i},2704:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var i=n(7363),r=n(5491);function o(){return i.useContext(r.Z)}},2142:function(t,e,n){"use strict";n.d(e,{VO:function(){return i},k9:function(){return o},W8:function(){return a},L7:function(){return s},P$:function(){return l}}),n(3615);const i={xs:0,sm:600,md:900,lg:1200,xl:1536},r={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${i[t]}px)`};function o(t,e,n){const o=t.theme||{};if(Array.isArray(e)){const t=o.breakpoints||r;return e.reduce(((i,r,o)=>(i[t.up(t.keys[o])]=n(e[o]),i)),{})}if("object"==typeof e){const t=o.breakpoints||r;return Object.keys(e).reduce(((r,o)=>{if(-1!==Object.keys(t.values||i).indexOf(o))r[t.up(o)]=n(e[o],o);else{const t=o;r[t]=e[t]}return r}),{})}return n(e)}function a(t={}){var e;return(null==t||null==(e=t.keys)?void 0:e.reduce(((e,n)=>(e[t.up(n)]={},e)),{}))||{}}function s(t,e){return t.reduce(((t,e)=>{const n=t[e];return 0===Object.keys(n).length&&delete t[e],t}),e)}function l({values:t,base:e}){const n=Object.keys(e);if(0===n.length)return t;let i;return n.reduce(((e,n)=>(e[n]="object"==typeof t?null!=t[n]?t[n]:t[i]:t,i=n,e)),{})}},7818:function(t,e,n){"use strict";n.d(e,{mi:function(){return l},Fq:function(){return u},_j:function(){return c},$n:function(){return h},_4:function(){return p}});var i=n(5118);function r(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function o(t){if(t.type)return t;if("#"===t.charAt(0))return o(function(t){t=t.substr(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&1===n[0].length&&(n=n.map((t=>t+t))),n?`rgb${4===n.length?"a":""}(${n.map(((t,e)=>e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3)).join(", ")})`:""}(t));const e=t.indexOf("("),n=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,i.Z)(9,t));let r,a=t.substring(e+1,t.length-1);if("color"===n){if(a=a.split(" "),r=a.shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,i.Z)(10,r))}else a=a.split(",");return a=a.map((t=>parseFloat(t))),{type:n,values:a,colorSpace:r}}function a(t){const{type:e,colorSpace:n}=t;let{values:i}=t;return-1!==e.indexOf("rgb")?i=i.map(((t,e)=>e<3?parseInt(t,10):t)):-1!==e.indexOf("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),i=-1!==e.indexOf("color")?`${n} ${i.join(" ")}`:`${i.join(", ")}`,`${e}(${i})`}function s(t){let e="hsl"===(t=o(t)).type?o(function(t){t=o(t);const{values:e}=t,n=e[0],i=e[1]/100,r=e[2]/100,s=i*Math.min(r,1-r),l=(t,e=(t+n/30)%12)=>r-s*Math.max(Math.min(e-3,9-e,1),-1);let u="rgb";const c=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===t.type&&(u+="a",c.push(e[3])),a({type:u,values:c})}(t)).values:t.values;return e=e.map((e=>("color"!==t.type&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4))),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function l(t,e){const n=s(t),i=s(e);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)}function u(t,e){return t=o(t),e=r(e),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),"color"===t.type?t.values[3]=`/${e}`:t.values[3]=e,a(t)}function c(t,e){if(t=o(t),e=r(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb")||-1!==t.type.indexOf("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return a(t)}function h(t,e){if(t=o(t),e=r(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(-1!==t.type.indexOf("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return a(t)}function p(t,e=.15){return s(t)>.5?c(t,e):h(t,e)}},8436:function(t,e,n){"use strict";n.d(e,{Z:function(){return c}});var i=n(5773),r=n(808),o=n(3143);const a=["values","unit","step"];var s={borderRadius:4},l=n(4527);const u=["breakpoints","palette","spacing","shape"];var c=function(t={},...e){const{breakpoints:n={},palette:c={},spacing:h,shape:p={}}=t,d=(0,r.Z)(t,u),f=function(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=t,s=(0,r.Z)(t,a),l=Object.keys(e);function u(t){return`@media (min-width:${"number"==typeof e[t]?e[t]:t}${n})`}function c(t,i){const r=l.indexOf(i);return`@media (min-width:${"number"==typeof e[t]?e[t]:t}${n}) and (max-width:${(-1!==r&&"number"==typeof e[l[r]]?e[l[r]]:i)-o/100}${n})`}return(0,i.Z)({keys:l,values:e,up:u,down:function(t){return`@media (max-width:${("number"==typeof e[t]?e[t]:t)-o/100}${n})`},between:c,only:function(t){return l.indexOf(t)+1<l.length?c(t,l[l.indexOf(t)+1]):u(t)},unit:n},s)}(n),g=function(t=8){if(t.mui)return t;const e=(0,l.hB)({spacing:t}),n=(...t)=>(0===t.length?[1]:t).map((t=>{const n=e(t);return"number"==typeof n?`${n}px`:n})).join(" ");return n.mui=!0,n}(h);let m=(0,o.Z)({breakpoints:f,direction:"ltr",components:{},palette:(0,i.Z)({mode:"light"},c),spacing:g,shape:(0,i.Z)({},s,p)},d);return m=e.reduce(((t,e)=>(0,o.Z)(t,e)),m),m}},8285:function(t,e,n){"use strict";n.d(e,{Z:function(){return Y},G:function(){return X}});var i=n(685),r=n(5546),o=function(...t){const e=t.reduce(((t,e)=>(e.filterProps.forEach((n=>{t[n]=e})),t)),{}),n=t=>Object.keys(t).reduce(((n,i)=>e[i]?(0,r.Z)(n,e[i](t)):n),{});return n.propTypes={},n.filterProps=t.reduce(((t,e)=>t.concat(e.filterProps)),[]),n},a=n(4527),s=n(2142);function l(t){return"number"!=typeof t?t:`${t}px solid`}const u=(0,i.Z)({prop:"border",themeKey:"borders",transform:l}),c=(0,i.Z)({prop:"borderTop",themeKey:"borders",transform:l}),h=(0,i.Z)({prop:"borderRight",themeKey:"borders",transform:l}),p=(0,i.Z)({prop:"borderBottom",themeKey:"borders",transform:l}),d=(0,i.Z)({prop:"borderLeft",themeKey:"borders",transform:l}),f=(0,i.Z)({prop:"borderColor",themeKey:"palette"}),g=(0,i.Z)({prop:"borderTopColor",themeKey:"palette"}),m=(0,i.Z)({prop:"borderRightColor",themeKey:"palette"}),y=(0,i.Z)({prop:"borderBottomColor",themeKey:"palette"}),v=(0,i.Z)({prop:"borderLeftColor",themeKey:"palette"}),_=t=>{if(void 0!==t.borderRadius&&null!==t.borderRadius){const e=(0,a.eI)(t.theme,"shape.borderRadius",4,"borderRadius"),n=t=>({borderRadius:(0,a.NA)(e,t)});return(0,s.k9)(t,t.borderRadius,n)}return null};_.propTypes={},_.filterProps=["borderRadius"];var x=o(u,c,h,p,d,f,g,m,y,v,_),w=o((0,i.Z)({prop:"displayPrint",cssProperty:!1,transform:t=>({"@media print":{display:t}})}),(0,i.Z)({prop:"display"}),(0,i.Z)({prop:"overflow"}),(0,i.Z)({prop:"textOverflow"}),(0,i.Z)({prop:"visibility"}),(0,i.Z)({prop:"whiteSpace"})),b=o((0,i.Z)({prop:"flexBasis"}),(0,i.Z)({prop:"flexDirection"}),(0,i.Z)({prop:"flexWrap"}),(0,i.Z)({prop:"justifyContent"}),(0,i.Z)({prop:"alignItems"}),(0,i.Z)({prop:"alignContent"}),(0,i.Z)({prop:"order"}),(0,i.Z)({prop:"flex"}),(0,i.Z)({prop:"flexGrow"}),(0,i.Z)({prop:"flexShrink"}),(0,i.Z)({prop:"alignSelf"}),(0,i.Z)({prop:"justifyItems"}),(0,i.Z)({prop:"justifySelf"}));const S=t=>{if(void 0!==t.gap&&null!==t.gap){const e=(0,a.eI)(t.theme,"spacing",8,"gap"),n=t=>({gap:(0,a.NA)(e,t)});return(0,s.k9)(t,t.gap,n)}return null};S.propTypes={},S.filterProps=["gap"];const C=t=>{if(void 0!==t.columnGap&&null!==t.columnGap){const e=(0,a.eI)(t.theme,"spacing",8,"columnGap"),n=t=>({columnGap:(0,a.NA)(e,t)});return(0,s.k9)(t,t.columnGap,n)}return null};C.propTypes={},C.filterProps=["columnGap"];const T=t=>{if(void 0!==t.rowGap&&null!==t.rowGap){const e=(0,a.eI)(t.theme,"spacing",8,"rowGap"),n=t=>({rowGap:(0,a.NA)(e,t)});return(0,s.k9)(t,t.rowGap,n)}return null};T.propTypes={},T.filterProps=["rowGap"];var E=o(S,C,T,(0,i.Z)({prop:"gridColumn"}),(0,i.Z)({prop:"gridRow"}),(0,i.Z)({prop:"gridAutoFlow"}),(0,i.Z)({prop:"gridAutoColumns"}),(0,i.Z)({prop:"gridAutoRows"}),(0,i.Z)({prop:"gridTemplateColumns"}),(0,i.Z)({prop:"gridTemplateRows"}),(0,i.Z)({prop:"gridTemplateAreas"}),(0,i.Z)({prop:"gridArea"})),M=o((0,i.Z)({prop:"position"}),(0,i.Z)({prop:"zIndex",themeKey:"zIndex"}),(0,i.Z)({prop:"top"}),(0,i.Z)({prop:"right"}),(0,i.Z)({prop:"bottom"}),(0,i.Z)({prop:"left"})),O=o((0,i.Z)({prop:"color",themeKey:"palette"}),(0,i.Z)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),(0,i.Z)({prop:"backgroundColor",themeKey:"palette"})),R=(0,i.Z)({prop:"boxShadow",themeKey:"shadows"});function P(t){return t<=1&&0!==t?100*t+"%":t}const k=(0,i.Z)({prop:"width",transform:P}),I=t=>{if(void 0!==t.maxWidth&&null!==t.maxWidth){const e=e=>{var n,i,r;return{maxWidth:(null==(n=t.theme)||null==(i=n.breakpoints)||null==(r=i.values)?void 0:r[e])||s.VO[e]||P(e)}};return(0,s.k9)(t,t.maxWidth,e)}return null};I.filterProps=["maxWidth"];const L=(0,i.Z)({prop:"minWidth",transform:P}),F=(0,i.Z)({prop:"height",transform:P}),A=(0,i.Z)({prop:"maxHeight",transform:P}),Z=(0,i.Z)({prop:"minHeight",transform:P});(0,i.Z)({prop:"size",cssProperty:"width",transform:P}),(0,i.Z)({prop:"size",cssProperty:"height",transform:P});var j=o(k,I,L,F,A,Z,(0,i.Z)({prop:"boxSizing"}));const D=(0,i.Z)({prop:"fontFamily",themeKey:"typography"}),z=(0,i.Z)({prop:"fontSize",themeKey:"typography"}),W=(0,i.Z)({prop:"fontStyle",themeKey:"typography"}),N=(0,i.Z)({prop:"fontWeight",themeKey:"typography"}),G=(0,i.Z)({prop:"letterSpacing"}),V=(0,i.Z)({prop:"lineHeight"}),B=(0,i.Z)({prop:"textAlign"});var H=o((0,i.Z)({prop:"typography",cssProperty:!1,themeKey:"typography"}),D,z,W,N,G,V,B);const $={borders:x.filterProps,display:w.filterProps,flexbox:b.filterProps,grid:E.filterProps,positions:M.filterProps,palette:O.filterProps,shadows:R.filterProps,sizing:j.filterProps,spacing:a.ZP.filterProps,typography:H.filterProps},K={borders:x,display:w,flexbox:b,grid:E,positions:M,palette:O,shadows:R,sizing:j,spacing:a.ZP,typography:H},X=Object.keys($).reduce(((t,e)=>($[e].forEach((n=>{t[n]=K[e]})),t)),{});var Y=function(t,e,n){const i={[t]:e,theme:n},r=X[t];return r?r(i):{[t]:e}}},5546:function(t,e,n){"use strict";var i=n(3143);e.Z=function(t,e){return e?(0,i.Z)(t,e,{clone:!1}):t}},4527:function(t,e,n){"use strict";n.d(e,{hB:function(){return f},eI:function(){return d},ZP:function(){return x},NA:function(){return g}});var i=n(2142),r=n(685),o=n(5546);const a={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},u=function(t){const e={};return t=>(void 0===e[t]&&(e[t]=(t=>{if(t.length>2){if(!l[t])return[t];t=l[t]}const[e,n]=t.split(""),i=a[e],r=s[n]||"";return Array.isArray(r)?r.map((t=>i+t)):[i+r]})(t)),e[t])}(),c=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"],p=[...c,...h];function d(t,e,n,i){const o=(0,r.D)(t,e)||n;return"number"==typeof o?t=>"string"==typeof t?t:o*t:Array.isArray(o)?t=>"string"==typeof t?t:o[t]:"function"==typeof o?o:()=>{}}function f(t){return d(t,"spacing",8)}function g(t,e){if("string"==typeof e||null==e)return e;const n=t(Math.abs(e));return e>=0?n:"number"==typeof n?-n:`-${n}`}function m(t,e){const n=f(t.theme);return Object.keys(t).map((r=>function(t,e,n,r){if(-1===e.indexOf(n))return null;const o=function(t,e){return n=>t.reduce(((t,i)=>(t[i]=g(e,n),t)),{})}(u(n),r),a=t[n];return(0,i.k9)(t,a,o)}(t,e,r,n))).reduce(o.Z,{})}function y(t){return m(t,c)}function v(t){return m(t,h)}function _(t){return m(t,p)}y.propTypes={},y.filterProps=c,v.propTypes={},v.filterProps=h,_.propTypes={},_.filterProps=p;var x=_},685:function(t,e,n){"use strict";n.d(e,{D:function(){return o}});var i=n(9490),r=n(2142);function o(t,e){return e&&"string"==typeof e?e.split(".").reduce(((t,e)=>t&&t[e]?t[e]:null),t):null}function a(t,e,n,i=n){let r;return r="function"==typeof t?t(n):Array.isArray(t)?t[n]||i:o(t,n)||i,e&&(r=e(r)),r}e.Z=function(t){const{prop:e,cssProperty:n=t.prop,themeKey:s,transform:l}=t,u=t=>{if(null==t[e])return null;const u=t[e],c=o(t.theme,s)||{};return(0,r.k9)(t,u,(t=>{let r=a(c,l,t);return t===r&&"string"==typeof t&&(r=a(c,l,`${e}${"default"===t?"":(0,i.Z)(t)}`,t)),!1===n?r:{[n]:r}}))};return u.propTypes={},u.filterProps=[e],u}},9610:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var i=n(8436),r=n(2704);const o=(0,i.Z)();var a=function(t=o){return function(t=null){const e=(0,r.Z)();return e&&(n=e,0!==Object.keys(n).length)?e:t;var n}(t)}},9490:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=n(5118);function r(t){if("string"!=typeof t)throw new Error((0,i.Z)(7));return t.charAt(0).toUpperCase()+t.slice(1)}},3143:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var i=n(5773);function r(t){return null!==t&&"object"==typeof t&&t.constructor===Object}function o(t,e,n={clone:!0}){const a=n.clone?(0,i.Z)({},t):t;return r(t)&&r(e)&&Object.keys(e).forEach((i=>{"__proto__"!==i&&(r(e[i])&&i in t&&r(t[i])?a[i]=o(t[i],e[i],n):a[i]=e[i])})),a}},5118:function(t,e,n){"use strict";function i(t){let e="https://mui.com/production-error/?code="+t;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}n.d(e,{Z:function(){return i}})},624:function(t,e,n){"use strict";function i(t){return t&&t.ownerDocument||document}n.d(e,{Z:function(){return i}})},514:function(t,e,n){"use strict";function i(t,e){"function"==typeof t?t(e):t&&(t.current=e)}n.d(e,{Z:function(){return i}})},5566:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=n(7363);function r({controlled:t,default:e,name:n,state:r="value"}){const{current:o}=i.useRef(void 0!==t),[a,s]=i.useState(e);return[o?t:a,i.useCallback((t=>{o||s(t)}),[])]}},8030:function(t,e,n){"use strict";var i=n(7363);const r="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;e.Z=r},9805:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var i=n(7363),r=n(8030);function o(t){const e=i.useRef(t);return(0,r.Z)((()=>{e.current=t})),i.useCallback(((...t)=>(0,e.current)(...t)),[])}},7216:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var i=n(7363),r=n(514);function o(t,e){return i.useMemo((()=>null==t&&null==e?null:n=>{(0,r.Z)(t,n),(0,r.Z)(e,n)}),[t,e])}},6532:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});var i=n(7363);let r=!0,o=!1,a=null;const s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function l(t){t.metaKey||t.altKey||t.ctrlKey||(r=!0)}function u(){r=!1}function c(){"hidden"===this.visibilityState&&o&&(r=!0)}function h(){const t=i.useCallback((t=>{var e;null!=t&&((e=t.ownerDocument).addEventListener("keydown",l,!0),e.addEventListener("mousedown",u,!0),e.addEventListener("pointerdown",u,!0),e.addEventListener("touchstart",u,!0),e.addEventListener("visibilitychange",c,!0))}),[]),e=i.useRef(!1);return{isFocusVisibleRef:e,onFocus:function(t){return!!function(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch(t){}return r||function(t){const{type:e,tagName:n}=t;return!("INPUT"!==n||!s[e]||t.readOnly)||"TEXTAREA"===n&&!t.readOnly||!!t.isContentEditable}(e)}(t)&&(e.current=!0,!0)},onBlur:function(){return!!e.current&&(o=!0,window.clearTimeout(a),a=window.setTimeout((()=>{o=!1}),100),e.current=!1,!0)},ref:t}}},8944:function(t,e,n){"use strict";function i(t){var e,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=i(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function r(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=i(t))&&(r&&(r+=" "),r+=e);return r}n.d(e,{Z:function(){return r}})},5839:function(t,e,n){"use strict";var i=n(2097),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(t){return i.isMemo(t)?a:s[t.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,n,i){if("string"!=typeof n){if(f){var r=d(n);r&&r!==f&&t(e,r,i)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=l(e),g=l(n),m=0;m<a.length;++m){var y=a[m];if(!(o[y]||i&&i[y]||g&&g[y]||s&&s[y])){var v=p(n,y);try{u(e,y,v)}catch(t){}}}}return e}},4173:function(t,e){"use strict";var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case c:case h:case o:case s:case a:case d:return t;default:switch(t=t&&t.$$typeof){case u:case p:case m:case g:case l:return t;default:return e}}case r:return e}}}function b(t){return w(t)===h}e.AsyncMode=c,e.ConcurrentMode=h,e.ContextConsumer=u,e.ContextProvider=l,e.Element=i,e.ForwardRef=p,e.Fragment=o,e.Lazy=m,e.Memo=g,e.Portal=r,e.Profiler=s,e.StrictMode=a,e.Suspense=d,e.isAsyncMode=function(t){return b(t)||w(t)===c},e.isConcurrentMode=b,e.isContextConsumer=function(t){return w(t)===u},e.isContextProvider=function(t){return w(t)===l},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return w(t)===p},e.isFragment=function(t){return w(t)===o},e.isLazy=function(t){return w(t)===m},e.isMemo=function(t){return w(t)===g},e.isPortal=function(t){return w(t)===r},e.isProfiler=function(t){return w(t)===s},e.isStrictMode=function(t){return w(t)===a},e.isSuspense=function(t){return w(t)===d},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===o||t===h||t===s||t===a||t===d||t===f||"object"==typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===g||t.$$typeof===l||t.$$typeof===u||t.$$typeof===p||t.$$typeof===v||t.$$typeof===_||t.$$typeof===x||t.$$typeof===y)},e.typeOf=w},2097:function(t,e,n){"use strict";t.exports=n(4173)},8898:function(t,e){e.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?r-1:0,p=n?-1:1,d=t[e+h];for(h+=p,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+t[e+h],h+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+t[e+h],h+=p,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,i),o-=u}return(d?-1:1)*a*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var a,s,l,u=8*o-r-1,c=(1<<u)-1,h=c>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,f=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*l-1)*Math.pow(2,r),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;t[n+d]=255&s,d+=f,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;t[n+d]=255&a,d+=f,a/=256,u-=8);t[n+d-f]|=128*g}},2525:function(t){"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function r(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var a,s,l=r(t),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(l[c]=a[c]);if(e){s=e(a);for(var h=0;h<s.length;h++)i.call(a,s[h])&&(l[s[h]]=a[s[h]])}}return l}},8882:function(t,e,n){"use strict";t.exports=r;var i=n(8898);function r(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var o=4294967296,a=1/o,s="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function l(t){return t.type===r.Bytes?t.readVarint()+t.pos:t.pos+1}function u(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function c(t,e,n){var i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=t;r--)n.buf[r+i]=n.buf[r]}function h(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function f(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function g(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function m(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function y(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function v(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function _(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function x(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function w(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function b(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}r.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,o=this.pos;this.type=7&i,t(r,e,this),this.pos===o&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=x(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=b(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=x(this.buf,this.pos)+x(this.buf,this.pos+4)*o;return this.pos+=8,t},readSFixed64:function(){var t=x(this.buf,this.pos)+b(this.buf,this.pos+4)*o;return this.pos+=8,t},readFloat:function(){var t=i.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=i.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,i=this.buf;return e=127&(n=i[this.pos++]),n<128?e:(e|=(127&(n=i[this.pos++]))<<7,n<128?e:(e|=(127&(n=i[this.pos++]))<<14,n<128?e:(e|=(127&(n=i[this.pos++]))<<21,n<128?e:function(t,e,n){var i,r,o=n.buf;if(i=(112&(r=o[n.pos++]))>>4,r<128)return u(t,i,e);if(i|=(127&(r=o[n.pos++]))<<3,r<128)return u(t,i,e);if(i|=(127&(r=o[n.pos++]))<<10,r<128)return u(t,i,e);if(i|=(127&(r=o[n.pos++]))<<17,r<128)return u(t,i,e);if(i|=(127&(r=o[n.pos++]))<<24,r<128)return u(t,i,e);if(i|=(1&(r=o[n.pos++]))<<31,r<128)return u(t,i,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=i[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&s?function(t,e,n){return s.decode(t.subarray(e,n))}(this.buf,e,t):function(t,e,n){for(var i="",r=e;r<n;){var o,a,s,l=t[r],u=null,c=l>239?4:l>223?3:l>191?2:1;if(r+c>n)break;1===c?l<128&&(u=l):2===c?128==(192&(o=t[r+1]))&&(u=(31&l)<<6|63&o)<=127&&(u=null):3===c?(o=t[r+1],a=t[r+2],128==(192&o)&&128==(192&a)&&((u=(15&l)<<12|(63&o)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(o=t[r+1],a=t[r+2],s=t[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,i+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),i+=String.fromCharCode(u),r+=c}return i}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==r.Bytes)return t.push(this.readVarint(e));var n=l(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==r.Bytes)return t.push(this.readSVarint());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==r.Bytes)return t.push(this.readBoolean());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==r.Bytes)return t.push(this.readFloat());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==r.Bytes)return t.push(this.readDouble());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==r.Bytes)return t.push(this.readFixed32());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==r.Bytes)return t.push(this.readSFixed32());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==r.Bytes)return t.push(this.readFixed64());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==r.Bytes)return t.push(this.readSFixed64());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===r.Varint)for(;this.buf[this.pos++]>127;);else if(e===r.Bytes)this.pos=this.readVarint()+this.pos;else if(e===r.Fixed32)this.pos+=4;else{if(e!==r.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),w(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),w(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),w(this.buf,-1&t,this.pos),w(this.buf,Math.floor(t*a),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),w(this.buf,-1&t,this.pos),w(this.buf,Math.floor(t*a),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,i;if(t>=0?(n=t%4294967296|0,i=t/4294967296|0):(i=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,i=i+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(i,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var i,r,o=0;o<e.length;o++){if((i=e.charCodeAt(o))>55295&&i<57344){if(!r){i>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):r=i;continue}if(i<56320){t[n++]=239,t[n++]=191,t[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(t[n++]=239,t[n++]=191,t[n++]=189,r=null);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&c(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),i.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),i.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var i=this.pos-n;i>=128&&c(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,n){this.writeTag(t,r.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,h,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,p,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,g,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,d,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,f,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,m,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,y,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,v,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,_,e)},writeBytesField:function(t,e){this.writeTag(t,r.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,r.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,r.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,r.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},8772:function(t,e,n){"use strict";var i=n(331);function r(){}function o(){}o.resetWarningCache=r,t.exports=function(){function t(t,e,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},3615:function(t,e,n){t.exports=n(8772)()},331:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8476:function(t){t.exports=function(){"use strict";function t(t,i,r,o,a){!function t(n,i,r,o,a){for(;o>r;){if(o-r>600){var s=o-r+1,l=i-r+1,u=Math.log(s),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);t(n,i,Math.max(r,Math.floor(i-l*c/s+h)),Math.min(o,Math.floor(i+(s-l)*c/s+h)),a)}var p=n[i],d=r,f=o;for(e(n,r,i),a(n[o],p)>0&&e(n,r,o);d<f;){for(e(n,d,f),d++,f--;a(n[d],p)<0;)d++;for(;a(n[f],p)>0;)f--}0===a(n[r],p)?e(n,r,f):e(n,++f,o),f<=i&&(r=f+1),i<=f&&(o=f-1)}}(t,i,r||0,o||t.length-1,a||n)}function e(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function n(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,i,r){r||(r=f(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o=e;o<n;o++){var a=t.children[o];s(r,t.leaf?i(a):a)}return r}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function d(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function f(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,n,i,r,o){for(var a=[n,i];a.length;)if(!((i=a.pop())-(n=a.pop())<=r)){var s=n+Math.ceil((i-n)/r/2)*r;t(e,s,n,i,o),a.push(n,s,s,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,n=[];if(!d(t,e))return n;for(var i=this.toBBox,r=[];e;){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?i(a):a;d(t,s)&&(e.leaf?n.push(a):p(t,s)?this._all(a,n):r.push(a))}e=r.pop()}return n},i.prototype.collides=function(t){var e=this.data;if(!d(t,e))return!1;for(var n=[];e;){for(var i=0;i<e.children.length;i++){var r=e.children[i],o=e.leaf?this.toBBox(r):r;if(d(t,o)){if(e.leaf||p(t,o))return!0;n.push(r)}}e=n.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=f([]),this},i.prototype.remove=function(t,e){if(!t)return this;for(var n,i,o,a=this.data,s=this.toBBox(t),l=[],u=[];a||l.length;){if(a||(a=l.pop(),i=l[l.length-1],n=u.pop(),o=!0),a.leaf){var c=r(t,a.children,e);if(-1!==c)return a.children.splice(c,1),l.push(a),this._condense(l),this}o||a.leaf||!p(a,s)?i?(n++,a=i.children[n],o=!1):a=null:(l.push(a),u.push(n),n=0,i=a,a=a.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},i.prototype._build=function(t,e,n,i){var r,a=n-e+1,s=this._maxEntries;if(a<=s)return o(r=f(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,i-1))),(r=f([])).leaf=!1,r.height=i;var l=Math.ceil(a/s),u=l*Math.ceil(Math.sqrt(s));g(t,e,n,u,this.compareMinX);for(var c=e;c<=n;c+=u){var h=Math.min(c+u-1,n);g(t,c,h,l,this.compareMinY);for(var p=c;p<=h;p+=l){var d=Math.min(p+l-1,h);r.children.push(this._build(t,p,d,i-1))}}return o(r,this.toBBox),r},i.prototype._chooseSubtree=function(t,e,n,i){for(;i.push(e),!e.leaf&&i.length-1!==n;){for(var r=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var l=e.children[s],u=c(l),h=(p=t,d=l,(Math.max(d.maxX,p.maxX)-Math.min(d.minX,p.minX))*(Math.max(d.maxY,p.maxY)-Math.min(d.minY,p.minY))-u);h<o?(o=h,r=u<r?u:r,a=l):h===o&&u<r&&(r=u,a=l)}e=a||e.children[0]}var p,d;return e},i.prototype._insert=function(t,e,n){var i=n?t:this.toBBox(t),r=[],o=this._chooseSubtree(i,this.data,e,r);for(o.children.push(t),s(o,i);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(i,r,e)},i.prototype._split=function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var a=this._chooseSplitIndex(n,r,i),s=f(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,o(n,this.toBBox),o(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},i.prototype._splitRoot=function(t,e){this.data=f([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,n){for(var i,r,o,s,l,u,h,p=1/0,d=1/0,f=e;f<=n-e;f++){var g=a(t,0,f,this.toBBox),m=a(t,f,n,this.toBBox),y=(r=g,o=m,void 0,void 0,void 0,void 0,s=Math.max(r.minX,o.minX),l=Math.max(r.minY,o.minY),u=Math.min(r.maxX,o.maxX),h=Math.min(r.maxY,o.maxY),Math.max(0,u-s)*Math.max(0,h-l)),v=c(g)+c(m);y<p?(p=y,i=f,d=v<d?v:d):y===p&&v<d&&(d=v,i=f)}return i||n-e},i.prototype._chooseSplitAxis=function(t,e,n){var i=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},i.prototype._allDistMargin=function(t,e,n,i){t.children.sort(i);for(var r=this.toBBox,o=a(t,0,e,r),l=a(t,n-e,n,r),u=h(o)+h(l),c=e;c<n-e;c++){var p=t.children[c];s(o,t.leaf?r(p):p),u+=h(o)}for(var d=n-e-1;d>=e;d--){var f=t.children[d];s(l,t.leaf?r(f):f),u+=h(l)}return u},i.prototype._adjustParentBBoxes=function(t,e,n){for(var i=n;i>=0;i--)s(e[i],t)},i.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},i}()},1426:function(t,e,n){"use strict";n(2525);var i=n(7363),r=60103;if("function"==typeof Symbol&&Symbol.for){var o=Symbol.for;r=o("react.element"),o("react.fragment")}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,n){var i,o={},u=null,c=null;for(i in void 0!==n&&(u=""+n),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(c=e.ref),e)s.call(e,i)&&!l.hasOwnProperty(i)&&(o[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===o[i]&&(o[i]=e[i]);return{$$typeof:r,type:t,key:u,ref:c,props:o,_owner:a.current}}e.jsx=u,e.jsxs=u},4246:function(t,e,n){"use strict";t.exports=n(1426)},7363:function(t){"use strict";t.exports=React},5773:function(t,e,n){"use strict";function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i.apply(this,arguments)}n.d(e,{Z:function(){return i}})},808:function(t,e,n){"use strict";function i(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}n.d(e,{Z:function(){return i}})}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){"use strict";var t=n(7363),e=n.n(t),i=ReactDOM,r=n.n(i),o=n(808),a=n(5773),s=n(3615),l=n.n(s),u=n(8944),c=n(2473),h=n(7389),p=n(5603),d=n(4246);const f={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"};var g=n(510),m=n(9625);function y(t){return(0,g.Z)("MuiScopedCssBaseline",t)}(0,m.Z)("MuiScopedCssBaseline",["root"]);const v=["className","component"],_=(0,p.ZP)("div",{name:"MuiScopedCssBaseline",slot:"Root",overridesResolver:(t,e)=>e.root})((({theme:t})=>(0,a.Z)({},f,(t=>(0,a.Z)({color:t.palette.text.primary},t.typography.body1,{backgroundColor:t.palette.background.default,"@media print":{backgroundColor:t.palette.common.white}}))(t),{"& *, & *::before, & *::after":{boxSizing:"inherit"},"& strong, & b":{fontWeight:t.typography.fontWeightBold}}))),x=t.forwardRef((function(t,e){const n=(0,h.Z)({props:t,name:"MuiScopedCssBaseline"}),{className:i,component:r="div"}=n,s=(0,o.Z)(n,v),l=(0,a.Z)({},n,{component:r}),p=(t=>{const{classes:e}=t;return(0,c.Z)({root:["root"]},y,e)})(l);return(0,d.jsx)(_,(0,a.Z)({as:r,className:(0,u.Z)(p.root,i),ref:e,ownerState:l},s))}));var w=x,b=n(2198);const S=(0,n(8262).Z)({key:"css",prepend:!0});var C=n(5491),T=n(2704),E="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",M=function(e){const{children:n,theme:i}=e,r=(0,T.Z)(),o=t.useMemo((()=>{const t=null===r?i:function(t,e){return"function"==typeof e?e(t):(0,a.Z)({},t,e)}(r,i);return null!=t&&(t[E]=null!==r),t}),[i,r]);return(0,d.jsx)(C.Z.Provider,{value:o,children:n})},O=n(9610);function R(t){const e=(0,O.Z)();return(0,d.jsx)(b.T.Provider,{value:"object"==typeof e?e:{},children:t.children})}var P=n(4786),k=n(7818),I=n(3246),L=n(710),F=n(7464);const A={ValidTimes:async()=>{const t=["/validtime.json","/approvedtime.json"].map((t=>fetch("https://opendata-download-metfcst.smhi.se/api/category/pmp3g/version/2"+t))),[e,n]=await Promise.allSettled(t);if("rejected"==n.status)throw new Error("failed to fetch approved time for weather");if("rejected"==e.status)throw new Error("failed to fetch approved time for weather");const[i,r]=await Promise.all([e.value.json(),n.value.json()]);return{reference:new Date(r.referenceTime),validTimes:i.validTime.map((t=>new Date(t)))}}};var Z=n(3493),j=(0,Z.Z)((0,d.jsx)("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"}),"Layers"),D=n(1183),z=n(7151),W=n(1328);function N(t,e){return N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},N(t,e)}function G(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,N(t,e)}var V=e().createContext(null);function B(e,n){var i=Object.create(null);return e&&t.Children.map(e,(function(t){return t})).forEach((function(e){i[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),i}function H(t,e,n){return null!=n[e]?n[e]:t.props[e]}function $(e,n,i){var r=B(e.children),o=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var i,r=Object.create(null),o=[];for(var a in t)a in e?o.length&&(r[a]=o,o=[]):o.push(a);var s={};for(var l in e){if(r[l])for(i=0;i<r[l].length;i++){var u=r[l][i];s[r[l][i]]=n(u)}s[l]=n(l)}for(i=0;i<o.length;i++)s[o[i]]=n(o[i]);return s}(n,r);return Object.keys(o).forEach((function(a){var s=o[a];if((0,t.isValidElement)(s)){var l=a in n,u=a in r,c=n[a],h=(0,t.isValidElement)(c)&&!c.props.in;!u||l&&!h?u||!l||h?u&&l&&(0,t.isValidElement)(c)&&(o[a]=(0,t.cloneElement)(s,{onExited:i.bind(null,s),in:c.props.in,exit:H(s,"exit",e),enter:H(s,"enter",e)})):o[a]=(0,t.cloneElement)(s,{in:!1}):o[a]=(0,t.cloneElement)(s,{onExited:i.bind(null,s),in:!0,exit:H(s,"exit",e),enter:H(s,"enter",e)})}})),o}var K=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},X=function(n){function i(t,e){var i,r=(i=n.call(this,t,e)||this).handleExited.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i));return i.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},i}G(i,n);var r=i.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,n){var i,r,o=n.children,a=n.handleExited;return{children:n.firstRender?(i=e,r=a,B(i.children,(function(e){return(0,t.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:H(e,"appear",i),enter:H(e,"enter",i),exit:H(e,"exit",i)})}))):$(e,o,a),firstRender:!1}},r.handleExited=function(t,e){var n=B(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=(0,a.Z)({},e.children);return delete n[t.key],{children:n}})))},r.render=function(){var t=this.props,n=t.component,i=t.childFactory,r=(0,o.Z)(t,["component","childFactory"]),a=this.state.contextValue,s=K(this.state.children).map(i);return delete r.appear,delete r.enter,delete r.exit,null===n?e().createElement(V.Provider,{value:a},s):e().createElement(V.Provider,{value:a},e().createElement(n,r,s))},i}(e().Component);X.propTypes={},X.defaultProps={component:"div",childFactory:function(t){return t}};var Y=X,U=(n(5839),n(3211)),q=n(9232),J=n(2506),Q=(0,b.w)((function(e,n){var i=e.styles,r=(0,q.O)([i],void 0,(0,t.useContext)(b.T)),o=(0,t.useRef)();return(0,t.useLayoutEffect)((function(){var t=n.key+"-global",e=new J.m({key:t,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),i=!1,a=document.querySelector('style[data-emotion="'+t+" "+r.name+'"]');return n.sheet.tags.length&&(e.before=n.sheet.tags[0]),null!==a&&(i=!0,a.setAttribute("data-emotion",t),e.hydrate([a])),o.current=[e,i],function(){e.flush()}}),[n]),(0,t.useLayoutEffect)((function(){var t=o.current,e=t[0];if(t[1])t[1]=!1;else{if(void 0!==r.next&&(0,U.M)(n,r.next,!0),e.tags.length){var i=e.tags[e.tags.length-1].nextElementSibling;e.before=i,e.flush()}n.insert("",r,e,!1)}}),[n,r.name]),null}));function tt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,q.O)(e)}var et=function(){var t=tt.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},nt=(0,m.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);const it=["center","classes","className"];let rt,ot,at,st,lt=t=>t;const ut=et(rt||(rt=lt`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),ct=et(ot||(ot=lt`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),ht=et(at||(at=lt`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),pt=(0,p.ZP)("span",{name:"MuiTouchRipple",slot:"Root",skipSx:!0})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),dt=(0,p.ZP)((function(e){const{className:n,classes:i,pulsate:r=!1,rippleX:o,rippleY:a,rippleSize:s,in:l,onExited:c,timeout:h}=e,[p,f]=t.useState(!1),g=(0,u.Z)(n,i.ripple,i.rippleVisible,r&&i.ripplePulsate),m={width:s,height:s,top:-s/2+a,left:-s/2+o},y=(0,u.Z)(i.child,p&&i.childLeaving,r&&i.childPulsate);return l||p||f(!0),t.useEffect((()=>{if(!l&&null!=c){const t=setTimeout(c,h);return()=>{clearTimeout(t)}}}),[c,l,h]),(0,d.jsx)("span",{className:g,style:m,children:(0,d.jsx)("span",{className:y})})}),{name:"MuiTouchRipple",slot:"Ripple"})(st||(st=lt`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),nt.rippleVisible,ut,550,(({theme:t})=>t.transitions.easing.easeInOut),nt.ripplePulsate,(({theme:t})=>t.transitions.duration.shorter),nt.child,nt.childLeaving,ct,550,(({theme:t})=>t.transitions.easing.easeInOut),nt.childPulsate,ht,(({theme:t})=>t.transitions.easing.easeInOut)),ft=t.forwardRef((function(e,n){const i=(0,h.Z)({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:s={},className:l}=i,c=(0,o.Z)(i,it),[p,f]=t.useState([]),g=t.useRef(0),m=t.useRef(null);t.useEffect((()=>{m.current&&(m.current(),m.current=null)}),[p]);const y=t.useRef(!1),v=t.useRef(null),_=t.useRef(null),x=t.useRef(null);t.useEffect((()=>()=>{clearTimeout(v.current)}),[]);const w=t.useCallback((t=>{const{pulsate:e,rippleX:n,rippleY:i,rippleSize:r,cb:o}=t;f((t=>[...t,(0,d.jsx)(dt,{classes:{ripple:(0,u.Z)(s.ripple,nt.ripple),rippleVisible:(0,u.Z)(s.rippleVisible,nt.rippleVisible),ripplePulsate:(0,u.Z)(s.ripplePulsate,nt.ripplePulsate),child:(0,u.Z)(s.child,nt.child),childLeaving:(0,u.Z)(s.childLeaving,nt.childLeaving),childPulsate:(0,u.Z)(s.childPulsate,nt.childPulsate)},timeout:550,pulsate:e,rippleX:n,rippleY:i,rippleSize:r},g.current)])),g.current+=1,m.current=o}),[s]),b=t.useCallback(((t={},e={},n)=>{const{pulsate:i=!1,center:o=r||e.pulsate,fakeElement:a=!1}=e;if("mousedown"===t.type&&y.current)return void(y.current=!1);"touchstart"===t.type&&(y.current=!0);const s=a?null:x.current,l=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let u,c,h;if(o||0===t.clientX&&0===t.clientY||!t.clientX&&!t.touches)u=Math.round(l.width/2),c=Math.round(l.height/2);else{const{clientX:e,clientY:n}=t.touches?t.touches[0]:t;u=Math.round(e-l.left),c=Math.round(n-l.top)}if(o)h=Math.sqrt((2*l.width**2+l.height**2)/3),h%2==0&&(h+=1);else{const t=2*Math.max(Math.abs((s?s.clientWidth:0)-u),u)+2,e=2*Math.max(Math.abs((s?s.clientHeight:0)-c),c)+2;h=Math.sqrt(t**2+e**2)}t.touches?null===_.current&&(_.current=()=>{w({pulsate:i,rippleX:u,rippleY:c,rippleSize:h,cb:n})},v.current=setTimeout((()=>{_.current&&(_.current(),_.current=null)}),80)):w({pulsate:i,rippleX:u,rippleY:c,rippleSize:h,cb:n})}),[r,w]),S=t.useCallback((()=>{b({},{pulsate:!0})}),[b]),C=t.useCallback(((t,e)=>{if(clearTimeout(v.current),"touchend"===t.type&&_.current)return _.current(),_.current=null,void(v.current=setTimeout((()=>{C(t,e)})));_.current=null,f((t=>t.length>0?t.slice(1):t)),m.current=e}),[]);return t.useImperativeHandle(n,(()=>({pulsate:S,start:b,stop:C})),[S,b,C]),(0,d.jsx)(pt,(0,a.Z)({className:(0,u.Z)(s.root,nt.root,l),ref:x},c,{children:(0,d.jsx)(Y,{component:null,exit:!0,children:p})}))}));var gt=ft;function mt(t){return(0,g.Z)("MuiButtonBase",t)}var yt=(0,m.Z)("MuiButtonBase",["root","disabled","focusVisible"]);const vt=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"],_t=(0,p.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${yt.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),xt=t.forwardRef((function(e,n){const i=(0,h.Z)({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:s=!1,children:l,className:p,component:f="button",disabled:g=!1,disableRipple:m=!1,disableTouchRipple:y=!1,focusRipple:v=!1,LinkComponent:_="a",onBlur:x,onClick:w,onContextMenu:b,onDragLeave:S,onFocus:C,onFocusVisible:T,onKeyDown:E,onKeyUp:M,onMouseDown:O,onMouseLeave:R,onMouseUp:P,onTouchEnd:k,onTouchMove:I,onTouchStart:L,tabIndex:F=0,TouchRippleProps:A,type:Z}=i,j=(0,o.Z)(i,vt),N=t.useRef(null),G=t.useRef(null),{isFocusVisibleRef:V,onFocus:B,onBlur:H,ref:$}=(0,W.Z)(),[K,X]=t.useState(!1);function Y(t,e,n=y){return(0,z.Z)((i=>(e&&e(i),!n&&G.current&&G.current[t](i),!0)))}g&&K&&X(!1),t.useImperativeHandle(r,(()=>({focusVisible:()=>{X(!0),N.current.focus()}})),[]),t.useEffect((()=>{K&&v&&!m&&G.current.pulsate()}),[m,v,K]);const U=Y("start",O),q=Y("stop",b),J=Y("stop",S),Q=Y("stop",P),tt=Y("stop",(t=>{K&&t.preventDefault(),R&&R(t)})),et=Y("start",L),nt=Y("stop",k),it=Y("stop",I),rt=Y("stop",(t=>{H(t),!1===V.current&&X(!1),x&&x(t)}),!1),ot=(0,z.Z)((t=>{N.current||(N.current=t.currentTarget),B(t),!0===V.current&&(X(!0),T&&T(t)),C&&C(t)})),at=()=>{const t=N.current;return f&&"button"!==f&&!("A"===t.tagName&&t.href)},st=t.useRef(!1),lt=(0,z.Z)((t=>{v&&!st.current&&K&&G.current&&" "===t.key&&(st.current=!0,G.current.stop(t,(()=>{G.current.start(t)}))),t.target===t.currentTarget&&at()&&" "===t.key&&t.preventDefault(),E&&E(t),t.target===t.currentTarget&&at()&&"Enter"===t.key&&!g&&(t.preventDefault(),w&&w(t))})),ut=(0,z.Z)((t=>{v&&" "===t.key&&G.current&&K&&!t.defaultPrevented&&(st.current=!1,G.current.stop(t,(()=>{G.current.pulsate(t)}))),M&&M(t),w&&t.target===t.currentTarget&&at()&&" "===t.key&&!t.defaultPrevented&&w(t)}));let ct=f;"button"===ct&&(j.href||j.to)&&(ct=_);const ht={};"button"===ct?(ht.type=void 0===Z?"button":Z,ht.disabled=g):(j.href||j.to||(ht.role="button"),g&&(ht["aria-disabled"]=g));const pt=(0,D.Z)($,N),dt=(0,D.Z)(n,pt),[ft,yt]=t.useState(!1);t.useEffect((()=>{yt(!0)}),[]);const xt=ft&&!m&&!g,wt=(0,a.Z)({},i,{centerRipple:s,component:f,disabled:g,disableRipple:m,disableTouchRipple:y,focusRipple:v,tabIndex:F,focusVisible:K}),bt=(t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:i,classes:r}=t,o={root:["root",e&&"disabled",n&&"focusVisible"]},a=(0,c.Z)(o,mt,r);return n&&i&&(a.root+=` ${i}`),a})(wt);return(0,d.jsxs)(_t,(0,a.Z)({as:ct,className:(0,u.Z)(bt.root,p),ownerState:wt,onBlur:rt,onClick:w,onContextMenu:q,onFocus:ot,onKeyDown:lt,onKeyUp:ut,onMouseDown:U,onMouseLeave:tt,onMouseUp:Q,onDragLeave:J,onTouchEnd:nt,onTouchMove:it,onTouchStart:et,ref:dt,tabIndex:g?-1:F,type:Z},ht,j,{children:[l,xt?(0,d.jsx)(gt,(0,a.Z)({ref:G,center:s},A)):null]}))}));var wt=xt,bt=n(1640);function St(t){return(0,g.Z)("MuiFab",t)}var Ct=(0,m.Z)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge"]);const Tt=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],Et=(0,p.ZP)(wt,{name:"MuiFab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${(0,bt.Z)(n.size)}`],"inherit"===n.color&&e.colorInherit,"primary"===n.color&&e.primary,"secondary"===n.color&&e.secondary]}})((({theme:t,ownerState:e})=>(0,a.Z)({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:t.shadows[6],"&:active":{boxShadow:t.shadows[12]},color:t.palette.getContrastText(t.palette.grey[300]),backgroundColor:t.palette.grey[300],"&:hover":{backgroundColor:t.palette.grey.A100,"@media (hover: none)":{backgroundColor:t.palette.grey[300]},textDecoration:"none"},[`&.${Ct.focusVisible}`]:{boxShadow:t.shadows[6]},[`&.${Ct.disabled}`]:{color:t.palette.action.disabled,boxShadow:t.shadows[0],backgroundColor:t.palette.action.disabledBackground}},"small"===e.size&&{width:40,height:40},"medium"===e.size&&{width:48,height:48},"extended"===e.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===e.variant&&"small"===e.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===e.variant&&"medium"===e.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===e.color&&{color:"inherit"})),(({theme:t,ownerState:e})=>(0,a.Z)({},"primary"===e.color&&{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,"&:hover":{backgroundColor:t.palette.primary.dark,"@media (hover: none)":{backgroundColor:t.palette.primary.main}}},"secondary"===e.color&&{color:t.palette.secondary.contrastText,backgroundColor:t.palette.secondary.main,"&:hover":{backgroundColor:t.palette.secondary.dark,"@media (hover: none)":{backgroundColor:t.palette.secondary.main}}}))),Mt=t.forwardRef((function(t,e){const n=(0,h.Z)({props:t,name:"MuiFab"}),{children:i,className:r,color:s="default",component:l="button",disabled:p=!1,disableFocusRipple:f=!1,focusVisibleClassName:g,size:m="large",variant:y="circular"}=n,v=(0,o.Z)(n,Tt),_=(0,a.Z)({},n,{color:s,component:l,disabled:p,disableFocusRipple:f,size:m,variant:y}),x=(t=>{const{color:e,variant:n,classes:i,size:r}=t,o={root:["root",n,`size${(0,bt.Z)(r)}`,"inherit"===e&&"colorInherit","primary"===e&&"primary","secondary"===e&&"secondary"]};return(0,c.Z)(o,St,i)})(_);return(0,d.jsx)(Et,(0,a.Z)({className:(0,u.Z)(x.root,r),component:l,disabled:p,focusRipple:!f,focusVisibleClassName:(0,u.Z)(x.focusVisible,g),ownerState:_,ref:e},v,{children:i}))}));var Ot=Mt,Rt=n(8285);const Pt=["sx"];function kt(t){const{sx:e}=t,n=(0,o.Z)(t,Pt),{systemProps:i,otherProps:r}=(t=>{const e={systemProps:{},otherProps:{}};return Object.keys(t).forEach((n=>{Rt.G[n]?e.systemProps[n]=t[n]:e.otherProps[n]=t[n]})),e})(n);return(0,a.Z)({},r,{sx:(0,a.Z)({},i,e)})}function It(t){return(0,g.Z)("MuiTypography",t)}(0,m.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Lt=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Ft=(0,p.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],"inherit"!==n.align&&e[`align${(0,bt.Z)(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})((({theme:t,ownerState:e})=>(0,a.Z)({margin:0},e.variant&&t.typography[e.variant],"inherit"!==e.align&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16}))),At={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Zt={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},jt=t.forwardRef((function(t,e){const n=(0,h.Z)({props:t,name:"MuiTypography"}),i=(t=>Zt[t]||t)(n.color),r=kt((0,a.Z)({},n,{color:i})),{align:s="inherit",className:l,component:p,gutterBottom:f=!1,noWrap:g=!1,paragraph:m=!1,variant:y="body1",variantMapping:v=At}=r,_=(0,o.Z)(r,Lt),x=(0,a.Z)({},r,{align:s,color:i,className:l,component:p,gutterBottom:f,noWrap:g,paragraph:m,variant:y,variantMapping:v}),w=p||(m?"p":v[y]||At[y])||"span",b=(t=>{const{align:e,gutterBottom:n,noWrap:i,paragraph:r,variant:o,classes:a}=t,s={root:["root",o,"inherit"!==t.align&&`align${(0,bt.Z)(e)}`,n&&"gutterBottom",i&&"noWrap",r&&"paragraph"]};return(0,c.Z)(s,It,a)})(x);return(0,d.jsx)(Ft,(0,a.Z)({as:w,ref:e,ownerState:x,className:(0,u.Z)(b.root,l)},_))}));var Dt=jt;function zt(t){return(0,g.Z)("MuiPaper",t)}(0,m.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Wt=["className","component","elevation","square","variant"],Nt=t=>{let e;return e=t<1?5.11916*t**2:4.5*Math.log(t+1)+2,(e/100).toFixed(2)},Gt=(0,p.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,"elevation"===n.variant&&e[`elevation${n.elevation}`]]}})((({theme:t,ownerState:e})=>(0,a.Z)({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},"outlined"===e.variant&&{border:`1px solid ${t.palette.divider}`},"elevation"===e.variant&&(0,a.Z)({boxShadow:t.shadows[e.elevation]},"dark"===t.palette.mode&&{backgroundImage:`linear-gradient(${(0,k.Fq)("#fff",Nt(e.elevation))}, ${(0,k.Fq)("#fff",Nt(e.elevation))})`})))),Vt=t.forwardRef((function(t,e){const n=(0,h.Z)({props:t,name:"MuiPaper"}),{className:i,component:r="div",elevation:s=1,square:l=!1,variant:p="elevation"}=n,f=(0,o.Z)(n,Wt),g=(0,a.Z)({},n,{component:r,elevation:s,square:l,variant:p}),m=(t=>{const{square:e,elevation:n,variant:i,classes:r}=t,o={root:["root",i,!e&&"rounded","elevation"===i&&`elevation${n}`]};return(0,c.Z)(o,zt,r)})(g);return(0,d.jsx)(Gt,(0,a.Z)({as:r,ownerState:g,className:(0,u.Z)(m.root,i),ref:e},f))}));var Bt=Vt,Ht=n(2444);function $t(t){return t.substring(2).toLowerCase()}var Kt=function(e){const{children:n,disableReactTree:i=!1,mouseEvent:r="onClick",onClickAway:o,touchEvent:a="onTouchEnd"}=e,s=t.useRef(!1),l=t.useRef(null),u=t.useRef(!1),c=t.useRef(!1);t.useEffect((()=>(setTimeout((()=>{u.current=!0}),0),()=>{u.current=!1})),[]);const h=(0,D.Z)(n.ref,l),p=(0,z.Z)((t=>{const e=c.current;c.current=!1;const n=(0,Ht.Z)(l.current);if(!u.current||!l.current||"clientX"in t&&function(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}(t,n))return;if(s.current)return void(s.current=!1);let r;r=t.composedPath?t.composedPath().indexOf(l.current)>-1:!n.documentElement.contains(t.target)||l.current.contains(t.target),r||!i&&e||o(t)})),f=t=>e=>{c.current=!0;const i=n.props[t];i&&i(e)},g={ref:h};return!1!==a&&(g[a]=f(a)),t.useEffect((()=>{if(!1!==a){const t=$t(a),e=(0,Ht.Z)(l.current),n=()=>{s.current=!0};return e.addEventListener(t,p),e.addEventListener("touchmove",n),()=>{e.removeEventListener(t,p),e.removeEventListener("touchmove",n)}}}),[p,a]),!1!==r&&(g[r]=f(r)),t.useEffect((()=>{if(!1!==r){const t=$t(r),e=(0,Ht.Z)(l.current);return e.addEventListener(t,p),()=>{e.removeEventListener(t,p)}}}),[p,r]),(0,d.jsx)(t.Fragment,{children:t.cloneElement(n,g)})},Xt="unmounted",Yt="exited",Ut="entering",qt="entered",Jt="exiting",Qt=function(t){function n(e,n){var i;i=t.call(this,e,n)||this;var r,o=n&&!n.isMounting?e.enter:e.appear;return i.appearStatus=null,e.in?o?(r=Yt,i.appearStatus=Ut):r=qt:r=e.unmountOnExit||e.mountOnEnter?Xt:Yt,i.state={status:r},i.nextCallback=null,i}G(n,t),n.getDerivedStateFromProps=function(t,e){return t.in&&e.status===Xt?{status:Yt}:null};var i=n.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==Ut&&n!==qt&&(e=Ut):n!==Ut&&n!==qt||(e=Jt)}this.updateStatus(!1,e)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var t,e,n,i=this.props.timeout;return t=e=n=i,null!=i&&"number"!=typeof i&&(t=i.exit,e=i.enter,n=void 0!==i.appear?i.appear:e),{exit:t,enter:e,appear:n}},i.updateStatus=function(t,e){void 0===t&&(t=!1),null!==e?(this.cancelNextCallback(),e===Ut?this.performEnter(t):this.performExit()):this.props.unmountOnExit&&this.state.status===Yt&&this.setState({status:Xt})},i.performEnter=function(t){var e=this,n=this.props.enter,i=this.context?this.context.isMounting:t,o=this.props.nodeRef?[i]:[r().findDOMNode(this),i],a=o[0],s=o[1],l=this.getTimeouts(),u=i?l.appear:l.enter;t||n?(this.props.onEnter(a,s),this.safeSetState({status:Ut},(function(){e.props.onEntering(a,s),e.onTransitionEnd(u,(function(){e.safeSetState({status:qt},(function(){e.props.onEntered(a,s)}))}))}))):this.safeSetState({status:qt},(function(){e.props.onEntered(a)}))},i.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:r().findDOMNode(this);e?(this.props.onExit(i),this.safeSetState({status:Jt},(function(){t.props.onExiting(i),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:Yt},(function(){t.props.onExited(i)}))}))}))):this.safeSetState({status:Yt},(function(){t.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},i.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,e.nextCallback=null,t(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:r().findDOMNode(this),i=null==t&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=o[0],s=o[1];this.props.addEndListener(a,s)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},i.render=function(){var t=this.state.status;if(t===Xt)return null;var n=this.props,i=n.children,r=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,o.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e().createElement(V.Provider,{value:null},"function"==typeof i?i(t,r):e().cloneElement(e().Children.only(i),r))},n}(e().Component);function te(){}Qt.contextType=V,Qt.propTypes={},Qt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:te,onEntering:te,onEntered:te,onExit:te,onExiting:te,onExited:te},Qt.UNMOUNTED=Xt,Qt.EXITED=Yt,Qt.ENTERING=Ut,Qt.ENTERED=qt,Qt.EXITING=Jt;var ee=Qt,ne=n(3126);function ie(){return(0,O.Z)(ne.Z)}const re=t=>t.scrollTop;function oe(t,e){var n,i;const{timeout:r,easing:o,style:a={}}=t;return{duration:null!=(n=a.transitionDuration)?n:"number"==typeof r?r:r[e.mode]||0,easing:null!=(i=a.transitionTimingFunction)?i:"object"==typeof o?o[e.mode]:o,delay:a.transitionDelay}}const ae=["appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function se(t){return`scale(${t}, ${t**2})`}const le={entering:{opacity:1,transform:se(1)},entered:{opacity:1,transform:"none"}},ue=t.forwardRef((function(e,n){const{appear:i=!0,children:r,easing:s,in:l,onEnter:u,onEntered:c,onEntering:h,onExit:p,onExited:f,onExiting:g,style:m,timeout:y="auto",TransitionComponent:v=ee}=e,_=(0,o.Z)(e,ae),x=t.useRef(),w=t.useRef(),b=ie(),S=t.useRef(null),C=(0,D.Z)(r.ref,n),T=(0,D.Z)(S,C),E=t=>e=>{if(t){const n=S.current;void 0===e?t(n):t(n,e)}},M=E(h),O=E(((t,e)=>{re(t);const{duration:n,delay:i,easing:r}=oe({style:m,timeout:y,easing:s},{mode:"enter"});let o;"auto"===y?(o=b.transitions.getAutoHeightDuration(t.clientHeight),w.current=o):o=n,t.style.transition=[b.transitions.create("opacity",{duration:o,delay:i}),b.transitions.create("transform",{duration:.666*o,delay:i,easing:r})].join(","),u&&u(t,e)})),R=E(c),P=E(g),k=E((t=>{const{duration:e,delay:n,easing:i}=oe({style:m,timeout:y,easing:s},{mode:"exit"});let r;"auto"===y?(r=b.transitions.getAutoHeightDuration(t.clientHeight),w.current=r):r=e,t.style.transition=[b.transitions.create("opacity",{duration:r,delay:n}),b.transitions.create("transform",{duration:.666*r,delay:n||.333*r,easing:i})].join(","),t.style.opacity="0",t.style.transform=se(.75),p&&p(t)})),I=E(f);return t.useEffect((()=>()=>{clearTimeout(x.current)}),[]),(0,d.jsx)(v,(0,a.Z)({appear:i,in:l,nodeRef:S,onEnter:O,onEntered:R,onEntering:M,onExit:k,onExited:I,onExiting:P,addEndListener:t=>{"auto"===y&&(x.current=setTimeout(t,w.current||0))},timeout:"auto"===y?null:y},_,{children:(e,n)=>t.cloneElement(r,(0,a.Z)({style:(0,a.Z)({opacity:0,transform:se(.75),visibility:"exited"!==e||l?void 0:"hidden"},le[e],m,r.props.style),ref:T},n))}))}));ue.muiSupportAuto=!0;var ce=ue,he=n(2142),pe=t.createContext();function de(t){return(0,g.Z)("MuiGrid",t)}const fe=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];var ge=(0,m.Z)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((t=>`spacing-xs-${t}`)),...["column-reverse","column","row-reverse","row"].map((t=>`direction-xs-${t}`)),...["nowrap","wrap-reverse","wrap"].map((t=>`wrap-xs-${t}`)),...fe.map((t=>`grid-xs-${t}`)),...fe.map((t=>`grid-sm-${t}`)),...fe.map((t=>`grid-md-${t}`)),...fe.map((t=>`grid-lg-${t}`)),...fe.map((t=>`grid-xl-${t}`))]);const me=["className","columns","columnSpacing","component","container","direction","item","lg","md","rowSpacing","sm","spacing","wrap","xl","xs","zeroMinWidth"];function ye(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}const ve=(0,p.ZP)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{container:n,direction:i,item:r,lg:o,md:a,sm:s,spacing:l,wrap:u,xl:c,xs:h,zeroMinWidth:p}=t.ownerState;return[e.root,n&&e.container,r&&e.item,p&&e.zeroMinWidth,n&&0!==l&&e[`spacing-xs-${String(l)}`],"row"!==i&&e[`direction-xs-${String(i)}`],"wrap"!==u&&e[`wrap-xs-${String(u)}`],!1!==h&&e[`grid-xs-${String(h)}`],!1!==s&&e[`grid-sm-${String(s)}`],!1!==a&&e[`grid-md-${String(a)}`],!1!==o&&e[`grid-lg-${String(o)}`],!1!==c&&e[`grid-xl-${String(c)}`]]}})((({ownerState:t})=>(0,a.Z)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"nowrap"===t.wrap&&{flexWrap:"nowrap"},"reverse"===t.wrap&&{flexWrap:"wrap-reverse"})),(function({theme:t,ownerState:e}){return(0,he.k9)({theme:t},e.direction,(t=>{const e={flexDirection:t};return 0===t.indexOf("column")&&(e[`& > .${ge.item}`]={maxWidth:"none"}),e}))}),(function({theme:t,ownerState:e}){const{container:n,rowSpacing:i}=e;let r={};return n&&0!==i&&(r=(0,he.k9)({theme:t},i,(e=>{const n=t.spacing(e);return"0px"!==n?{marginTop:`-${ye(n)}`,[`& > .${ge.item}`]:{paddingTop:ye(n)}}:{}}))),r}),(function({theme:t,ownerState:e}){const{container:n,columnSpacing:i}=e;let r={};return n&&0!==i&&(r=(0,he.k9)({theme:t},i,(e=>{const n=t.spacing(e);return"0px"!==n?{width:`calc(100% + ${ye(n)})`,marginLeft:`-${ye(n)}`,[`& > .${ge.item}`]:{paddingLeft:ye(n)}}:{}}))),r}),(({theme:t,ownerState:e})=>t.breakpoints.keys.reduce(((n,i)=>(function(t,e,n,i){const r=i[n];if(!r)return;let o={};if(!0===r)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===r)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const t=(0,he.P$)({values:i.columns,base:e.breakpoints.values}),s=Math.round(r/t[n]*1e8)/1e6+"%";let l={};if(i.container&&i.item&&0!==i.columnSpacing){const t=e.spacing(i.columnSpacing);if("0px"!==t){const e=`calc(${s} + ${ye(t)})`;l={flexBasis:e,maxWidth:e}}}o=(0,a.Z)({flexBasis:s,flexGrow:0,maxWidth:s},l)}0===e.breakpoints.values[n]?Object.assign(t,o):t[e.breakpoints.up(n)]=o}(n,t,i,e),n)),{}))),_e=t.forwardRef((function(e,n){const i=kt((0,h.Z)({props:e,name:"MuiGrid"})),{className:r,columns:s=12,columnSpacing:l,component:p="div",container:f=!1,direction:g="row",item:m=!1,lg:y=!1,md:v=!1,rowSpacing:_,sm:x=!1,spacing:w=0,wrap:b="wrap",xl:S=!1,xs:C=!1,zeroMinWidth:T=!1}=i,E=(0,o.Z)(i,me),M=_||w,O=l||w,R=t.useContext(pe)||s,P=(0,a.Z)({},i,{columns:R,container:f,direction:g,item:m,lg:y,md:v,sm:x,rowSpacing:M,columnSpacing:O,wrap:b,xl:S,xs:C,zeroMinWidth:T}),k=(t=>{const{classes:e,container:n,direction:i,item:r,lg:o,md:a,sm:s,spacing:l,wrap:u,xl:h,xs:p,zeroMinWidth:d}=t,f={root:["root",n&&"container",r&&"item",d&&"zeroMinWidth",n&&0!==l&&`spacing-xs-${String(l)}`,"row"!==i&&`direction-xs-${String(i)}`,"wrap"!==u&&`wrap-xs-${String(u)}`,!1!==p&&`grid-xs-${String(p)}`,!1!==s&&`grid-sm-${String(s)}`,!1!==a&&`grid-md-${String(a)}`,!1!==o&&`grid-lg-${String(o)}`,!1!==h&&`grid-xl-${String(h)}`]};return(0,c.Z)(f,de,e)})(P);return I=(0,d.jsx)(ve,(0,a.Z)({ownerState:P,className:(0,u.Z)(k.root,r),as:p,ref:n},E)),12!==R?(0,d.jsx)(pe.Provider,{value:R,children:I}):I;var I}));var xe=_e;const we=(0,p.ZP)(j)((({theme:t})=>({color:t.palette.action.active,width:"26px",height:"26px"}))),be=(0,p.ZP)(Ot)((({theme:t})=>({right:0,position:"relative",[t.breakpoints.down("md")]:{marginLeft:10},[t.breakpoints.up("sm")]:{marginLeft:25},width:"48px",height:"48px",zIndex:1001,borderRadius:4,backgroundColor:t.palette.background.paper,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,k._4)(t.palette.background.paper)}}))),Se=(0,p.ZP)(Dt)((({theme:t})=>({color:"grey",fontWeight:"bold",fontSize:t.typography.pxToRem(11)}))),Ce=(0,p.ZP)(Bt)((t=>({zIndex:1002,position:"absolute",padding:"8px 20px",right:0}))),Te=(0,p.ZP)(Bt)((t=>({position:"relative",width:"64px",height:"64px"}))),Ee=(0,p.ZP)("div")((t=>({position:"static",pointerEvents:"auto"}))),Me=t=>e().createElement(e().Fragment,null,e().createElement(Se,{variant:"overline"},t.children),e().createElement("br",null));var Oe=()=>{const[n,i]=(0,t.useState)(!1),[r,o]=(0,t.useState)(!1);return e().createElement(Kt,{onClickAway:()=>i(!1),mouseEvent:"onMouseDown"},e().createElement(Ee,null,e().createElement(ce,{in:r||n,style:{transformOrigin:"top right"}},e().createElement(Ce,{elevation:4,onMouseLeave:()=>o(!1)},e().createElement(Me,null,"Karta"),e().createElement(xe,{container:!0,spacing:3,justifyContent:"flex-start",alignItems:"center",style:{marginBottom:"4px"}},e().createElement(xe,{item:!0},e().createElement(Te,null)),e().createElement(xe,{item:!0},e().createElement(Te,null)),e().createElement(xe,{item:!0},e().createElement(Te,null))),e().createElement(Me,null,"Variant"),e().createElement(xe,{container:!0,spacing:3,justifyContent:"flex-start",alignItems:"center",style:{marginBottom:"4px"}},e().createElement(xe,{item:!0},e().createElement(Te,null)),e().createElement(xe,{item:!0},e().createElement(Te,null)),e().createElement(xe,{item:!0},e().createElement(Te,null))),e().createElement(Me,null,"Vder"),e().createElement(Me,null,"Detaljer"))),e().createElement(be,{onClick:()=>i(!0),onMouseEnter:()=>o(!0)},e().createElement(we,null))))},Re=(0,Z.Z)((0,d.jsx)("path",{d:"M20.94 11c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}),"GpsNotFixed"),Pe=(0,Z.Z)((0,d.jsx)("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}),"GpsFixed"),ke=(0,Z.Z)((0,d.jsx)("path",{d:"M20.94 11c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06c-1.13.12-2.19.46-3.16.97l1.5 1.5C10.16 5.19 11.06 5 12 5c3.87 0 7 3.13 7 7 0 .94-.19 1.84-.52 2.65l1.5 1.5c.5-.96.84-2.02.97-3.15H23v-2h-2.06zM3 4.27l2.04 2.04C3.97 7.62 3.25 9.23 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c1.77-.2 3.38-.91 4.69-1.98L19.73 21 21 19.73 4.27 3 3 4.27zm13.27 13.27C15.09 18.45 13.61 19 12 19c-3.87 0-7-3.13-7-7 0-1.61.55-3.09 1.46-4.27l9.81 9.81z"}),"GpsOff"),Ie=(0,Z.Z)((0,d.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),"AccountCircle"),Le=(0,Z.Z)((0,d.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),Fe=n(5118),Ae=function(t){return"string"==typeof t},Ze=t.createContext(),je=n(6758),De=n(9427),ze=n(8876);const We=["onChange","maxRows","minRows","style","value"];function Ne(t,e){return parseInt(t[e],10)||0}const Ge={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};var Ve=t.forwardRef((function(e,n){const{onChange:i,maxRows:r,minRows:s=1,style:l,value:u}=e,c=(0,o.Z)(e,We),{current:h}=t.useRef(null!=u),p=t.useRef(null),f=(0,D.Z)(n,p),g=t.useRef(null),m=t.useRef(0),[y,v]=t.useState({}),_=t.useCallback((()=>{const t=p.current,n=(0,ze.Z)(t).getComputedStyle(t);if("0px"===n.width)return;const i=g.current;i.style.width=n.width,i.value=t.value||e.placeholder||"x","\n"===i.value.slice(-1)&&(i.value+=" ");const o=n["box-sizing"],a=Ne(n,"padding-bottom")+Ne(n,"padding-top"),l=Ne(n,"border-bottom-width")+Ne(n,"border-top-width"),u=i.scrollHeight;i.value="x";const c=i.scrollHeight;let h=u;s&&(h=Math.max(Number(s)*c,h)),r&&(h=Math.min(Number(r)*c,h)),h=Math.max(h,c);const d=h+("border-box"===o?a+l:0),f=Math.abs(h-u)<=1;v((t=>m.current<20&&(d>0&&Math.abs((t.outerHeightStyle||0)-d)>1||t.overflow!==f)?(m.current+=1,{overflow:f,outerHeightStyle:d}):t))}),[r,s,e.placeholder]);return t.useEffect((()=>{const t=(0,De.Z)((()=>{m.current=0,_()})),e=(0,ze.Z)(p.current);let n;return e.addEventListener("resize",t),"undefined"!=typeof ResizeObserver&&(n=new ResizeObserver(t),n.observe(p.current)),()=>{t.clear(),e.removeEventListener("resize",t),n&&n.disconnect()}}),[_]),(0,je.Z)((()=>{_()})),t.useEffect((()=>{m.current=0}),[u]),(0,d.jsxs)(t.Fragment,{children:[(0,d.jsx)("textarea",(0,a.Z)({value:u,onChange:t=>{m.current=0,h||_(),i&&i(t)},ref:f,rows:s,style:(0,a.Z)({height:y.outerHeightStyle,overflow:y.overflow?"hidden":null},l)},c)),(0,d.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:g,tabIndex:-1,style:(0,a.Z)({},Ge,l,{padding:0})})]})}));function Be(t){const{styles:e,defaultTheme:n={}}=t,i="function"==typeof e?t=>{return e(null==(i=t)||0===Object.keys(i).length?n:t);var i}:e;return(0,d.jsx)(Q,{styles:i})}var He=function(t){return(0,d.jsx)(Be,(0,a.Z)({},t,{defaultTheme:ne.Z}))};function $e(t){return null!=t&&!(Array.isArray(t)&&0===t.length)}function Ke(t){return(0,g.Z)("MuiInputBase",t)}var Xe=(0,m.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);const Ye=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],Ue=(0,p.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,"small"===n.size&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${(0,bt.Z)(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]}})((({theme:t,ownerState:e})=>(0,a.Z)({},t.typography.body1,{color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Xe.disabled}`]:{color:t.palette.text.disabled,cursor:"default"}},e.multiline&&(0,a.Z)({padding:"4px 0 5px"},"small"===e.size&&{paddingTop:1}),e.fullWidth&&{width:"100%"}))),qe=(0,p.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.input,"small"===n.size&&e.inputSizeSmall,n.multiline&&e.inputMultiline,"search"===n.type&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]}})((({theme:t,ownerState:e})=>{const n="light"===t.palette.mode,i={color:"currentColor",opacity:n?.42:.5,transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},o={opacity:n?.42:.5};return(0,a.Z)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Xe.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Xe.disabled}`]:{opacity:1,WebkitTextFillColor:t.palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===e.size&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===e.type&&{MozAppearance:"textfield",WebkitAppearance:"textfield"})})),Je=(0,d.jsx)(He,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Qe=t.forwardRef((function(e,n){const i=(0,h.Z)({props:e,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:s,autoFocus:l,className:p,components:f={},componentsProps:g={},defaultValue:m,disabled:y,endAdornment:v,fullWidth:_=!1,id:x,inputComponent:w="input",inputProps:b={},inputRef:S,maxRows:C,minRows:T,multiline:E=!1,name:M,onBlur:O,onChange:R,onClick:P,onFocus:k,onKeyDown:I,onKeyUp:L,placeholder:F,readOnly:A,renderSuffix:Z,rows:j,startAdornment:z,type:W="text",value:N}=i,G=(0,o.Z)(i,Ye),V=ie(),B=null!=b.value?b.value:N,{current:H}=t.useRef(null!=B),$=t.useRef(),K=t.useCallback((t=>{}),[]),X=(0,D.Z)(b.ref,K),Y=(0,D.Z)(S,X),U=(0,D.Z)($,Y),[q,J]=t.useState(!1),Q=t.useContext(Ze),tt=function({props:t,states:e,muiFormControl:n}){return e.reduce(((e,i)=>(e[i]=t[i],n&&void 0===t[i]&&(e[i]=n[i]),e)),{})}({props:i,muiFormControl:Q,states:["color","disabled","error","hiddenLabel","size","required","filled"]});tt.focused=Q?Q.focused:q,t.useEffect((()=>{!Q&&y&&q&&(J(!1),O&&O())}),[Q,y,q,O]);const et=Q&&Q.onFilled,nt=Q&&Q.onEmpty,it=t.useCallback((t=>{!function(t,e=!1){return t&&($e(t.value)&&""!==t.value||e&&$e(t.defaultValue)&&""!==t.defaultValue)}(t)?nt&&nt():et&&et()}),[et,nt]);(0,je.Z)((()=>{H&&it({value:B})}),[B,it,H]),t.useEffect((()=>{it($.current)}),[]);let rt=w,ot=b;E&&"input"===rt&&(ot=j?(0,a.Z)({type:void 0,minRows:j,maxRows:j},ot):(0,a.Z)({type:void 0,maxRows:C,minRows:T},ot),rt=Ve),t.useEffect((()=>{Q&&Q.setAdornedStart(Boolean(z))}),[Q,z]);const at=(0,a.Z)({},i,{color:tt.color||"primary",disabled:tt.disabled,endAdornment:v,error:tt.error,focused:tt.focused,formControl:Q,fullWidth:_,hiddenLabel:tt.hiddenLabel,multiline:E,size:tt.size,startAdornment:z,type:W}),st=(t=>{const{classes:e,color:n,disabled:i,error:r,endAdornment:o,focused:a,formControl:s,fullWidth:l,hiddenLabel:u,multiline:h,size:p,startAdornment:d,type:f}=t,g={root:["root",`color${(0,bt.Z)(n)}`,i&&"disabled",r&&"error",l&&"fullWidth",a&&"focused",s&&"formControl","small"===p&&"sizeSmall",h&&"multiline",d&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel"],input:["input",i&&"disabled","search"===f&&"inputTypeSearch",h&&"inputMultiline","small"===p&&"inputSizeSmall",u&&"inputHiddenLabel",d&&"inputAdornedStart",o&&"inputAdornedEnd"]};return(0,c.Z)(g,Ke,e)})(at),lt=f.Root||Ue,ut=g.root||{},ct=f.Input||qe;return ot=(0,a.Z)({},ot,g.input),(0,d.jsxs)(t.Fragment,{children:[Je,(0,d.jsxs)(lt,(0,a.Z)({},ut,!Ae(lt)&&{ownerState:(0,a.Z)({},at,ut.ownerState),theme:V},{ref:n,onClick:t=>{$.current&&t.currentTarget===t.target&&$.current.focus(),P&&P(t)}},G,{className:(0,u.Z)(st.root,ut.className,p),children:[z,(0,d.jsx)(Ze.Provider,{value:null,children:(0,d.jsx)(ct,(0,a.Z)({ownerState:at,"aria-invalid":tt.error,"aria-describedby":r,autoComplete:s,autoFocus:l,defaultValue:m,disabled:tt.disabled,id:x,onAnimationStart:t=>{it("mui-auto-fill-cancel"===t.animationName?$.current:{value:"x"})},name:M,placeholder:F,readOnly:A,required:tt.required,rows:j,value:B,onKeyDown:I,onKeyUp:L,type:W},ot,!Ae(ct)&&{as:rt,ownerState:(0,a.Z)({},at,ot.ownerState),theme:V},{ref:U,className:(0,u.Z)(st.input,ot.className,b.className),onBlur:t=>{O&&O(t),b.onBlur&&b.onBlur(t),Q&&Q.onBlur?Q.onBlur(t):J(!1)},onChange:(t,...e)=>{if(!H){const e=t.target||$.current;if(null==e)throw new Error((0,Fe.Z)(1));it({value:e.value})}b.onChange&&b.onChange(t,...e),R&&R(t,...e)},onFocus:t=>{tt.disabled?t.stopPropagation():(k&&k(t),b.onFocus&&b.onFocus(t),Q&&Q.onFocus?Q.onFocus(t):J(!0))}}))}),v,Z?Z((0,a.Z)({},tt,{startAdornment:z})):null]}))]})}));var tn=Qe;function en(t){return(0,g.Z)("MuiDivider",t)}(0,m.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const nn=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],rn=(0,p.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,"vertical"===n.orientation&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&"vertical"===n.orientation&&e.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&e.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&e.textAlignLeft]}})((({theme:t,ownerState:e})=>(0,a.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:t.palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:(0,k.Fq)(t.palette.divider,.08)},"inset"===e.variant&&{marginLeft:72},"middle"===e.variant&&"horizontal"===e.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===e.variant&&"vertical"===e.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===e.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"})),(({theme:t,ownerState:e})=>(0,a.Z)({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${t.palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}})),(({theme:t,ownerState:e})=>(0,a.Z)({},e.children&&"vertical"===e.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${t.palette.divider}`,transform:"translateX(0%)"}})),(({ownerState:t})=>(0,a.Z)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}}))),on=(0,p.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,"vertical"===n.orientation&&e.wrapperVertical]}})((({theme:t,ownerState:e})=>(0,a.Z)({display:"inline-block",paddingLeft:t.spacing(1.2),paddingRight:t.spacing(1.2)},"vertical"===e.orientation&&{paddingTop:t.spacing(1.2),paddingBottom:t.spacing(1.2)}))),an=t.forwardRef((function(t,e){const n=(0,h.Z)({props:t,name:"MuiDivider"}),{absolute:i=!1,children:r,className:s,component:l=(r?"div":"hr"),flexItem:p=!1,light:f=!1,orientation:g="horizontal",role:m=("hr"!==l?"separator":void 0),textAlign:y="center",variant:v="fullWidth"}=n,_=(0,o.Z)(n,nn),x=(0,a.Z)({},n,{absolute:i,component:l,flexItem:p,light:f,orientation:g,role:m,textAlign:y,variant:v}),w=(t=>{const{absolute:e,children:n,classes:i,flexItem:r,light:o,orientation:a,textAlign:s,variant:l}=t,u={root:["root",e&&"absolute",l,o&&"light","vertical"===a&&"vertical",r&&"flexItem",n&&"withChildren",n&&"vertical"===a&&"withChildrenVertical","right"===s&&"vertical"!==a&&"textAlignRight","left"===s&&"vertical"!==a&&"textAlignLeft"],wrapper:["wrapper","vertical"===a&&"wrapperVertical"]};return(0,c.Z)(u,en,i)})(x);return(0,d.jsx)(rn,(0,a.Z)({as:l,className:(0,u.Z)(w.root,s),role:m,ref:e,ownerState:x},_,{children:r?(0,d.jsx)(on,{className:w.wrapper,ownerState:x,children:r}):null}))}));var sn=an;function ln(t){return(0,g.Z)("MuiIconButton",t)}var un=(0,m.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);const cn=["edge","children","className","color","disabled","disableFocusRipple","size"],hn=(0,p.ZP)(wt,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,"default"!==n.color&&e[`color${(0,bt.Z)(n.color)}`],n.edge&&e[`edge${(0,bt.Z)(n.edge)}`],e[`size${(0,bt.Z)(n.size)}`]]}})((({theme:t,ownerState:e})=>(0,a.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:t.palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,k.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===e.edge&&{marginLeft:"small"===e.size?-3:-12},"end"===e.edge&&{marginRight:"small"===e.size?-3:-12})),(({theme:t,ownerState:e})=>(0,a.Z)({},"inherit"===e.color&&{color:"inherit"},"inherit"!==e.color&&"default"!==e.color&&{color:t.palette[e.color].main,"&:hover":{backgroundColor:(0,k.Fq)(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"small"===e.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===e.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${un.disabled}`]:{backgroundColor:"transparent",color:t.palette.action.disabled}}))),pn=t.forwardRef((function(t,e){const n=(0,h.Z)({props:t,name:"MuiIconButton"}),{edge:i=!1,children:r,className:s,color:l="default",disabled:p=!1,disableFocusRipple:f=!1,size:g="medium"}=n,m=(0,o.Z)(n,cn),y=(0,a.Z)({},n,{edge:i,color:l,disabled:p,disableFocusRipple:f,size:g}),v=(t=>{const{classes:e,disabled:n,color:i,edge:r,size:o}=t,a={root:["root",n&&"disabled","default"!==i&&`color${(0,bt.Z)(i)}`,r&&`edge${(0,bt.Z)(r)}`,`size${(0,bt.Z)(o)}`]};return(0,c.Z)(a,ln,e)})(y);return(0,d.jsx)(hn,(0,a.Z)({className:(0,u.Z)(v.root,s),centerRipple:!0,focusRipple:!f,disabled:p,ref:e,ownerState:y},m,{children:r}))}));var dn=pn;const fn=(0,p.ZP)(Bt)((t=>({maxWidth:"800px",width:"95%",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",height:48,padding:"0px 4px",pointerEvents:"auto"}))),gn=(0,p.ZP)(tn)((({theme:t})=>({marginLeft:t.spacing(1),flex:1}))),mn=(0,p.ZP)(sn)((t=>({height:28,margin:2}))),yn=(0,p.ZP)(dn)((t=>({padding:8})));var vn;!function(t){t[t.Disabled=0]="Disabled",t[t.Tracking=1]="Tracking",t[t.Loading=2]="Loading",t[t.Inactive=3]="Inactive"}(vn||(vn={}));const _n=({status:t,...n})=>{switch(t){case vn.Inactive:return e().createElement(yn,{...n,size:"large"},e().createElement(Re,null));case vn.Loading:return e().createElement(yn,{...n,color:"primary",size:"large"},e().createElement(Re,null));case vn.Tracking:return e().createElement(yn,{...n,color:"primary",size:"large"},e().createElement(Pe,null));case vn.Disabled:return e().createElement(yn,{...n,color:"secondary",size:"large"},e().createElement(ke,null))}};var xn=n=>{const{onGPSTrack:i,onGPSDeactivate:r,onGPSLocate:o}=n,[a,s]=(0,t.useState)(0),[l,u]=(0,t.useState)(vn.Inactive),c=navigator.geolocation,h=()=>u(vn.Disabled);return(0,t.useEffect)((()=>()=>c.clearWatch(a)),[c,a]),e().createElement(fn,{elevation:5},e().createElement(yn,{size:"large"},e().createElement(Ie,null)),e().createElement(mn,{orientation:"vertical"}),e().createElement(gn,{placeholder:"Sk"}),e().createElement(yn,{type:"submit",size:"large"},e().createElement(Le,null)),e().createElement(mn,{orientation:"vertical"}),e().createElement(_n,{status:c?l:vn.Disabled,onClick:l==vn.Tracking?()=>{c.clearWatch(a),u(vn.Inactive),r()}:()=>{const t={enableHighAccuracy:!0};u(vn.Loading),c.getCurrentPosition((t=>{u(vn.Tracking),o(t)}),h,t),s(c.watchPosition(i,h,t))}}))},wn=n(9508);const bn=["appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Sn(t,e,n){var i;const r=function(t,e,n){const i=e.getBoundingClientRect(),r=n&&n.getBoundingClientRect(),o=(0,ze.Z)(e);let a;if(e.fakeTransform)a=e.fakeTransform;else{const t=o.getComputedStyle(e);a=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("transform")}let s=0,l=0;if(a&&"none"!==a&&"string"==typeof a){const t=a.split("(")[1].split(")")[0].split(",");s=parseInt(t[4],10),l=parseInt(t[5],10)}return"left"===t?r?`translateX(${r.right+s-i.left}px)`:`translateX(${o.innerWidth+s-i.left}px)`:"right"===t?r?`translateX(-${i.right-r.left-s}px)`:`translateX(-${i.left+i.width-s}px)`:"up"===t?r?`translateY(${r.bottom+l-i.top}px)`:`translateY(${o.innerHeight+l-i.top}px)`:r?`translateY(-${i.top-r.top+i.height-l}px)`:`translateY(-${i.top+i.height-l}px)`}(t,e,"function"==typeof(i=n)?i():i);r&&(e.style.webkitTransform=r,e.style.transform=r)}const Cn={enter:wn.Ui.easeOut,exit:wn.Ui.sharp},Tn={enter:wn.x9.enteringScreen,exit:wn.x9.leavingScreen},En=t.forwardRef((function(e,n){const{appear:i=!0,children:r,container:s,direction:l="down",easing:u=Cn,in:c,onEnter:h,onEntered:p,onEntering:f,onExit:g,onExited:m,onExiting:y,style:v,timeout:_=Tn,TransitionComponent:x=ee}=e,w=(0,o.Z)(e,bn),b=ie(),S=t.useRef(null),C=(0,D.Z)(r.ref,S),T=(0,D.Z)(C,n),E=t=>e=>{t&&(void 0===e?t(S.current):t(S.current,e))},M=E(((t,e)=>{Sn(l,t,s),re(t),h&&h(t,e)})),O=E(((t,e)=>{const n=oe({timeout:_,style:v,easing:u},{mode:"enter"});t.style.webkitTransition=b.transitions.create("-webkit-transform",(0,a.Z)({},n)),t.style.transition=b.transitions.create("transform",(0,a.Z)({},n)),t.style.webkitTransform="none",t.style.transform="none",f&&f(t,e)})),R=E(p),P=E(y),k=E((t=>{const e=oe({timeout:_,style:v,easing:u},{mode:"exit"});t.style.webkitTransition=b.transitions.create("-webkit-transform",e),t.style.transition=b.transitions.create("transform",e),Sn(l,t,s),g&&g(t)})),I=E((t=>{t.style.webkitTransition="",t.style.transition="",m&&m(t)})),L=t.useCallback((()=>{S.current&&Sn(l,S.current,s)}),[l,s]);return t.useEffect((()=>{if(c||"down"===l||"right"===l)return;const t=(0,De.Z)((()=>{S.current&&Sn(l,S.current,s)})),e=(0,ze.Z)(S.current);return e.addEventListener("resize",t),()=>{t.clear(),e.removeEventListener("resize",t)}}),[l,c,s]),t.useEffect((()=>{c||L()}),[c,L]),(0,d.jsx)(x,(0,a.Z)({nodeRef:S,onEnter:M,onEntered:R,onEntering:O,onExit:k,onExited:I,onExiting:P,appear:i,in:c,timeout:_},w,{children:(e,n)=>t.cloneElement(r,(0,a.Z)({ref:T,style:(0,a.Z)({visibility:"exited"!==e||c?void 0:"hidden"},v,r.props.style)},n))}))}));var Mn=En,On=n(7888),Rn=n(394),Pn=n(1736);const kn=(0,p.ZP)("div")((({theme:t})=>({pointerEvents:"none",position:"fixed",top:0,bottom:0,right:0,display:"flex",flexDirection:"column",justifyContent:"center",[t.breakpoints.down("md")]:{marginRight:10},[t.breakpoints.up("sm")]:{marginRight:25},zIndex:1e3}))),In=n=>{const[i,r]=(0,t.useState)(!1),o=n.disabled?"secondary":i?"primary":n.color?n.color:"default";return e().createElement(dn,{color:o,onClick:()=>{n.disabled||(n.onClick&&n.onClick(!i),r(!i))},size:"large"},n.children)},Ln=t=>Object.assign((n=>e().createElement(In,{...n},e().createElement(t,null))),{displayName:"IconToggleButton"}),Fn=Ln(On.Z),An=Ln(Rn.Z),Zn=Ln(Pn.Z);Fn.displayName="WeatherToggleButton",An.displayName="WindToggleButton",Zn.displayName="TemperatureToggleButton";const jn=t=>{const{shown:n,children:i}=t;return e().createElement(Mn,{direction:"left",in:n},e().createElement(kn,null,e().createElement(Bt,{elevation:5,square:!1,style:{pointerEvents:"auto"}},e().createElement(xe,{container:!0,direction:"column",justifyContent:"space-around"},i))))};var Dn=e().createContext({map:void 0}),zn="top-left";function Wn(){return function(){throw new Error("Unimplemented abstract method.")}()}var Nn=0;function Gn(t){return t.ol_uid||(t.ol_uid=String(++Nn))}var Vn,Bn=(Vn=function(t,e){return Vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Vn(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Vn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Hn=function(t){function e(e){var n=this,i="Assertion failed. See https://openlayers.org/en/v"+"6.7.0".split("-")[0]+"/doc/errors/#"+e+" for details.";return(n=t.call(this,i)||this).code=e,n.name="AssertionError",n.message=i,n}return Bn(e,t),e}(Error);function $n(t,e){if(!t)throw new Hn(e)}function Kn(t){for(var e=[1/0,1/0,-1/0,-1/0],n=0,i=t.length;n<i;++n)ai(e,t[n]);return e}function Xn(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function Yn(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function Un(t,e,n){var i,r;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*r}function qn(t,e){return Qn(t,e[0],e[1])}function Jn(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Qn(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function ti(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],a=e[0],s=e[1],l=0;return a<n?l|=16:a>r&&(l|=4),s<i?l|=8:s>o&&(l|=2),0===l&&(l=1),l}function ei(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function ni(t){return ei(1/0,1/0,-1/0,-1/0,t)}function ii(t,e){var n=t[0],i=t[1];return ei(n,i,n,i,e)}function ri(t,e,n,i,r){return si(ni(r),t,e,n,i)}function oi(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function ai(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function si(t,e,n,i,r){for(;n<i;n+=r)li(t,e[n],e[n+1]);return t}function li(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function ui(t,e){var n;return(n=e(hi(t)))||(n=e(pi(t)))||(n=e(_i(t)))?n:(n=e(vi(t)))||!1}function ci(t){var e=0;return bi(t)||(e=xi(t)*mi(t)),e}function hi(t){return[t[0],t[1]]}function pi(t){return[t[2],t[1]]}function di(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function fi(t,e){var n;return"bottom-left"===e?n=hi(t):"bottom-right"===e?n=pi(t):e===zn?n=vi(t):"top-right"===e?n=_i(t):$n(!1,13),n}function gi(t,e,n,i,r){var o=e*i[0]/2,a=e*i[1]/2,s=Math.cos(n),l=Math.sin(n),u=o*s,c=o*l,h=a*s,p=a*l,d=t[0],f=t[1],g=d-u+p,m=d-u-p,y=d+u-p,v=d+u+p,_=f-c-h,x=f-c+h,w=f+c+h,b=f+c-h;return ei(Math.min(g,m,y,v),Math.min(_,x,w,b),Math.max(g,m,y,v),Math.max(_,x,w,b),r)}function mi(t){return t[3]-t[1]}function yi(t,e,n){var i=n||[1/0,1/0,-1/0,-1/0];return wi(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):ni(i),i}function vi(t){return[t[0],t[3]]}function _i(t){return[t[2],t[3]]}function xi(t){return t[2]-t[0]}function wi(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function bi(t){return t[2]<t[0]||t[3]<t[1]}function Si(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function Ci(t,e){var n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,o=t[1]*n+t[0]*i;return t[0]=r,t[1]=o,t}function Ti(t,e){if(e.canWrapX()){var n=xi(e.getExtent()),i=function(t,e,n){var i=e.getExtent(),r=0;if(e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])){var o=n||xi(i);r=Math.floor((t[0]-i[0])/o)}return r}(t,e,n);i&&(t[0]-=i*n)}return t}var Ei={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Mi={};Mi[Ei.RADIANS]=6370997/(2*Math.PI),Mi[Ei.DEGREES]=2*Math.PI*6370997/360,Mi[Ei.FEET]=.3048,Mi[Ei.METERS]=1,Mi[Ei.USFEET]=1200/3937;var Oi=Ei,Ri=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Mi[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}();function Pi(t,e,n){return Math.min(Math.max(t,e),n)}var ki="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},Ii="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E};function Li(t,e,n,i,r,o){var a=r-n,s=o-i;if(0!==a||0!==s){var l=((t-n)*a+(e-i)*s)/(a*a+s*s);l>1?(n=r,i=o):l>0&&(n+=a*l,i+=s*l)}return Fi(t,e,n,i)}function Fi(t,e,n,i){var r=n-t,o=i-e;return r*r+o*o}function Ai(t){return t*Math.PI/180}function Zi(t,e){var n=t%e;return n*e<0?n+e:n}function ji(t,e,n){return t+n*(e-t)}var Di=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zi=6378137,Wi=Math.PI*zi,Ni=[-Wi,-Wi,Wi,Wi],Gi=[-180,-85,180,85],Vi=zi*Math.log(Math.tan(Math.PI/2)),Bi=function(t){function e(e){return t.call(this,{code:e,units:Oi.METERS,extent:Ni,global:!0,worldExtent:Gi,getPointResolution:function(t,e){return t/ki(e[1]/zi)}})||this}return Di(e,t),e}(Ri),Hi=[new Bi("EPSG:3857"),new Bi("EPSG:102100"),new Bi("EPSG:102113"),new Bi("EPSG:900913"),new Bi("http://www.opengis.net/def/crs/EPSG/0/3857"),new Bi("http://www.opengis.net/gml/srs/epsg.xml#3857")];var $i=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ki=[-180,-90,180,90],Xi=6378137*Math.PI/180,Yi=function(t){function e(e,n){return t.call(this,{code:e,units:Oi.DEGREES,extent:Ki,axisOrientation:n,global:!0,metersPerUnit:Xi,worldExtent:Ki})||this}return $i(e,t),e}(Ri),Ui=[new Yi("CRS:84"),new Yi("EPSG:4326","neu"),new Yi("urn:ogc:def:crs:OGC:1.3:CRS84"),new Yi("urn:ogc:def:crs:OGC:2:84"),new Yi("http://www.opengis.net/def/crs/OGC/1.3/CRS84","neu"),new Yi("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Yi("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],qi={},Ji={};function Qi(t,e,n){var i=t.getCode(),r=e.getCode();i in Ji||(Ji[i]={}),Ji[i][r]=n}function tr(t,e,n){var i=n||6371008.8,r=Ai(t[1]),o=Ai(e[1]),a=(o-r)/2,s=Ai(e[0]-t[0])/2,l=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(r)*Math.cos(o);return 2*i*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function er(t,e,n){var i;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];i=e}else i=t.slice();return i}function nr(t,e,n){if(void 0!==e&&t!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t}function ir(t){!function(t,e){qi[t]=e}(t.getCode(),t),Qi(t,t,er)}function rr(t){return"string"==typeof t?qi[e=t]||qi[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function or(t,e,n,i){var r,o=(t=rr(t)).getPointResolutionFunc();if(o)r=o(e,n),i&&i!==t.getUnits()&&(s=t.getMetersPerUnit())&&(r=r*s/Mi[i]);else{var a=t.getUnits();if(a==Oi.DEGREES&&!i||i==Oi.DEGREES)r=e;else{var s,l=hr(t,rr("EPSG:4326"));if(l===nr&&a!==Oi.DEGREES)r=e*t.getMetersPerUnit();else{var u=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];r=(tr((u=l(u,u,2)).slice(0,2),u.slice(2,4))+tr(u.slice(4,6),u.slice(6,8)))/2}void 0!==(s=i?Mi[i]:t.getMetersPerUnit())&&(r/=s)}}return r}function ar(t){!function(t){t.forEach(ir)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&Qi(e,t,er)}))}))}function sr(t,e){return t?"string"==typeof t?rr(t):t:rr(e)}function lr(t,e){return dr(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function ur(t,e){var n=dr(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),i=n[0];return(i<-180||i>180)&&(n[0]=Zi(i+180,360)-180),n}function cr(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||hr(t,e)===er)&&n}function hr(t,e){var n=function(t,e){var n;return t in Ji&&e in Ji[t]&&(n=Ji[t][e]),n}(t.getCode(),e.getCode());return n||(n=nr),n}function pr(t,e){return hr(rr(t),rr(e))}function dr(t,e,n){return pr(e,n)(t,void 0,t.length)}function fr(t,e,n,i){return function(t,e,n,i){var r=[];if(i>1)for(var o=t[2]-t[0],a=t[3]-t[1],s=0;s<i;++s)r.push(t[0]+o*s/i,t[1],t[2],t[1]+a*s/i,t[2]-o*s/i,t[3],t[0],t[3]-a*s/i);else r=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(r,r,2);for(var l=[],u=[],c=(s=0,r.length);s<c;s+=2)l.push(r[s]),u.push(r[s+1]);return function(t,e,n){return ei(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(l,u,n)}(t,pr(e,n),void 0,i)}var gr,mr,yr,vr,_r=null;function xr(){return _r}function wr(t,e){return t}function br(t,e){return t}function Sr(t,e){return t}ar(Hi),ar(Ui),gr=Hi,mr=function(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var a=0;a<i;a+=r){o[a]=Wi*t[a]/180;var s=zi*Math.log(Math.tan(Math.PI*(+t[a+1]+90)/360));s>Vi?s=Vi:s<-Vi&&(s=-Vi),o[a+1]=s}return o},yr=function(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var a=0;a<i;a+=r)o[a]=180*t[a]/Wi,o[a+1]=360*Math.atan(Math.exp(t[a+1]/zi))/Math.PI-90;return o},Ui.forEach((function(t){gr.forEach((function(e){Qi(t,e,mr),Qi(e,t,yr)}))})),function(t){t[t.Trail=0]="Trail",t[t.Coord=1]="Coord",t[t.Attribution=2]="Attribution"}(vr||(vr={}));class Cr{constructor(t,e){this.type=vr.Trail,this.toURL=()=>(this.section,this.trail),this.trail=t,this.section=e}}class Tr{constructor(t,e,n){this.type=vr.Coord,this.toURL=()=>`/coord/${this.lat.toFixed(4)},${this.lon.toFixed(4)}`+(this.zoom?`:${this.zoom.toFixed(1)}`:""),this.lat=t,this.lon=e,this.zoom=n}}class Er{constructor(){this.type=vr.Coord,this.toURL=()=>"/attributions"}}class Mr{constructor(t){this.temperature=!1,this.weather=!1,this.toURL=()=>{if(!this.temperature&&!this.weather)return"";let t="?overlays=",e=[];return this.temperature&&e.push("temp"),this.weather&&e.push("weather"),t+=e.join(","),this.when&&(t+=`&when=${this.when}`),t};const e=t.get("overlays");if(e){const n=e.split(",");this.temperature=n.includes("temp"),this.weather=n.includes("weather"),this.when=t.get("when")}}}class Or{constructor(t,e){this.toURL=()=>this.state?`${this.state.toURL()}${this.overlays.toURL()}`:"/",this.state=t,this.overlays=e}}const Rr=(t=window.location.pathname.slice(1).split("/"),e=window.location.search)=>{const n=new Mr((t=>{t.startsWith("?")&&(t=t.slice(1));let e=new Map;const n=t.split("&");for(const t of n){const n=t.indexOf("=");e.set(t.slice(0,n),decodeURIComponent(t.slice(n+1)))}return e})(e));let i;switch(t[0]){case"coord":{if(t.length<2)break;const e=t[1].split(/[,:]/);if(e.length<2)break;const n=parseFloat(e[2]);i=new Tr(parseFloat(e[0]),parseFloat(e[1]),isNaN(n)?void 0:n);break}case"trail":{const e=t[1].split(":");if(e.length<1)break;i=new Cr(e[0],e[1]);break}case"attributions":i=new Er}return new Or(i,n)};var Pr=function(){function t(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.defaultPrevented=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),kr="propertychange",Ir=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();function Lr(t,e){return t>e?1:t<e?-1:0}function Fr(t,e,n){var i=t.length;if(t[0]<=e)return 0;if(e<=t[i-1])return i-1;var r=void 0;if(n>0){for(r=1;r<i;++r)if(t[r]<e)return r-1}else if(n<0){for(r=1;r<i;++r)if(t[r]<=e)return r}else for(r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return"function"==typeof n?n(e,t[r-1],t[r])>0?r-1:r:t[r-1]-e<e-t[r]?r-1:r}return i-1}function Ar(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function Zr(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,r=0;r<i;r++)t[t.length]=n[r]}function jr(t,e){for(var n,i=t.length>>>0,r=0;r<i;r++)if(e(n=t[r],r,t))return n;return null}function Dr(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function zr(t,e){var n;return t.every((function(i,r){return n=r,!e(i,r,t)}))?-1:n}function Wr(){return!0}function Nr(){return!1}function Gr(){}var Vr="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1,r=arguments.length;i<r;++i){var o=arguments[i];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n};function Br(t){for(var e in t)delete t[e]}var Hr="function"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function $r(t){var e;for(e in t)return!1;return!e}var Kr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xr=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return Kr(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_||(this.listeners_={}),i=n[t]||(n[t]=[]);-1===i.indexOf(e)&&i.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new Pr(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var i,r=this.listeners_&&this.listeners_[n];if(r){var o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});n in o||(o[n]=0,a[n]=0),++o[n];for(var s=0,l=r.length;s<l;++s)if(!1===(i="handleEvent"in r[s]?r[s].handleEvent(e):r[s].call(this,e))||e.propagationStopped){i=!1;break}if(--o[n],0===o[n]){var u=a[n];for(delete a[n];u--;)this.removeEventListener(n,Gr);delete o[n]}return i}},e.prototype.disposeInternal=function(){this.listeners_&&Br(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)},e.prototype.removeEventListener=function(t,e){var n=this.listeners_&&this.listeners_[t];if(n){var i=n.indexOf(e);-1!==i&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[i]=Gr,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t]))}},e}(Ir),Yr="change",Ur="contextmenu",qr="click",Jr="keydown",Qr="keypress",to="resize",eo="touchmove",no="wheel";function io(t,e,n,i,r){if(i&&i!==t&&(n=n.bind(i)),r){var o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}function ro(t,e,n,i){return io(t,e,n,i,!0)}function oo(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Br(t))}var ao=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),so=function(t){function e(){var e=t.call(this)||this;return e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return ao(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(Yr)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=io(this,t[r],e);return i}return io(this,t,e)},e.prototype.onceInternal=function(t,e){var n;if(Array.isArray(t)){var i=t.length;n=new Array(i);for(var r=0;r<i;++r)n[r]=ro(this,t[r],e)}else n=ro(this,t,e);return e.ol_key=n,n},e.prototype.unInternal=function(t,e){var n=e.ol_key;if(n)!function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)oo(t[e]);else oo(t)}(n);else if(Array.isArray(t))for(var i=0,r=t.length;i<r;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)},e}(Xr);so.prototype.on,so.prototype.once,so.prototype.un;var lo=so,uo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),co=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.key=n,r.oldValue=i,r}return uo(e,t),e}(Pr),ho=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,Gn(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return uo(e,t),e.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&Vr({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,e){var n;n="change:"+t,this.dispatchEvent(new co(n,t,e)),n=kr,this.dispatchEvent(new co(n,t,e))},e.prototype.addChangeListener=function(t,e){this.addEventListener("change:"+t,e)},e.prototype.removeChangeListener=function(t,e){this.removeEventListener("change:"+t,e)},e.prototype.set=function(t,e,n){var i=this.values_||(this.values_={});if(n)i[t]=e;else{var r=i[t];i[t]=e,r!==e&&this.notify(t,r)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.applyProperties=function(t){t.values_&&Vr(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],$r(this.values_)&&(this.values_=null),e||this.notify(t,n)}},e}(lo),po=ho,fo="postrender",go="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",mo=-1!==go.indexOf("firefox"),yo=(-1!==go.indexOf("safari")&&go.indexOf("chrom"),-1!==go.indexOf("webkit")&&-1==go.indexOf("edge")),vo=-1!==go.indexOf("macintosh"),_o="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,xo="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,wo="undefined"!=typeof Image&&Image.prototype.decode,bo=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}();function So(t,e,n,i){var r;return n&&n.length?r=n.shift():xo?r=new OffscreenCanvas(t||300,e||300):(r=document.createElement("canvas")).style.all="initial",t&&(r.width=t),e&&(r.height=e),r.getContext("2d",i)}function Co(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function To(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}var Eo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mo=function(t){function e(e){var n=t.call(this)||this,i=e.element;return!i||e.target||i.style.pointerEvents||(i.style.pointerEvents="auto"),n.element=i||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return Eo(e,t),e.prototype.disposeInternal=function(){To(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&To(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)oo(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Gr&&this.listenerKeys.push(io(t,fo,this.render,this)),t.render())},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(po),Oo="ol-hidden",Ro="ol-control",Po=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),ko=["style","variant","weight","size","lineHeight","family"],Io=function(t){var e=t.match(Po);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,r=ko.length;i<r;++i){var o=e[i+1];void 0!==o&&(n[ko[i]]=o)}return n.families=n.family.split(/,\s?/),n},Lo="opacity",Fo="visible",Ao="extent",Zo="zIndex",jo="maxResolution",Do="minResolution",zo="maxZoom",Wo="minZoom",No="source",Go=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Vo=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var i=Vr({},e);return"object"==typeof e.properties&&(delete i.properties,Vr(i,e.properties)),i.opacity=void 0!==e.opacity?e.opacity:1,$n("number"==typeof i.opacity,64),i.visible=void 0===e.visible||e.visible,i.zIndex=e.zIndex,i.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,i.minResolution=void 0!==e.minResolution?e.minResolution:0,i.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,i.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==i.className?e.className:"ol-layer",delete i.className,n.setProperties(i),n.state_=null,n}return Go(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=Pi(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return Wn()},e.prototype.getLayerStatesArray=function(t){return Wn()},e.prototype.getExtent=function(){return this.get(Ao)},e.prototype.getMaxResolution=function(){return this.get(jo)},e.prototype.getMinResolution=function(){return this.get(Do)},e.prototype.getMinZoom=function(){return this.get(Wo)},e.prototype.getMaxZoom=function(){return this.get(zo)},e.prototype.getOpacity=function(){return this.get(Lo)},e.prototype.getSourceState=function(){return Wn()},e.prototype.getVisible=function(){return this.get(Fo)},e.prototype.getZIndex=function(){return this.get(Zo)},e.prototype.setExtent=function(t){this.set(Ao,t)},e.prototype.setMaxResolution=function(t){this.set(jo,t)},e.prototype.setMinResolution=function(t){this.set(Do,t)},e.prototype.setMaxZoom=function(t){this.set(zo,t)},e.prototype.setMinZoom=function(t){this.set(Wo,t)},e.prototype.setOpacity=function(t){$n("number"==typeof t,64),this.set(Lo,t)},e.prototype.setVisible=function(t){this.set(Fo,t)},e.prototype.setZIndex=function(t){this.set(Zo,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(po),Bo="precompose",Ho="rendercomplete",$o="undefined",Ko="ready",Xo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Yo(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}var Uo=function(t){function e(e){var n=this,i=Vr({},e);delete i.source,(n=t.call(this,i)||this).on,n.once,n.un,n.mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addChangeListener(No,n.handleSourcePropertyChange_);var r=e.source?e.source:null;return n.setSource(r),n}return Xo(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(No)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():$o},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(oo(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=io(t,Yr,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise((function(t){return t([])}))},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(oo(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(oo(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=io(t,Bo,(function(t){var e=t.frameState.layerStatesArray,n=this.getLayerState(!1);$n(!e.some((function(t){return t.layer===n.layer})),67),e.push(n)}),this),this.mapRenderKey_=io(this,Yr,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(No,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},e}(Vo),qo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Jo=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===i.collapsed||i.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==i.collapsible,n.collapsible_=void 0===i.collapsible||i.collapsible,n.collapsible_||(n.collapsed_=!1);var r=void 0!==i.className?i.className:"ol-attribution",o=void 0!==i.tipLabel?i.tipLabel:"Attributions",a=void 0!==i.expandClassName?i.expandClassName:r+"-expand",s=void 0!==i.collapseLabel?i.collapseLabel:"",l=void 0!==i.collapseClassName?i.collapseClassName:r+"-collpase";"string"==typeof s?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=s,n.collapseLabel_.className=l):n.collapseLabel_=s;var u=void 0!==i.label?i.label:"i";"string"==typeof u?(n.label_=document.createElement("span"),n.label_.textContent=u,n.label_.className=a):n.label_=u;var c=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_;n.toggleButton_=document.createElement("button"),n.toggleButton_.setAttribute("type","button"),n.toggleButton_.setAttribute("aria-expanded",String(!n.collapsed_)),n.toggleButton_.title=o,n.toggleButton_.appendChild(c),n.toggleButton_.addEventListener(qr,n.handleClick_.bind(n),!1);var h=r+" ol-unselectable "+Ro+(n.collapsed_&&n.collapsible_?" ol-collapsed":"")+(n.collapsible_?"":" ol-uncollapsible"),p=n.element;return p.className=h,p.appendChild(n.toggleButton_),p.appendChild(n.ulElement_),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return qo(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],i=!0,r=t.layerStatesArray,o=0,a=r.length;o<a;++o){var s=r[o];if(Yo(s,t.viewState)){var l=s.layer.getSource();if(l){var u=l.getAttributions();if(u){var c=u(t);if(c)if(i=i&&!1!==l.getAttributionsCollapsible(),Array.isArray(c))for(var h=0,p=c.length;h<p;++h)c[h]in e||(n.push(c[h]),e[c[h]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(i),n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Dr(e,this.renderedAttributions_)){!function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(var i=0,r=e.length;i<r;++i){var o=document.createElement("li");o.innerHTML=e[i],this.ulElement_.appendChild(o)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?Co(this.collapseLabel_,this.label_):Co(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(Mo),Qo="add",ta="remove",ea=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),na="length",ia=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.element=n,r.index=i,r}return ea(e,t),e}(Pr),ra=function(t){function e(e,n){var i=t.call(this)||this;i.on,i.once,i.un;var r=n||{};if(i.unique_=!!r.unique,i.array_=e||[],i.unique_)for(var o=0,a=i.array_.length;o<a;++o)i.assertUnique_(i.array_[o],o);return i.updateLength_(),i}return ea(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(na)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new ia(Qo,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new ia(ta,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new ia(ta,i,t)),this.dispatchEvent(new ia(Qo,e,t))}else{for(var r=n;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(na,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new Hn(58)},e}(po);function oa(t){return Math.pow(t,3)}function aa(t){return 1-oa(1-t)}function sa(t){return 3*t*t-2*t*t*t}function la(t){return t}var ua=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ca=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var r=void 0!==i.className?i.className:"ol-rotate",o=void 0!==i.label?i.label:"",a=void 0!==i.compassClassName?i.compassClassName:"ol-compass";n.label_=null,"string"==typeof o?(n.label_=document.createElement("span"),n.label_.className=a,n.label_.textContent=o):(n.label_=o,n.label_.classList.add(a));var s=i.tipLabel?i.tipLabel:"Reset rotation",l=document.createElement("button");l.className=r+"-reset",l.setAttribute("type","button"),l.title=s,l.appendChild(n.label_),l.addEventListener(qr,n.handleClick_.bind(n),!1);var u=r+" ol-unselectable "+Ro,c=n.element;return c.className=u,c.appendChild(l),n.callResetNorth_=i.resetNorth?i.resetNorth:void 0,n.duration_=void 0!==i.duration?i.duration:250,n.autoHide_=void 0===i.autoHide||i.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(Oo),n}return ua(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:aa}):t.setRotation(0))}},e.prototype.render=function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains(Oo);r||0!==n?r&&0!==n&&this.element.classList.remove(Oo):this.element.classList.add(Oo)}this.label_.style.transform=i}this.rotation_=n}},e}(Mo),ha=ca,pa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),da=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),target:i.target})||this;var r=void 0!==i.className?i.className:"ol-zoom",o=void 0!==i.delta?i.delta:1,a=void 0!==i.zoomInClassName?i.zoomInClassName:r+"-in",s=void 0!==i.zoomOutClassName?i.zoomOutClassName:r+"-out",l=void 0!==i.zoomInLabel?i.zoomInLabel:"+",u=void 0!==i.zoomOutLabel?i.zoomOutLabel:"",c=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",h=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=a,p.setAttribute("type","button"),p.title=c,p.appendChild("string"==typeof l?document.createTextNode(l):l),p.addEventListener(qr,n.handleClick_.bind(n,o),!1);var d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=h,d.appendChild("string"==typeof u?document.createTextNode(u):u),d.addEventListener(qr,n.handleClick_.bind(n,-o),!1);var f=r+" ol-unselectable "+Ro,g=n.element;return g.className=f,g.appendChild(p),g.appendChild(d),n.duration_=void 0!==i.duration?i.duration:250,n}return pa(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var i=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:i,duration:this.duration_,easing:aa})):e.setZoom(i)}}},e}(Mo);function fa(t){var e=t||{},n=new ra;return(void 0===e.zoom||e.zoom)&&n.push(new da(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new ha(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new Jo(e.attributionOptions)),n}var ga="pointermove",ma="pointerdown",ya=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),va="projection",_a="coordinateFormat",xa=function(t){function e(e){var n=this,i=e||{},r=document.createElement("div");r.className=void 0!==i.className?i.className:"ol-mouse-position",(n=t.call(this,{element:r,render:i.render,target:i.target})||this).on,n.once,n.un,n.addChangeListener(va,n.handleProjectionChanged_),i.coordinateFormat&&n.setCoordinateFormat(i.coordinateFormat),i.projection&&n.setProjection(i.projection);var o=!0,a="&#160;";return"undefinedHTML"in i?(void 0!==i.undefinedHTML&&(a=i.undefinedHTML),o=!!a):"placeholder"in i&&(!1===i.placeholder?o=!1:a=String(i.placeholder)),n.placeholder_=a,n.renderOnMouseOut_=o,n.renderedHTML_=r.innerHTML,n.mapProjection_=null,n.transform_=null,n}return ya(e,t),e.prototype.handleProjectionChanged_=function(){this.transform_=null},e.prototype.getCoordinateFormat=function(){return this.get(_a)},e.prototype.getProjection=function(){return this.get(va)},e.prototype.handleMouseMove=function(t){var e=this.getMap();this.updateHTML_(e.getEventPixel(t))},e.prototype.handleMouseOut=function(t){this.updateHTML_(null)},e.prototype.setMap=function(e){if(t.prototype.setMap.call(this,e),e){var n=e.getViewport();this.listenerKeys.push(io(n,ga,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(io(n,"pointerout",this.handleMouseOut,this)),this.updateHTML_(null)}},e.prototype.setCoordinateFormat=function(t){this.set(_a,t)},e.prototype.setProjection=function(t){this.set(va,rr(t))},e.prototype.updateHTML_=function(t){var e=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){var n=this.getProjection();this.transform_=n?hr(this.mapProjection_,n):nr}var i=this.getMap().getCoordinateFromPixelInternal(t);if(i){var r=xr();r&&(this.transform_=hr(this.mapProjection_,r)),this.transform_(i,i);var o=this.getCoordinateFormat();e=o?o(i):i.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)},e.prototype.render=function(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null},e}(Mo),wa=xa,ba=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sa="units",Ca="degrees",Ta="metric",Ea=[1,2,5],Ma=25.4/.28,Oa=function(t){function e(e){var n=this,i=e||{},r=void 0!==i.className?i.className:i.bar?"ol-scale-bar":"ol-scale-line";return(n=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this).on,n.once,n.un,n.innerElement_=document.createElement("div"),n.innerElement_.className=r+"-inner",n.element.className=r+" ol-unselectable",n.element.appendChild(n.innerElement_),n.viewState_=null,n.minWidth_=void 0!==i.minWidth?i.minWidth:64,n.renderedVisible_=!1,n.renderedWidth_=void 0,n.renderedHTML_="",n.addChangeListener(Sa,n.handleUnitsChanged_),n.setUnits(i.units||Ta),n.scaleBar_=i.bar||!1,n.scaleBarSteps_=i.steps||4,n.scaleBarText_=i.text||!1,n.dpi_=i.dpi||void 0,n}return ba(e,t),e.prototype.getUnits=function(){return this.get(Sa)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(Sa,t)},e.prototype.setDpi=function(t){this.dpi_=t},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,n=t.projection,i=this.getUnits(),r=i==Ca?Oi.DEGREES:Oi.METERS,o=or(n,t.resolution,e,r),a=this.minWidth_*(this.dpi_||Ma)/Ma,s=a*o,l="";if(i==Ca){var u=Mi[Oi.DEGREES];(s*=u)<u/60?(l="",o*=3600):s<u?(l="",o*=60):l=""}else"imperial"==i?s<.9144?(l="in",o/=.0254):s<1609.344?(l="ft",o/=.3048):(l="mi",o/=1609.344):"nautical"==i?(o/=1852,l="nm"):i==Ta?s<.001?(l="m",o*=1e6):s<1?(l="mm",o*=1e3):s<1e3?l="m":(l="km",o/=1e3):"us"==i?s<.9144?(l="in",o*=39.37):s<1609.344?(l="ft",o/=.30480061):(l="mi",o/=1609.3472):$n(!1,33);for(var c,h,p,d,f=3*Math.floor(Math.log(a*o)/Math.log(10));;){p=Math.floor(f/3);var g=Math.pow(10,p);if(c=Ea[(f%3+3)%3]*g,h=Math.round(c/o),isNaN(h))return this.element.style.display="none",void(this.renderedVisible_=!1);if(h>=a)break;++f}d=this.scaleBar_?this.createScaleBar(h,c,l):c.toFixed(p<0?-p:0)+" "+l,this.renderedHTML_!=d&&(this.innerElement_.innerHTML=d,this.renderedHTML_=d),this.renderedWidth_!=h&&(this.innerElement_.style.width=h+"px",this.renderedWidth_=h),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.createScaleBar=function(t,e,n){for(var i="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),r=[],o=t/this.scaleBarSteps_,a="#ffffff",s=0;s<this.scaleBarSteps_;s++)0===s&&r.push(this.createMarker("absolute",s)),r.push('<div><div class="ol-scale-singlebar" style="width: '+o+"px;background-color: "+a+';"></div>'+this.createMarker("relative",s)+(s%2==0||2===this.scaleBarSteps_?this.createStepText(s,t,!1,e,n):"")+"</div>"),s===this.scaleBarSteps_-1&&r.push(this.createStepText(s+1,t,!0,e,n)),a="#ffffff"===a?"#000000":"#ffffff";return'<div style="display: flex;">'+(this.scaleBarText_?'<div class="ol-scale-text" style="width: '+t+'px;">'+i+"</div>":"")+r.join("")+"</div>"},e.prototype.createMarker=function(t,e){return'<div class="ol-scale-step-marker" style="position: '+t+";top: "+("absolute"===t?3:-10)+'px;"></div>'},e.prototype.createStepText=function(t,e,n,i,r){var o=(0===t?0:Math.round(i/this.scaleBarSteps_*t*100)/100)+(0===t?"":" "+r);return'<div class="ol-scale-step-text" style="margin-left: '+(0===t?-3:e/this.scaleBarSteps_*-1)+"px;text-align: "+(0===t?"left":"center")+"; min-width: "+(0===t?0:e/this.scaleBarSteps_*2)+"px;left: "+(n?e+"px":"unset")+';">'+o+"</div>"},e.prototype.getScaleForResolution=function(){var t=or(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center),e=this.dpi_||Ma,n=this.viewState_.projection.getMetersPerUnit();return parseFloat(t.toString())*n*(1e3/25.4)*e},e.prototype.render=function(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()},e}(Mo),Ra=Oa,Pa="Point",ka="LineString",Ia="Polygon",La="MultiPoint",Fa="MultiLineString",Aa="MultiPolygon",Za="GeometryCollection",ja="Circle",Da="center",za="resolution",Wa="rotation";function Na(t,e,n){return function(i,r,o,a,s){if(i){var l=e?0:o[0]*r,u=e?0:o[1]*r,c=s?s[0]:0,h=s?s[1]:0,p=t[0]+l/2+c,d=t[2]-l/2+c,f=t[1]+u/2+h,g=t[3]-u/2+h;p>d&&(d=p=(d+p)/2),f>g&&(g=f=(g+f)/2);var m=Pi(i[0],p,d),y=Pi(i[1],f,g),v=30*r;return a&&n&&(m+=-v*Math.log(1+Math.max(0,p-i[0])/v)+v*Math.log(1+Math.max(0,i[0]-d)/v),y+=-v*Math.log(1+Math.max(0,f-i[1])/v)+v*Math.log(1+Math.max(0,i[1]-g)/v)),[m,y]}}}function Ga(t){return t}function Va(t,e,n,i){var r=xi(e)/n[0],o=mi(e)/n[1];return i?Math.min(t,Math.max(r,o)):Math.min(t,Math.min(r,o))}function Ba(t,e,n){var i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),Pi(i,n/2,2*e)}function Ha(t,e,n,i,r){return function(o,a,s,l){if(void 0!==o){var u=i?Va(t,i,s,r):t;return(void 0===n||n)&&l?Ba(o,u,e):Pi(o,e,u)}}}function $a(t){return void 0!==t?0:void 0}function Ka(t){return void 0!==t?t:void 0}var Xa,Ya="XY",Ua="XYM",qa="XYZM",Ja=new Array(6);function Qa(t){return es(t,1,0,0,1,0,0)}function ts(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=e[0],u=e[1],c=e[2],h=e[3],p=e[4],d=e[5];return t[0]=n*l+r*u,t[1]=i*l+o*u,t[2]=n*c+r*h,t[3]=i*c+o*h,t[4]=n*p+r*d+a,t[5]=i*p+o*d+s,t}function es(t,e,n,i,r,o,a){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=a,t}function ns(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function is(t,e,n){return ts(t,es(Ja,e,0,0,n,0,0))}function rs(t,e,n,i,r,o,a,s){var l=Math.sin(o),u=Math.cos(o);return t[0]=i*u,t[1]=r*l,t[2]=-i*l,t[3]=r*u,t[4]=a*i*u-s*i*l+e,t[5]=a*r*l+s*r*u+n,t}function os(t,e){var n,i=(n=e)[0]*n[3]-n[1]*n[2];$n(0!==i,32);var r=e[0],o=e[1],a=e[2],s=e[3],l=e[4],u=e[5];return t[0]=s/i,t[1]=-o/i,t[2]=-a/i,t[3]=r/i,t[4]=(a*u-s*l)/i,t[5]=-(r*u-o*l)/i,t}function as(t,e,n,i,r,o){for(var a=o||[],s=0,l=e;l<n;l+=i){var u=t[l],c=t[l+1];a[s++]=r[0]*u+r[2]*c+r[4],a[s++]=r[1]*u+r[3]*c+r[5]}return o&&a.length!=s&&(a.length=s),a}function ss(t,e,n,i,r,o,a){for(var s=a||[],l=Math.cos(r),u=Math.sin(r),c=o[0],h=o[1],p=0,d=e;d<n;d+=i){var f=t[d]-c,g=t[d+1]-h;s[p++]=c+f*l-g*u,s[p++]=h+f*u+g*l;for(var m=d+2;m<d+i;++m)s[p++]=t[m]}return a&&s.length!=p&&(s.length=p),s}var ls=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),us=[1,0,0,1,0,0],cs=function(t){function e(){var e,n,i,r,o,a=t.call(this)||this;return a.extent_=[1/0,1/0,-1/0,-1/0],a.extentRevision_=-1,a.simplifiedGeometryMaxMinSquaredTolerance=0,a.simplifiedGeometryRevision=0,a.simplifyTransformedInternal=(e=function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(e)},o=!1,function(){var t=Array.prototype.slice.call(arguments);return o&&this===r&&Dr(t,i)||(o=!0,r=this,i=t,n=e.apply(this,arguments)),n}),a}return ls(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return Wn()},e.prototype.closestPointXY=function(t,e,n,i){return Wn()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Wn()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&ni(e),this.extentRevision_=this.getRevision()}return function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){Wn()},e.prototype.scale=function(t,e,n){Wn()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Wn()},e.prototype.getType=function(){return Wn()},e.prototype.applyTransform=function(t){Wn()},e.prototype.intersectsExtent=function(t){return Wn()},e.prototype.translate=function(t,e){Wn()},e.prototype.transform=function(t,e){var n=rr(t),i=n.getUnits()==Oi.TILE_PIXELS?function(t,i,r){var o=n.getExtent(),a=n.getWorldExtent(),s=mi(a)/mi(o);return rs(us,a[0],a[3],s,-s,0,0,0),as(t,0,t.length,r,us,i),pr(n,e)(t,i,r)}:pr(n,e);return this.applyTransform(i),this},e}(po),hs=cs,ps=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ds=function(t){function e(){var e=t.call(this)||this;return e.layout=Ya,e.stride=2,e.flatCoordinates=null,e}return ps(e,t),e.prototype.computeExtent=function(t){return ri(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Wn()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=fs(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){Wn()},e.prototype.setLayout=function(t,e,n){var i;if(t)i=fs(t);else{for(var r=0;r<n;++r){if(0===e.length)return this.layout=Ya,void(this.stride=2);e=e[0]}t=function(t){var e;return 2==t?e=Ya:3==t?e="XYZ":4==t&&(e=qa),e}(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();ss(n,0,n.length,i,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var r=n;r||(r=di(this.getExtent()));var o=this.getFlatCoordinates();if(o){var a=this.getStride();!function(t,e,n,i,r,o,a,s){for(var l=s||[],u=a[0],c=a[1],h=0,p=0;p<n;p+=i){var d=t[p]-u,f=t[p+1]-c;l[h++]=u+r*d,l[h++]=c+o*f;for(var g=p+2;g<p+i;++g)l[h++]=t[g]}s&&l.length!=h&&(l.length=h)}(o,0,o.length,a,t,i,r,o),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(t,e,n,i,r,o,a){for(var s=a||[],l=0,u=0;u<n;u+=i){s[l++]=t[u]+r,s[l++]=t[u+1]+o;for(var c=u+2;c<u+i;++c)s[l++]=t[c]}a&&s.length!=l&&(s.length=l)}(n,0,n.length,i,t,e,n),this.changed()}},e}(hs);function fs(t){var e;return t==Ya?e=2:"XYZ"==t||t==Ua?e=3:t==qa&&(e=4),e}var gs=ds;function ms(t,e,n,i,r,o,a){var s,l=t[e],u=t[e+1],c=t[n]-l,h=t[n+1]-u;if(0===c&&0===h)s=e;else{var p=((r-l)*c+(o-u)*h)/(c*c+h*h);if(p>1)s=n;else{if(p>0){for(var d=0;d<i;++d)a[d]=ji(t[e+d],t[n+d],p);return void(a.length=i)}s=e}}for(d=0;d<i;++d)a[d]=t[s+d];a.length=i}function ys(t,e,n,i,r){var o=t[e],a=t[e+1];for(e+=i;e<n;e+=i){var s=t[e],l=t[e+1],u=Fi(o,a,s,l);u>r&&(r=u),o=s,a=l}return r}function vs(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o){var s=n[o];r=ys(t,e,s,i,r),e=s}return r}function _s(t,e,n,i,r,o,a,s,l,u,c){if(e==n)return u;var h,p;if(0===r){if((p=Fi(a,s,t[e],t[e+1]))<u){for(h=0;h<i;++h)l[h]=t[e+h];return l.length=i,p}return u}for(var d=c||[NaN,NaN],f=e+i;f<n;)if(ms(t,f-i,f,i,a,s,d),(p=Fi(a,s,d[0],d[1]))<u){for(u=p,h=0;h<i;++h)l[h]=d[h];l.length=i,f+=i}else f+=i*Math.max((Math.sqrt(p)-Math.sqrt(u))/r|0,1);if(o&&(ms(t,n-i,e,i,a,s,d),(p=Fi(a,s,d[0],d[1]))<u)){for(u=p,h=0;h<i;++h)l[h]=d[h];l.length=i}return u}function xs(t,e,n,i,r,o,a,s,l,u,c){for(var h=c||[NaN,NaN],p=0,d=n.length;p<d;++p){var f=n[p];u=_s(t,e,f,i,r,o,a,s,l,u,h),e=f}return u}function ws(t,e,n,i){for(var r=0,o=n.length;r<o;++r)for(var a=n[r],s=0;s<i;++s)t[e++]=a[s];return e}function bs(t,e,n,i,r){for(var o=r||[],a=0,s=0,l=n.length;s<l;++s){var u=ws(t,e,n[s],i);o[a++]=u,e=u}return o.length=a,o}function Ss(t,e,n,i,r,o,a){var s=(n-e)/i;if(s<3){for(;e<n;e+=i)o[a++]=t[e],o[a++]=t[e+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var u=[e,n-i],c=0;u.length>0;){for(var h=u.pop(),p=u.pop(),d=0,f=t[p],g=t[p+1],m=t[h],y=t[h+1],v=p+i;v<h;v+=i){var _=Li(t[v],t[v+1],f,g,m,y);_>d&&(c=v,d=_)}d>r&&(l[(c-e)/i]=1,p+i<c&&u.push(p,c),c+i<h&&u.push(c,h))}for(v=0;v<s;++v)l[v]&&(o[a++]=t[e+v*i],o[a++]=t[e+v*i+1]);return a}function Cs(t,e){return e*Math.round(t/e)}function Ts(t,e,n,i,r,o,a){if(e==n)return a;var s,l,u=Cs(t[e],r),c=Cs(t[e+1],r);e+=i,o[a++]=u,o[a++]=c;do{if(s=Cs(t[e],r),l=Cs(t[e+1],r),(e+=i)==n)return o[a++]=s,o[a++]=l,a}while(s==u&&l==c);for(;e<n;){var h=Cs(t[e],r),p=Cs(t[e+1],r);if(e+=i,h!=s||p!=l){var d=s-u,f=l-c,g=h-u,m=p-c;d*m==f*g&&(d<0&&g<d||d==g||d>0&&g>d)&&(f<0&&m<f||f==m||f>0&&m>f)?(s=h,l=p):(o[a++]=s,o[a++]=l,u=s,c=l,s=h,l=p)}}return o[a++]=s,o[a++]=l,a}function Es(t,e,n,i,r,o,a,s){for(var l=0,u=n.length;l<u;++l){var c=n[l];a=Ts(t,e,c,i,r,o,a),s.push(a),e=c}return a}function Ms(t,e,n,i,r){for(var o=void 0!==r?r:[],a=0,s=e;s<n;s+=i)o[a++]=t.slice(s,s+i);return o.length=a,o}function Os(t,e,n,i,r){for(var o=void 0!==r?r:[],a=0,s=0,l=n.length;s<l;++s){var u=n[s];o[a++]=Ms(t,e,u,i,o[a]),e=u}return o.length=a,o}function Rs(t,e,n,i,r){for(var o=void 0!==r?r:[],a=0,s=0,l=n.length;s<l;++s){var u=n[s];o[a++]=Os(t,e,u,i,o[a]),e=u[u.length-1]}return o.length=a,o}function Ps(t,e,n,i){for(var r=0,o=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],l=t[e+1];r+=a*s-o*l,o=s,a=l}return r/2}function ks(t,e,n,i){for(var r=0,o=0,a=n.length;o<a;++o){var s=n[o];r+=Ps(t,e,s,i),e=s}return r}var Is=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ls=function(t){function e(e,n){var i=t.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return Is(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<Un(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ys(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),_s(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return Ps(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Ms(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Ss(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,Ya)},e.prototype.getType=function(){return"LinearRing"},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ws(this.flatCoordinates,0,t,this.stride),this.changed()},e}(gs),Fs=Ls,As=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zs=function(t){function e(e,n){var i=t.call(this)||this;return i.setCoordinates(e,n),i}return As(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=Fi(t,e,r[0],r[1]);if(o<i){for(var a=this.stride,s=0;s<a;++s)n[s]=r[s];return n.length=a,o}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return ii(this.flatCoordinates,t)},e.prototype.getType=function(){return Pa},e.prototype.intersectsExtent=function(t){return Qn(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n,i){for(var r=0,o=n.length;r<o;++r)t[e++]=n[r];return e}(this.flatCoordinates,0,t,this.stride),this.changed()},e}(gs),js=Zs;function Ds(t,e,n,i,r){return!ui(r,(function(r){return!zs(t,e,n,i,r[0],r[1])}))}function zs(t,e,n,i,r,o){for(var a=0,s=t[n-i],l=t[n-i+1];e<n;e+=i){var u=t[e],c=t[e+1];l<=o?c>o&&(u-s)*(o-l)-(r-s)*(c-l)>0&&a++:c<=o&&(u-s)*(o-l)-(r-s)*(c-l)<0&&a--,s=u,l=c}return 0!==a}function Ws(t,e,n,i,r,o){if(0===n.length)return!1;if(!zs(t,e,n[0],i,r,o))return!1;for(var a=1,s=n.length;a<s;++a)if(zs(t,n[a-1],n[a],i,r,o))return!1;return!0}function Ns(t,e,n,i,r,o,a){for(var s,l,u,c,h,p,d,f=r[o+1],g=[],m=0,y=n.length;m<y;++m){var v=n[m];for(c=t[v-i],p=t[v-i+1],s=e;s<v;s+=i)h=t[s],d=t[s+1],(f<=p&&d<=f||p<=f&&f<=d)&&(u=(f-p)/(d-p)*(h-c)+c,g.push(u)),c=h,p=d}var _=NaN,x=-1/0;for(g.sort(Lr),c=g[0],s=1,l=g.length;s<l;++s){h=g[s];var w=Math.abs(h-c);w>x&&Ws(t,e,n,i,u=(c+h)/2,f)&&(_=u,x=w),c=h}return isNaN(_)&&(_=r[o]),a?(a.push(_,f,x),a):[_,f,x]}function Gs(t,e,n,i,r){for(var o=[],a=0,s=n.length;a<s;++a){var l=n[a];o=Ns(t,e,l,i,r,2*a,o),e=l[l.length-1]}return o}function Vs(t,e,n,i,r){var o;for(e+=i;e<n;e+=i)if(o=r(t.slice(e-i,e),t.slice(e,e+i)))return o;return!1}function Bs(t,e,n,i,r){var o=si([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!wi(r,o)&&(!!Jn(r,o)||o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]||Vs(t,e,n,i,(function(t,e){return function(t,e,n){var i=!1,r=ti(t,e),o=ti(t,n);if(1===r||1===o)i=!0;else{var a=t[0],s=t[1],l=t[2],u=t[3],c=e[0],h=e[1],p=n[0],d=n[1],f=(d-h)/(p-c),g=void 0,m=void 0;2&o&&!(2&r)&&(i=(g=p-(d-u)/f)>=a&&g<=l),i||!(4&o)||4&r||(i=(m=d-(p-l)*f)>=s&&m<=u),i||!(8&o)||8&r||(i=(g=p-(d-s)/f)>=a&&g<=l),i||!(16&o)||16&r||(i=(m=d-(p-a)*f)>=s&&m<=u)}return i}(r,t,e)})))}function Hs(t,e,n,i,r){if(!function(t,e,n,i,r){return!!(Bs(t,e,n,i,r)||zs(t,e,n,i,r[0],r[1])||zs(t,e,n,i,r[0],r[3])||zs(t,e,n,i,r[2],r[1])||zs(t,e,n,i,r[2],r[3]))}(t,e,n[0],i,r))return!1;if(1===n.length)return!0;for(var o=1,a=n.length;o<a;++o)if(Ds(t,n[o-1],n[o],i,r)&&!Bs(t,n[o-1],n[o],i,r))return!1;return!0}function $s(t,e,n,i){for(;e<n-i;){for(var r=0;r<i;++r){var o=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=o}e+=i,n-=i}}function Ks(t,e,n,i){for(var r=0,o=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],l=t[e+1];r+=(s-o)*(l+a),o=s,a=l}return 0===r?void 0:r>0}function Xs(t,e,n,i,r){for(var o=void 0!==r&&r,a=0,s=n.length;a<s;++a){var l=n[a],u=Ks(t,e,l,i);if(0===a){if(o&&u||!o&&!u)return!1}else if(o&&!u||!o&&u)return!1;e=l}return!0}function Ys(t,e,n,i,r){for(var o=void 0!==r&&r,a=0,s=n.length;a<s;++a){var l=n[a],u=Ks(t,e,l,i);(0===a?o&&u||!o&&!u:o&&!u||!o&&u)&&$s(t,e,l,i),e=l}return e}function Us(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o)e=Ys(t,e,n[o],i,r);return e}var qs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Js=function(t){function e(e,n,i){var r=t.call(this)||this;return r.ends_=[],r.flatInteriorPointRevision_=-1,r.flatInteriorPoint_=null,r.maxDelta_=-1,r.maxDeltaRevision_=-1,r.orientedRevision_=-1,r.orientedFlatCoordinates_=null,void 0!==n&&i?(r.setFlatCoordinates(n,e),r.ends_=i):r.setCoordinates(e,n),r}return qs(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?Zr(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){return i<Un(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(vs(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),xs(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return Ws(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return ks(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?Ys(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,Os(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=di(this.getExtent());this.flatInteriorPoint_=Ns(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new js(this.getFlatInteriorPoint(),Ua)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Fs(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],r=0,o=0,a=n.length;o<a;++o){var s=n[o],l=new Fs(e.slice(r,s),t);i.push(l),r=s}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Xs(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Ys(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Es(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,Ya,i)},e.prototype.getType=function(){return Ia},e.prototype.intersectsExtent=function(t){return Hs(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=bs(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(gs),Qs=Js;function tl(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=[e,n,e,r,i,r,i,n,e,n];return new Js(o,Ya,[o.length])}var el=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),nl=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var i=Vr({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=sr(i.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.cancelAnchor_=void 0,i.center&&(i.center=br(i.center,n.projection_)),i.extent&&(i.extent=Sr(i.extent,n.projection_)),n.applyOptions_(i),n}return el(e,t),e.prototype.applyOptions_=function(t){var e=function(t){var e,n,i,r=void 0!==t.minZoom?t.minZoom:0,o=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2,s=void 0!==t.multiWorld&&t.multiWorld,l=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,u=void 0!==t.showFullExtent&&t.showFullExtent,c=sr(t.projection,"EPSG:3857"),h=c.getExtent(),p=t.constrainOnlyCenter,d=t.extent;if(s||d||!c.isGlobal()||(p=!1,d=h),void 0!==t.resolutions){var f=t.resolutions;n=f[r],i=void 0!==f[o]?f[o]:f[f.length-1],e=t.constrainResolution?function(t,e,n,i){return function(r,o,a,s){if(void 0!==r){var l=t[0],u=t[t.length-1],c=n?Va(l,n,a,i):l;if(s)return void 0===e||e?Ba(r,c,u):Pi(r,u,c);var h=Math.min(c,r),p=Math.floor(Fr(t,h,o));return t[p]>c&&p<t.length-1?t[p+1]:t[p]}}}(f,l,!p&&d,u):Ha(n,i,l,!p&&d,u)}else{var g=(h?Math.max(xi(h),mi(h)):360*Mi[Oi.DEGREES]/c.getMetersPerUnit())/256/Math.pow(2,0),m=g/Math.pow(2,28);void 0!==(n=t.maxResolution)?r=0:n=g/Math.pow(a,r),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,o):g/Math.pow(a,o):m),o=r+Math.floor(Math.log(n/i)/Math.log(a)),i=n/Math.pow(a,o-r),e=t.constrainResolution?function(t,e,n,i,r,o){return function(a,s,l,u){if(void 0!==a){var c=r?Va(e,r,l,o):e,h=void 0!==n?n:0;if(u)return void 0===i||i?Ba(a,c,h):Pi(a,h,c);var p=Math.ceil(Math.log(e/c)/Math.log(t)-1e-9),d=-s*(.5-1e-9)+.5,f=Math.min(c,a),g=Math.floor(Math.log(e/f)/Math.log(t)+d),m=Math.max(p,g);return Pi(e/Math.pow(t,m),h,c)}}}(a,n,i,l,!p&&d,u):Ha(n,i,l,!p&&d,u)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:r,zoomFactor:a}}(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=e.minZoom;var n=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return Na(t.extent,t.constrainOnlyCenter,e)}var n=sr(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var i=n.getExtent().slice();return i[0]=-1/0,i[2]=1/0,Na(i,!1,!1)}return Ga}(t),i=e.constraint,r=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(r=Ai(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=r?0:t:void 0}):!1===e?Ka:"number"==typeof e?(n=e,i=2*Math.PI/n,function(t,e){return e?t:void 0!==t?t=Math.floor(t/i+.5)*i:void 0}):Ka}return $a;var n,i,r}(t);this.constraints_={center:n,resolution:i,rotation:r},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.setProperties({}),this.options_=t},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var n=this.getCenter();if(n){var i=t||[0,0,0,0];e=e||[0,0,0,0];var r=this.getResolution(),o=r/2*(i[3]-e[3]+e[1]-i[1]),a=r/2*(i[0]-e[0]+e[2]-i[2]);this.setCenterInternal([n[0]+o,n[1]-a])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var e=Vr({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Vr({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var i=arguments[n];i.center&&((i=Vr({},i)).center=br(i.center,this.getProjection())),i.anchor&&((i=Vr({},i)).anchor=br(i.anchor,this.getProjection())),e[n]=i}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var i=arguments[n-1];return i.center&&this.setCenterInternal(i.center),void 0!==i.zoom&&this.setZoom(i.zoom),void 0!==i.rotation&&this.setRotation(i.rotation),void(e&&il(e,!0))}for(var r=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,s=this.targetRotation_,l=[],u=0;u<n;++u){var c=arguments[u],h={start:r,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||sa,callback:e};if(c.center&&(h.sourceCenter=o,h.targetCenter=c.center.slice(),o=h.targetCenter),void 0!==c.zoom?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(c.zoom),a=h.targetResolution):c.resolution&&(h.sourceResolution=a,h.targetResolution=c.resolution,a=h.targetResolution),void 0!==c.rotation){h.sourceRotation=s;var p=Zi(c.rotation-s+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=s+p,s=h.targetRotation}rl(h)?h.complete=!0:r+=h.duration,l.push(h)}this.animations_.push(l),this.setHint(0,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[0]>0},e.prototype.getInteracting=function(){return this.hints_[1]>0},e.prototype.cancelAnimations=function(){var t;this.setHint(0,-this.hints_[0]);for(var e=0,n=this.animations_.length;e<n;++e){var i=this.animations_[e];if(i[0].callback&&il(i[0].callback,!1),!t)for(var r=0,o=i.length;r<o;++r){var a=i[r];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],r=!0,o=0,a=i.length;o<a;++o){var s=i[o];if(!s.complete){var l=t-s.start,u=s.duration>0?l/s.duration:1;u>=1?(s.complete=!0,u=1):r=!1;var c=s.easing(u);if(s.sourceCenter){var h=s.sourceCenter[0],p=s.sourceCenter[1],d=h+c*(s.targetCenter[0]-h),f=p+c*(s.targetCenter[1]-p);this.targetCenter_=[d,f]}if(s.sourceResolution&&s.targetResolution){var g=1===c?s.targetResolution:s.sourceResolution+c*(s.targetResolution-s.sourceResolution);if(s.anchor){var m=this.getViewportSize_(this.getRotation()),y=this.constraints_.resolution(g,0,m,!0);this.targetCenter_=this.calculateCenterZoom(y,s.anchor)}this.targetResolution_=g,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var v=1===c?Zi(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+c*(s.targetRotation-s.sourceRotation);if(s.anchor){var _=this.constraints_.rotation(v,!0);this.targetCenter_=this.calculateCenterRotate(_,s.anchor)}this.targetRotation_=v}if(this.applyTargetState_(!0),e=!0,!s.complete)break}}if(r){this.animations_[n]=null,this.setHint(0,-1);var x=i[0].callback;x&&il(x,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,i,r,o=this.getCenterInternal();return void 0!==o&&(Ci(n=[o[0]-e[0],o[1]-e[1]],t-this.getRotation()),r=e,(i=n)[0]+=+r[0],i[1]+=+r[1]),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenterInternal(),r=this.getResolution();return void 0!==i&&void 0!==r&&(n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]),n},e.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var n=e[0],i=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(i*Math.cos(t))]}return e},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?wr(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(Da)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){return e=this.calculateExtentInternal(t),this.getProjection(),e;var e},e.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSizeMinusPadding_(),n=this.getCenterInternal();$n(n,1);var i=this.getResolution();$n(void 0!==i,2);var r=this.getRotation();return $n(void 0!==r,3),gi(n,i,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(za)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(Sr(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getViewportSizeMinusPadding_(),i=xi(t)/n[0],r=mi(t)/n[1];return Math.max(i,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return n/Math.pow(e,t*r)}},e.prototype.getRotation=function(){return this.get(Wa)},e.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/e;return function(t){return Math.log(n/t)/e/r}},e.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e},e.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),n=this.getRotation(),i=this.getCenterInternal(),r=this.padding_;if(r){var o=this.getViewportSizeMinusPadding_();i=ol(i,this.getViewportSize_(),[o[0]/2+r[3],o[1]/2+r[0]],e,n)}return{center:i.slice(0),projection:void 0!==t?t:null,resolution:e,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var r=Fr(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=Pi(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,Pi(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n;if($n(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t))$n(!bi(t),25),n=tl(i=Sr(t,this.getProjection()));else if(t.getType()===ja){var i;(n=tl(i=Sr(t.getExtent(),this.getProjection()))).rotate(this.getRotation(),di(i))}else{var r=xr();n=r?t.clone().transform(r,this.getProjection()):t}this.fitInternal(n,e)},e.prototype.rotatedExtentForGeometry=function(t){for(var e=this.getRotation(),n=Math.cos(e),i=Math.sin(-e),r=t.getFlatCoordinates(),o=t.getStride(),a=1/0,s=1/0,l=-1/0,u=-1/0,c=0,h=r.length;c<h;c+=o){var p=r[c]*n-r[c+1]*i,d=r[c]*i+r[c+1]*n;a=Math.min(a,p),s=Math.min(s,d),l=Math.max(l,p),u=Math.max(u,d)}return[a,s,l,u]},e.prototype.fitInternal=function(t,e){var n=e||{},i=n.size;i||(i=this.getViewportSizeMinusPadding_());var r,o=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;r=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;var s=this.rotatedExtentForGeometry(t),l=this.getResolutionForExtentInternal(s,[i[0]-o[1]-o[3],i[1]-o[0]-o[2]]);l=isNaN(l)?r:Math.max(l,r),l=this.getConstrainedResolution(l,a?0:1);var u=this.getRotation(),c=Math.sin(u),h=Math.cos(u),p=di(s);p[0]+=(o[1]-o[3])/2*l,p[1]+=(o[0]-o[2])/2*l;var d=p[0]*h-p[1]*c,f=p[1]*h+p[0]*c,g=this.getConstrainedCenter([d,f],l),m=n.callback?n.callback:Gr;void 0!==n.duration?this.animateInternal({resolution:l,center:g,duration:n.duration,easing:n.easing},m):(this.targetResolution_=l,this.targetCenter_=g,this.applyTargetState_(!1,!0),il(m,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(br(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){this.setCenterInternal(ol(t,e,n,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,e,n,i){var r,o=this.padding_;if(o&&t){var a=this.getViewportSizeMinusPadding_(-n),s=ol(t,i,[a[0]/2+o[3],a[1]/2+o[0]],e,n);r=[t[0]-s[0],t[1]-s[1]]}return r},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=wr(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&br(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*t,0,i,n);e&&(this.targetCenter_=this.calculateCenterZoom(r,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=br(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(br(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),r=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,r,n),a=this.constraints_.center(this.targetCenter_,o,r,n,this.calculateCenterShift(this.targetCenter_,o,i,r));this.get(Wa)!==i&&this.set(Wa,i),this.get(za)!==o&&this.set(za,o),this.get(Da)&&Si(this.get(Da),a)||this.set(Da,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,e,n){var i=void 0!==t?t:200,r=e||0,o=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,r,a),l=this.constraints_.center(this.targetCenter_,s,a,!1,this.calculateCenterShift(this.targetCenter_,s,o,a));if(0===i&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=o,this.targetCenter_=l,void this.applyTargetState_();var u=n||(0===i?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===o&&this.getCenterInternal()&&Si(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:s,duration:i,easing:aa,anchor:u}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},e.prototype.endInteraction=function(t,e,n){var i=n&&br(n,this.getProjection());this.endInteractionInternal(t,e,i)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(1,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,i)},e}(po);function il(t,e){setTimeout((function(){t(e)}),0)}function rl(t){return!(t.sourceCenter&&t.targetCenter&&!Si(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}function ol(t,e,n,i,r){var o=Math.cos(-r),a=Math.sin(-r),s=t[0]*o-t[1]*a,l=t[1]*o+t[0]*a;return[(s+=(e[0]/2-n[0])*i)*o-(l+=(n[1]-e[1]/2)*i)*(a=-a),l*o+s*a]}var al=nl,sl=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,ll=/^([a-z]*)$|^hsla?\(.*\)$/i;function ul(t){return"string"==typeof t?t:dl(t)}var cl=function(){var t={},e=0;return function(n){var i;if(t.hasOwnProperty(n))i=t[n];else{if(e>=1024){var r=0;for(var o in t)0==(3&r++)&&(delete t[o],--e)}i=function(t){var e,n,i,r,o;if(ll.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),sl.exec(t)){var a,s=t.length-1;a=s<=4?1:2;var l=4===s||8===s;e=parseInt(t.substr(1+0*a,a),16),n=parseInt(t.substr(1+1*a,a),16),i=parseInt(t.substr(1+2*a,a),16),r=l?parseInt(t.substr(1+3*a,a),16):255,1==a&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,l&&(r=(r<<4)+r)),o=[e,n,i,r/255]}else 0==t.indexOf("rgba(")?pl(o=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((o=t.slice(4,-1).split(",").map(Number)).push(1),pl(o)):$n(!1,14);return o}(n),t[n]=i,++e}return i}}();function hl(t){return Array.isArray(t)?t:cl(t)}function pl(t){return t[0]=Pi(t[0]+.5|0,0,255),t[1]=Pi(t[1]+.5|0,0,255),t[2]=Pi(t[2]+.5|0,0,255),t[3]=Pi(t[3],0,1),t}function dl(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}function fl(t,e,n){return e+":"+t+":"+(n?ul(n):"null")}var gl=new(function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,n){var i=fl(t,e,n);return i in this.cache_?this.cache_[i]:null},t.prototype.set=function(t,e,n,i){var r=fl(t,e,n);this.cache_[r]=i,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}()),ml=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yl=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n}return ml(e,t),e.prototype.dispatchRenderEvent=function(t,e){Wn()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;rs(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),os(i,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o,a,s){var l,u=e.viewState;function c(t,e,n,i){return r.call(o,e,t?n:null,i)}var h=u.projection,p=Ti(t.slice(),h),d=[[0,0]];if(h.canWrapX()&&i){var f=xi(h.getExtent());d.push([-f,0],[f,0])}for(var g=e.layerStatesArray,m=g.length,y=[],v=[],_=0;_<d.length;_++)for(var x=m-1;x>=0;--x){var w=g[x],b=w.layer;if(b.hasRenderer()&&Yo(w,u)&&a.call(s,b)){var S=b.getRenderer(),C=b.getSource();if(S&&C){var T=C.getWrapX()?p:t,E=c.bind(null,w.managed);v[0]=T[0]+d[_][0],v[1]=T[1]+d[_][1],l=S.forEachFeatureAtCoordinate(v,e,n,E,y)}if(l)return l}}if(0!==y.length){var M=1/y.length;return y.forEach((function(t,e){return t.distanceSq+=e*M})),y.sort((function(t,e){return t.distanceSq-e.distanceSq})),y.some((function(t){return l=t.callback(t.feature,t.layer,t.geometry)})),l}},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r){return Wn()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,i,Wr,this,r,o)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){Wn()},e.prototype.scheduleExpireIconCache=function(t){gl.canExpireCache()&&t.postRenderFunctions.push(vl)},e}(Ir);function vl(t,e){gl.expire()}var _l=yl,xl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wl=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.inversePixelTransform=n,o.frameState=i,o.context=r,o}return xl(e,t),e}(Pr),bl="10px sans-serif",Sl="#000",Cl="round",Tl=[],El="round",Ml="#000",Ol="center",Rl="middle",Pl=[0,0,0,0],kl=new po;(new Xr).setSize=function(){console.warn("labelCache is deprecated.")};var Il,Ll,Fl=null,Al={},Zl=function(){var t,e,n="32px ",i=["monospace","serif"],r=i.length,o="wmytzilWMYTZIL@#/&?$%10";function a(t,a,s){for(var l=!0,u=0;u<r;++u){var c=i[u];if(e=Dl(t+" "+a+" "+n+c,o),s!=c){var h=Dl(t+" "+a+" "+n+s+","+c,o);l=l&&h!=e}}return!!l}function s(){for(var e=!0,n=kl.getKeys(),i=0,r=n.length;i<r;++i){var o=n[i];kl.get(o)<100&&(a.apply(this,o.split("\n"))?(Br(Al),Fl=null,Il=void 0,kl.set(o,100)):(kl.set(o,kl.get(o)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var n=Io(e);if(n)for(var i=n.families,r=0,o=i.length;r<o;++r){var l=i[r],u=n.style+"\n"+n.weight+"\n"+l;void 0===kl.get(u)&&(kl.set(u,100,!0),a(n.style,n.weight,l)||(kl.set(u,0,!0),void 0===t&&(t=setInterval(s,32))))}}}();function jl(t,e){return Fl||(Fl=So(1,1)),t!=Il&&(Fl.font=t,Il=Fl.font),Fl.measureText(e)}function Dl(t,e){return jl(t,e).width}function zl(t,e,n){if(e in n)return n[e];var i=Dl(t,e);return n[e]=i,i}var Wl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Nl=function(t){function e(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=io(kl,kr,e.redrawText.bind(e)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className="ol-unselectable ol-layers";var r=e.getViewport();return r.insertBefore(n.element_,r.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return Wl(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var i=new wl(t,void 0,e);n.dispatchEvent(i)}},e.prototype.disposeInternal=function(){oo(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(t){this.calculateMatrices2D(t),this.dispatchRenderEvent(Bo,t);var e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),n=t.viewState;this.children_.length=0;for(var i=[],r=null,o=0,a=e.length;o<a;++o){var s=e[o];if(t.layerIndex=o,Yo(s,n)&&(s.sourceState==Ko||s.sourceState==$o)){var l=s.layer,u=l.render(t,r);u&&(u!==r&&(this.children_.push(u),r=u),"getDeclutter"in l&&i.push(l))}}for(o=i.length-1;o>=0;--o)i[o].renderDeclutter(t);!function(t,e){for(var n=t.childNodes,i=0;;++i){var r=n[i],o=e[i];if(!r&&!o)break;r!==o&&(r?o?t.insertBefore(o,r):(t.removeChild(r),--i):t.appendChild(o))}}(this.element_,this.children_),this.dispatchRenderEvent("postcompose",t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r){for(var o=e.viewState,a=e.layerStatesArray,s=a.length-1;s>=0;--s){var l=a[s],u=l.layer;if(u.hasRenderer()&&Yo(l,o)&&r(u)){var c=u.getRenderer().getDataAtPixel(t,e,n);if(c){var h=i(u,c);if(h)return h}}}},e}(_l),Gl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Vl="layers",Bl=function(t){function e(e){var n=this,i=e||{},r=Vr({},i);delete r.layers;var o=i.layers;return(n=t.call(this,r)||this).on,n.once,n.un,n.layersListenerKeys_=[],n.listenerKeys_={},n.addChangeListener(Vl,n.handleLayersChanged_),o?Array.isArray(o)?o=new ra(o.slice(),{unique:!0}):$n("function"==typeof o.getArray,43):o=new ra(void 0,{unique:!0}),n.setLayers(o),n}return Gl(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(oo),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(io(t,Qo,this.handleLayersAdd_,this),io(t,ta,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(oo);Br(this.listenerKeys_);for(var n=t.getArray(),i=0,r=n.length;i<r;i++){var o=n[i];this.listenerKeys_[Gn(o)]=[io(o,kr,this.handleLayerChange_,this),io(o,Yr,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Gn(e)]=[io(e,kr,this.handleLayerChange_,this),io(e,Yr,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=Gn(t.element);this.listenerKeys_[e].forEach(oo),delete this.listenerKeys_[e],this.changed()},e.prototype.getLayers=function(){return this.get(Vl)},e.prototype.setLayers=function(t){this.set(Vl,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));var i=this.getLayerState(),r=i.zIndex;t||void 0!==i.zIndex||(r=0);for(var o=n,a=e.length;o<a;o++){var s=e[o];s.opacity*=i.opacity,s.visible=s.visible&&i.visible,s.maxResolution=Math.min(s.maxResolution,i.maxResolution),s.minResolution=Math.max(s.minResolution,i.minResolution),s.minZoom=Math.max(s.minZoom,i.minZoom),s.maxZoom=Math.min(s.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==s.extent?s.extent=yi(s.extent,i.extent):s.extent=i.extent),void 0===s.zIndex&&(s.zIndex=r)}return e},e.prototype.getSourceState=function(){return Ko},e}(Vo),Hl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$l=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.map=n,r.frameState=void 0!==i?i:null,r}return Hl(e,t),e}(Pr),Kl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xl=function(t){function e(e,n,i,r,o){var a=t.call(this,e,n,o)||this;return a.originalEvent=i,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==r&&r,a}return Kl(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}($l),Yl={SINGLECLICK:"singleclick",CLICK:qr,DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Ul=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ql=function(t){function e(e,n){var i=t.call(this,e)||this;i.map_=e,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=void 0===n?1:n,i.down_=null;var r=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=r,i.pointerdownListenerKey_=io(r,ma,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=io(r,ga,i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(eo,i.boundHandleTouchMove_,!!bo&&{passive:!1}),i}return Ul(e,t),e.prototype.emulateClick_=function(t){var e=new Xl(Yl.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new Xl(Yl.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new Xl(Yl.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==Yl.POINTERUP||e.type==Yl.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==Yl.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new Xl(Yl.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(oo),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(t);var e=new Xl(Yl.POINTERDOWN,this.map_,t);for(var n in this.dispatchEvent(e),this.down_={},t){var i=t[n];this.down_[n]="function"==typeof i?Gr:i}if(0===this.dragListenerKeys_.length){var r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(io(r,Yl.POINTERMOVE,this.handlePointerMove_,this),io(r,Yl.POINTERUP,this.handlePointerUp_,this),io(this.element_,Yl.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(io(this.element_.getRootNode(),Yl.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new Xl(Yl.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new Xl(t.type,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){var e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"==typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(oo(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(eo,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(oo(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(oo),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(Xr),Jl="layergroup",Ql="size",tu="target",eu="view",nu=1/0,iu=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Br(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},t.prototype.enqueue=function(t){$n(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=nu&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,r=e[t],o=n[t],a=t;t<i>>1;){var s=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),u=l<i&&n[l]<n[s]?l:s;e[t]=e[u],n[t]=n[u],t=u}e[t]=r,n[t]=o,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,r=n[e],o=i[e];e>t;){var a=this.getParentIndex_(e);if(!(i[a]>o))break;n[e]=n[a],i[e]=i[a],e=a}n[e]=r,i[e]=o},t.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,r=this.elements_,o=this.priorities_,a=0,s=r.length;for(e=0;e<s;++e)(n=i(t=r[e]))==nu?delete this.queuedElements_[this.keyFunction_(t)]:(o[a]=n,r[a++]=t);r.length=a,o.length=a,this.heapify_()},t}(),ru=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ou=function(t){function e(e,n){var i=t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()}))||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=n,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return ru(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);return n&&e[0].addEventListener(Yr,this.boundHandleTileChange_),n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(2===n||3===n||4===n){e.removeEventListener(Yr,this.boundHandleTileChange_);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,r=0;this.tilesLoading_<t&&r<e&&this.getCount()>0;)i=(n=this.dequeue()[0]).getKey(),0!==n.getState()||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++r,n.load())},e}(iu);function au(t){return t[0]>0&&t[1]>0}function su(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var lu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),uu=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var i=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,r,o={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new Bl({layers:t.layers});return o.layergroup=a,o.target=t.target,o.view=void 0!==t.view?t.view:new al,void 0!==t.controls&&(Array.isArray(t.controls)?n=new ra(t.controls.slice()):($n("function"==typeof t.controls.getArray,47),n=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new ra(t.interactions.slice()):($n("function"==typeof t.interactions.getArray,48),i=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?r=new ra(t.overlays.slice()):($n("function"==typeof t.overlays.getArray,49),r=t.overlays):r=new ra,{controls:n,interactions:i,keyboardEventTarget:e,overlays:r,values:o}}(e);return n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:_o,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=i.keyboardEventTarget,n.keyHandlerKeys_=null,n.controls=i.controls||new ra,n.interactions=i.interactions||new ra,n.overlays_=i.overlays,n.overlayIdIndex_={},n.renderer_=null,n.handleResize_,n.postRenderFunctions_=[],n.tileQueue_=new ou(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener(Jl,n.handleLayerGroupChanged_),n.addChangeListener(eu,n.handleViewChanged_),n.addChangeListener(Ql,n.handleSizeChanged_),n.addChangeListener(tu,n.handleTargetChanged_),n.setProperties(i.values),n.controls.addEventListener(Qo,function(t){t.element.setMap(this)}.bind(n)),n.controls.addEventListener(ta,function(t){t.element.setMap(null)}.bind(n)),n.interactions.addEventListener(Qo,function(t){t.element.setMap(this)}.bind(n)),n.interactions.addEventListener(ta,function(t){t.element.setMap(null)}.bind(n)),n.overlays_.addEventListener(Qo,function(t){this.addOverlayInternal_(t.element)}.bind(n)),n.overlays_.addEventListener(ta,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(n)),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n}return lu(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixelInternal(t),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,o=void 0!==n.layerFilter?n.layerFilter:Wr,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,a,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{},r=void 0!==i.hitTolerance?i.hitTolerance:0,o=i.layerFilter||Wr;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,r,e,o)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:Wr,r=void 0!==e.hitTolerance?e.hitTolerance:0,o=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,o,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(tu)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return wr(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?ns(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(Jl)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer.getSource();if(i&&i.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=br(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?ns(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Ql)},e.prototype.getView=function(){return this.get(eu)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,e,n,i){return function(t,e,n,i,r){if(!t||!(n in t.wantedTiles))return nu;if(!t.wantedTiles[n][e.getKey()])return nu;var o=t.viewState.center,a=i[0]-o[0],s=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(a*a+s*s)/r}(this.frameState_,t,e,n,i)},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,i=new Xl(n,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent,n=e.type;if(n===ma||n===no||n===Jr){var i=this.getOwnerDocument(),r=this.viewport_.getRootNode?this.viewport_.getRootNode():i,o=e.target;if(this.overlayContainerStopEvent_.contains(o)||!(r===i?i.documentElement:r).contains(o))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t))for(var a=this.getInteractions().getArray().slice(),s=a.length-1;s>=0;s--){var l=a[s];if(l.getMap()===this&&l.getActive()&&this.getTargetElement()&&(!l.handleEvent(t)||t.propagationStopped))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var r=t.viewHints;if(r[0]||r[1]){var o=Date.now()-t.time>8;n=o?0:8,i=o?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}!t||!this.hasListener(Ho)||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(Ho,t);for(var a=this.postRenderFunctions_,s=0,l=a.length;s<l;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.mapBrowserEventHandler_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)oo(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener(Ur,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(no,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(to,this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,To(this.viewport_)}if(t){for(var i in t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new ql(this,this.moveTolerance_),Yl)this.mapBrowserEventHandler_.addEventListener(Yl[i],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Ur,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(no,this.boundHandleBrowserEvent_,!!bo&&{passive:!1});var r=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[io(r,Jr,this.handleBrowserEvent,this),io(r,Qr,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(to,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(oo(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(oo(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=io(t,kr,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=io(t,Yr,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(oo),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[io(t,kr,this.render,this),io(t,Yr,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this,n=this.getSize(),i=this.getView(),r=this.frameState_,o=null;if(void 0!==n&&au(n)&&i&&i.isDef()){var a=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=i.getState();o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:gi(s.center,s.resolution,s.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:s,viewHints:a,wantedTiles:{}}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),r&&(!this.previousExtent_||!bi(this.previousExtent_)&&!oi(o.extent,this.previousExtent_))&&(this.dispatchEvent(new $l("movestart",this,r)),this.previousExtent_=ni(this.previousExtent_)),this.previousExtent_&&!o.viewHints[0]&&!o.viewHints[1]&&!oi(o.extent,this.previousExtent_)&&(this.dispatchEvent(new $l("moveend",this,o)),Yn(o.extent,this.previousExtent_))),this.dispatchEvent(new $l(fo,this,o)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()}),0))},e.prototype.setLayerGroup=function(t){this.set(Jl,t)},e.prototype.setSize=function(t){this.set(Ql,t)},e.prototype.setTarget=function(t){this.set(tu,t)},e.prototype.setView=function(t){this.set(eu,t)},e.prototype.updateSize=function(){var t=this.getTargetElement(),e=void 0;if(t){var n=getComputedStyle(t),i=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),r=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(i)||isNaN(r)||!au(e=[i,r])&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0.")}this.setSize(e),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}},e}(po),cu=uu,hu="active",pu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function du(t,e,n,i){var r=t.getZoom();if(void 0!==r){var o=t.getConstrainedZoom(r+e),a=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==i?i:250,easing:aa})}}var fu=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return pu(e,t),e.prototype.getActive=function(){return this.get(hu)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(hu,t)},e.prototype.setMap=function(t){this.map_=t},e}(po),gu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mu=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:250,n}return gu(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==Yl.DBLCLICK){var n=t.originalEvent,i=t.map,r=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_;du(i.getView(),o,r,this.duration_),n.preventDefault(),e=!0}return!e},e}(fu),yu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function vu(t){for(var e=t.length,n=0,i=0,r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return[n/e,i/e]}var _u=function(t){function e(e){var n=this,i=e||{};return n=t.call(this,i)||this,i.handleDownEvent&&(n.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(n.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(n.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(n.handleUpEvent=i.handleUpEvent),i.stopDown&&(n.stopDown=i.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return yu(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Yl.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Yl.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==Yl.POINTERDOWN){var i=this.handleDownEvent(t);this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==Yl.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===Yl.POINTERDOWN||e===Yl.POINTERDRAG||e===Yl.POINTERUP}(t)){var e=t.originalEvent,n=e.pointerId.toString();t.type==Yl.POINTERUP?delete this.trackedPointers_[n]:(t.type==Yl.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=Hr(this.trackedPointers_)}},e}(fu);function xu(t){var e=arguments;return function(t){for(var n=!0,i=0,r=e.length;i<r&&(n=n&&e[i](t));++i);return n}}var wu=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},bu=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){return t.target.getTargetElement().contains(document.activeElement)}(t)},Su=Wr,Cu=function(t){var e=t.originalEvent;return 0==e.button&&!(yo&&vo&&e.ctrlKey)},Tu=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Eu=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Mu=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},Ou=function(t){var e=t.originalEvent;return $n(void 0!==e,56),"mouse"==e.pointerType},Ru=function(t){var e=t.originalEvent;return $n(void 0!==e,56),e.isPrimary&&0===e.button},Pu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ku=function(t){function e(e){var n=t.call(this,{stopDown:Nr})||this,i=e||{};n.kinetic_=i.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var r=i.condition?i.condition:xu(Tu,Ru);return n.condition_=i.onFocusOnly?xu(bu,r):r,n.noKinetic_=!1,n}return Pu(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e,n,i=this.targetPointers,r=vu(i);if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){var o=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=t.map.getView();e=o,n=a.getResolution(),e[0]*=n,e[1]*=n,Ci(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=n.getCenterInternal(),a=e.getPixelFromCoordinateInternal(o),s=e.getCoordinateFromPixelInternal([a[0]-i*Math.cos(r),a[1]-i*Math.sin(r)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:aa})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(_u),Iu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Lu=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,{stopDown:Nr})||this).condition_=i.condition?i.condition:wu,n.lastAngle_=void 0,n.duration_=void 0!==i.duration?i.duration:250,n}return Iu(e,t),e.prototype.handleDragEvent=function(t){if(Ou(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==$a){var i=e.getSize(),r=t.pixel,o=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){var a=o-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){return!Ou(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!(!Ou(t)||!Cu(t)||!this.condition_(t)||(t.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},e}(_u),Fu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Au=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return Fu(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(t[0],e[0])+n,i.top=Math.min(t[1],e[1])+n,i.width=Math.abs(e[0]-t[0])+n,i.height=Math.abs(e[1]-t[1])+n},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Qs([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(Ir),Zu=Au,ju=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Du=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.coordinate=n,r.mapBrowserEvent=i,r}return ju(e,t),e}(Pr),zu=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var i=e||{};return n.box_=new Zu(i.className||"ol-dragbox"),n.minArea_=void 0!==i.minArea?i.minArea:64,i.onBoxEnd&&(n.onBoxEnd=i.onBoxEnd),n.startPixel_=null,n.condition_=i.condition?i.condition:Cu,n.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:n.defaultBoxEndCondition,n}return ju(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Du("boxdrag",t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new Du(e?"boxend":"boxcancel",t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Du("boxstart",t.coordinate,t)),!0)},e.prototype.onBoxEnd=function(t){},e}(_u),Wu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Nu=function(t){function e(e){var n=this,i=e||{},r=i.condition?i.condition:Eu;return(n=t.call(this,{condition:r,className:i.className||"ol-dragzoom",minArea:i.minArea})||this).duration_=void 0!==i.duration?i.duration:200,n.out_=void 0!==i.out&&i.out,n}return Wu(e,t),e.prototype.onBoxEnd=function(t){var e=this.getMap().getView(),n=this.getGeometry();if(this.out_){var i=e.rotatedExtentForGeometry(n),r=e.getResolutionForExtentInternal(i),o=e.getResolution()/r;(n=n.clone()).scale(o*o)}e.fitInternal(n,{duration:this.duration_,easing:aa})},e}(zu),Gu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Vu=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.defaultCondition_=function(t){return Tu(t)&&Mu(t)},n.condition_=void 0!==i.condition?i.condition:n.defaultCondition_,n.duration_=void 0!==i.duration?i.duration:100,n.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128,n}return Gu(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==Jr){var n=t.originalEvent,i=n.keyCode;if(this.condition_(t)&&(40==i||37==i||39==i||38==i)){var r=t.map.getView(),o=r.getResolution()*this.pixelDelta_,a=0,s=0;40==i?s=-o:37==i?a=-o:39==i?a=o:s=o;var l=[a,s];Ci(l,r.getRotation()),function(t,e,n){var i=t.getCenterInternal();if(i){var r=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:la,center:t.getConstrainedCenter(r)})}}(r,l,this.duration_),n.preventDefault(),e=!0}}return!e},e}(fu),Bu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Hu=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.condition_=i.condition?i.condition:Mu,n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:100,n}return Bu(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==Jr||t.type==Qr){var n=t.originalEvent,i=n.charCode;if(this.condition_(t)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var r=t.map,o=i=="+".charCodeAt(0)?this.delta_:-this.delta_;du(r.getView(),o,void 0,this.duration_),n.preventDefault(),e=!0}}return!e},e}(fu),$u=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var r=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/i,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),Ku=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xu="trackpad",Yu=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,i)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,n.duration_=void 0!==i.duration?i.duration:250,n.timeout_=void 0!==i.timeout?i.timeout:80,n.useAnchor_=void 0===i.useAnchor||i.useAnchor,n.constrainResolution_=void 0!==i.constrainResolution&&i.constrainResolution;var r=i.condition?i.condition:Su;return n.condition_=i.onFocusOnly?xu(bu,r):r,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.deltaPerZoom_=300,n}return Ku(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==no)return!0;var e,n=t.map,i=t.originalEvent;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==no&&(e=i.deltaY,mo&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=_o),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var r=Date.now();void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?Xu:"wheel");var o=n.getView();if(this.mode_===Xu&&!o.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=r,!1;this.totalDelta_+=e;var a=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),a),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=-Pi(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),du(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(fu),Uu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qu=function(t){function e(e){var n=this,i=e||{},r=i;return r.stopDown||(r.stopDown=Nr),(n=t.call(this,r)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==i.threshold?i.threshold:.3,n.duration_=void 0!==i.duration?i.duration:250,n}return Uu(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=r-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=r;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==$a){var l=a.getViewport().getBoundingClientRect(),u=vu(this.targetPointers);u[0]-=l.left,u[1]-=l.top,this.anchor_=a.getCoordinateFromPixelInternal(u),this.rotating_&&(a.render(),s.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_),1))},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(_u),Ju=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qu=function(t){function e(e){var n=this,i=e||{},r=i;return r.stopDown||(r.stopDown=Nr),(n=t.call(this,r)||this).anchor_=null,n.duration_=void 0!==i.duration?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return Ju(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,o=n.clientY-i.clientY,a=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,l=s.getView();1!=e&&(this.lastScaleDelta_=e);var u=s.getViewport().getBoundingClientRect(),c=vu(this.targetPointers);c[0]-=u.left,c[1]-=u.top,this.anchor_=s.getCoordinateFromPixelInternal(c),s.render(),l.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(_u),tc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ec=function(t){function e(e){return(e=Vr({},e)).controls||(e.controls=fa()),e.interactions||(e.interactions=function(t){var e={onFocusOnly:!0}||{},n=new ra,i=new $u(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new Lu),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new mu({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new ku({onFocusOnly:e.onFocusOnly,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new qu),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new Qu({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new Vu),n.push(new Hu({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new Yu({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new Nu({duration:e.zoomDuration})),n}()),t.call(this,e)||this}return tc(e,t),e.prototype.createRenderer=function(){return new Nl(this)},e}(cu);const nc=fa().extend([new wa({projection:"EPSG:3857",className:"ol-coord-pos",coordinateFormat:t=>{return t?(e=ur(t),n="{y}, {x}",i=6,e?n.replace("{x}",e[0].toFixed(i)).replace("{y}",e[1].toFixed(i)):""):"? ?";var e,n,i}}),new Ra]),ic=t=>{const e=t.map.getView(),n=e.getCenter(),i=e.getZoom();if(n){const[t,e]=ur(n);(t=>{const{state:e,overlays:n}=Rr(),i=e&&e.type==t.type?window.history.replaceState:window.history.pushState,r=new Or(t,n);i.bind(window.history)({},"",r.toURL())})(new Tr(e,t,i))}};var rc=({children:n,view:i,className:r})=>{const o=(0,t.useRef)(null),[a,s]=(0,t.useState)();return(0,t.useEffect)((()=>{const{zoom:t,center:e}=i,n={view:new al({zoom:t,center:e}),layers:[],controls:nc,overlays:[],keyboardEventTarget:document},r=new ec(n);return o.current&&r.setTarget(o.current),s(r),r.on("moveend",ic),()=>r.setTarget(void 0)}),[]),e().createElement(Dn.Provider,{value:{map:a}},e().createElement(Q,{styles:{".ol-coord-pos":{bottom:"8px",right:"8px",position:"absolute"}}}),e().createElement("div",{ref:o,className:r},n))},oc="preload",ac="useInterimTilesOnError",sc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lc=function(t){function e(e){var n=this,i=e||{},r=Vr({},i);return delete r.preload,delete r.useInterimTilesOnError,(n=t.call(this,r)||this).on,n.once,n.un,n.setPreload(void 0!==i.preload?i.preload:0),n.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),n}return sc(e,t),e.prototype.getPreload=function(){return this.get(oc)},e.prototype.setPreload=function(t){this.set(oc,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(ac)},e.prototype.setUseInterimTilesOnError=function(t){this.set(ac,t)},e}(Uo),uc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cc=function(t){function e(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return uc(e,t),e.prototype.getFeatures=function(t){return Wn()},e.prototype.prepareFrame=function(t){return Wn()},e.prototype.renderFrame=function(t,e){return Wn()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(i,r){var o=this.loadedTileCallback.bind(this,n,i);return t.forEachLoadedTile(e,i,r,o)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){},e.prototype.getDataAtPixel=function(t,e,n){return Wn()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){2===t.target.getState()&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return 2!=e&&3!=e&&t.addEventListener(Yr,this.boundHandleImageChange_),0==e&&(t.load(),e=t.getState()),2==e},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==Ko&&t.changed()},e}(lo),hc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),pc=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n}return hc(e,t),e.prototype.useContainer=function(t,e,n){var i,r,o=this.getLayer().getClassName();if(t&&""===t.style.opacity&&t.className===o&&(s=t.firstElementChild)instanceof HTMLCanvasElement&&(r=s.getContext("2d")),!r||0!==r.canvas.width&&r.canvas.style.transform!==e?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=t,this.context=r,this.containerReused=!0),!this.container){(i=document.createElement("div")).className=o;var a=i.style;a.position="absolute",a.width="100%",a.height="100%";var s=(r=So()).canvas;i.appendChild(s),(a=s.style).position="absolute",a.left="0",a.transformOrigin="top left",this.container=i,this.context=r}},e.prototype.clipUnrotated=function(t,e,n){var i=vi(n),r=_i(n),o=pi(n),a=hi(n);ns(e.coordinateToPixelTransform,i),ns(e.coordinateToPixelTransform,r),ns(e.coordinateToPixelTransform,o),ns(e.coordinateToPixelTransform,a);var s=this.inversePixelTransform;ns(s,i),ns(s,r),ns(s,o),ns(s,a),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var i=this.getLayer();if(i.hasListener(t)){var r=new wl(t,this.inversePixelTransform,n,e);i.dispatchEvent(r)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_("prerender",t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_("postrender",t,e)},e.prototype.getRenderTransform=function(t,e,n,i,r,o,a){var s=r/2,l=o/2,u=i/e,c=-u,h=-t[0]+a,p=-t[1];return rs(this.tempTransform,s,l,u,c,-n,h,p)},e.prototype.getDataAtPixel=function(t,e,n){var i,r=ns(this.inversePixelTransform,t.slice()),o=this.context,a=this.getLayer().getExtent();if(a&&!qn(a,ns(e.pixelToCoordinateTransform,t.slice())))return null;try{var s=Math.round(r[0]),l=Math.round(r[1]),u=document.createElement("canvas"),c=u.getContext("2d");u.width=1,u.height=1,c.clearRect(0,0,1,1),c.drawImage(o.canvas,s,l,1,1,0,0,1,1),i=c.getImageData(0,0,1,1).data}catch(t){return"SecurityError"===t.name?new Uint8Array:i}return 0===i[3]?null:i},e}(cc),dc=pc,fc=function(){function t(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function gc(t,e,n,i,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new fc(t,e,n,i)}var mc=fc,yc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vc=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=[1/0,1/0,-1/0,-1/0],n.tmpTileRange_=new mc(0,0,0,0),n}return yc(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return 2==n||4==n||3==n&&!i},e.prototype.getTile=function(t,e,n,i){var r=i.pixelRatio,o=i.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(t,e,n,r,o);return 3==s.getState()&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):s.setState(2)),this.isDrawableTile(s)||(s=s.getInterimTile()),s},e.prototype.loadedTileCallback=function(e,n,i){return!!this.isDrawableTile(i)&&t.prototype.loadedTileCallback.call(this,e,n,i)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],i=t.viewState,r=i.projection,o=i.resolution,a=i.center,s=i.rotation,l=t.pixelRatio,u=this.getLayer(),c=u.getSource(),h=c.getRevision(),p=c.getTileGridForProjection(r),d=p.getZForResolution(o,c.zDirection),f=p.getResolution(d),g=t.extent,m=n.extent&&Sr(n.extent);m&&(g=yi(g,Sr(n.extent)));var y=c.getTilePixelRatio(l),v=Math.round(t.size[0]*y),_=Math.round(t.size[1]*y);if(s){var x=Math.round(Math.sqrt(v*v+_*_));v=x,_=x}var w=f*v/2/y,b=f*_/2/y,S=[a[0]-w,a[1]-b,a[0]+w,a[1]+b],C=p.getTileRangeForExtentAndZ(g,d),T={};T[d]={};var E=this.createLoadedTileFinder(c,r,T),M=this.tmpExtent,O=this.tmpTileRange_;this.newTiles_=!1;for(var R=C.minX;R<=C.maxX;++R)for(var P=C.minY;P<=C.maxY;++P){var k=this.getTile(d,R,P,t);if(this.isDrawableTile(k)){var I=Gn(this);if(2==k.getState()){T[d][k.tileCoord.toString()]=k;var L=k.inTransition(I);this.newTiles_||!L&&-1!==this.renderedTiles.indexOf(k)||(this.newTiles_=!0)}if(1===k.getAlpha(I,t.time))continue}var F=p.getTileCoordChildTileRange(k.tileCoord,O,M),A=!1;F&&(A=E(d+1,F)),A||p.forEachTileCoordParentTileRange(k.tileCoord,E,O,M)}var Z=f/o;rs(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/y,1/y,s,-v/2,-_/2);var j=function(t){var e="matrix("+t.join(", ")+")";if(xo)return e;var n=Xa||(Xa=document.createElement("div"));return n.style.transform=e,n.style.transform}(this.pixelTransform);this.useContainer(e,j,n.opacity);var D=this.context,z=D.canvas;os(this.inversePixelTransform,this.pixelTransform),rs(this.tempTransform,v/2,_/2,Z,Z,0,-v/2,-_/2),z.width!=v||z.height!=_?(z.width=v,z.height=_):this.containerReused||D.clearRect(0,0,v,_),m&&this.clipUnrotated(D,t,m),Vr(D,c.getContextOptions()),this.preRender(D,t),this.renderedTiles.length=0;var W,N,G,V=Object.keys(T).map(Number);V.sort(Lr),1!==n.opacity||this.containerReused&&!c.getOpaque(t.viewState.projection)?(W=[],N=[]):V=V.reverse();for(var B=V.length-1;B>=0;--B){var H=V[B],$=c.getTilePixelSize(H,l,r),K=p.getResolution(H)/f,X=$[0]*K*Z,Y=$[1]*K*Z,U=p.getTileCoordForCoordAndZ(vi(S),H),q=p.getTileCoordExtent(U),J=ns(this.tempTransform,[y*(q[0]-S[0])/f,y*(S[3]-q[3])/f]),Q=y*c.getGutterForProjection(r),tt=T[H];for(var et in tt){var nt=(k=tt[et]).tileCoord,it=U[1]-nt[1],rt=Math.round(J[0]-(it-1)*X),ot=U[2]-nt[2],at=Math.round(J[1]-(ot-1)*Y),st=rt-(R=Math.round(J[0]-it*X)),lt=at-(P=Math.round(J[1]-ot*Y)),ut=d===H;if(!(L=ut&&1!==k.getAlpha(Gn(this),t.time)))if(W){D.save(),G=[R,P,R+st,P,R+st,P+lt,R,P+lt];for(var ct=0,ht=W.length;ct<ht;++ct)if(d!==H&&H<N[ct]){var pt=W[ct];D.beginPath(),D.moveTo(G[0],G[1]),D.lineTo(G[2],G[3]),D.lineTo(G[4],G[5]),D.lineTo(G[6],G[7]),D.moveTo(pt[6],pt[7]),D.lineTo(pt[4],pt[5]),D.lineTo(pt[2],pt[3]),D.lineTo(pt[0],pt[1]),D.clip()}W.push(G),N.push(H)}else D.clearRect(R,P,st,lt);this.drawTileImage(k,t,R,P,st,lt,Q,ut,n.opacity),W&&!L?(D.restore(),this.renderedTiles.unshift(k)):this.renderedTiles.push(k),this.updateUsedTiles(t.usedTiles,c,k)}}return this.renderedRevision=h,this.renderedResolution=f,this.extentChanged=!this.renderedExtent_||!oi(this.renderedExtent_,S),this.renderedExtent_=S,this.renderedPixelRatio=l,this.renderedProjection=r,this.manageTilePyramid(t,c,p,l,r,g,d,u.getPreload()),this.scheduleExpireCache(t,c),this.postRender(D,t),n.extent&&D.restore(),j!==z.style.transform&&(z.style.transform=j),this.container},e.prototype.drawTileImage=function(t,e,n,i,r,o,a,s,l){var u=this.getTileImage(t);if(u){var c=Gn(this),h=s?t.getAlpha(c,e.time):1,p=l*h,d=p!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(u,a,a,u.width-2*a,u.height-2*a,n,i,r,o),d&&this.context.restore(),1!==h?e.animate=!0:s&&t.endTransition(c)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var i=Gn(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var i=Gn(e);i in t||(t[i]={}),t[i][n.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,n,i,r,o,a,s,l){var u=Gn(e);u in t.wantedTiles||(t.wantedTiles[u]={});var c,h,p,d,f,g,m=t.wantedTiles[u],y=t.tileQueue,v=0;for(g=n.getMinZoom();g<=a;++g)for(h=n.getTileRangeForExtentAndZ(o,g,h),p=n.getResolution(g),d=h.minX;d<=h.maxX;++d)for(f=h.minY;f<=h.maxY;++f)a-g<=s?(++v,0==(c=e.getTile(g,d,f,i,r)).getState()&&(m[c.getKey()]=!0,y.isKeyQueued(c.getKey())||y.enqueue([c,u,n.getTileCoordCenter(c.tileCoord),p])),void 0!==l&&l(c)):e.useTile(g,d,f,r);e.updateCacheSize(v,r)},e}(dc);vc.prototype.getLayer;var _c=vc,xc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wc=function(t){function e(e){return t.call(this,e)||this}return xc(e,t),e.prototype.createRenderer=function(){return new _c(this)},e}(lc),bc=({source:e,zIndex:n=0})=>{const{map:i}=(0,t.useContext)(Dn);return(0,t.useEffect)((()=>{if(!i)return;const t=new wc({source:e,zIndex:n});return i.addLayer(t),t.setZIndex(n),()=>{i&&i.removeLayer(t)}}),[i,e,n]),null};function Sc(t){return(0,g.Z)("MuiSlider",t)}var Cc=(0,m.Z)("MuiSlider",["root","active","focusVisible","disabled","dragging","marked","vertical","trackInverted","trackFalse","rail","track","mark","markActive","markLabel","markLabelActive","thumb","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel"]),Tc=function(e){const{children:n,className:i,value:r,theme:o}=e,a=(t=>{const{open:e}=t;return{offset:(0,u.Z)(e&&Cc.valueLabelOpen),circle:Cc.valueLabelCircle,label:Cc.valueLabelLabel}})(e);return t.cloneElement(n,{className:(0,u.Z)(n.props.className)},(0,d.jsxs)(t.Fragment,{children:[n.props.children,(0,d.jsx)("span",{className:(0,u.Z)(a.offset,i),theme:o,"aria-hidden":!0,children:(0,d.jsx)("span",{className:a.circle,children:(0,d.jsx)("span",{className:a.label,children:r})})})]}))},Ec=n(624),Mc=n(5566),Oc=n(6532),Rc=n(7216),Pc=n(9805),kc=n(8030),Ic={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};const Lc=["aria-label","aria-labelledby","aria-valuetext","className","component","classes","defaultValue","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","tabIndex","track","value","valueLabelDisplay","valueLabelFormat","isRtl","components","componentsProps"];function Fc(t,e){return t-e}function Ac(t,e,n){return null==t?e:Math.min(Math.max(e,t),n)}function Zc(t,e){const{index:n}=t.reduce(((t,n,i)=>{const r=Math.abs(e-n);return null===t||r<t.distance||r===t.distance?{distance:r,index:i}:t}),null);return n}function jc(t,e){if(void 0!==e.current&&t.changedTouches){for(let n=0;n<t.changedTouches.length;n+=1){const i=t.changedTouches[n];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function Dc(t,e,n){return 100*(t-e)/(n-e)}function zc({values:t,source:e,newValue:n,index:i}){if(e[i]===n)return e;const r=t.slice();return r[i]=n,r}function Wc({sliderRef:t,activeIndex:e,setActive:n}){const i=(0,Ec.Z)(t.current);t.current.contains(i.activeElement)&&Number(i.activeElement.getAttribute("data-index"))===e||t.current.querySelector(`[type="range"][data-index="${e}"]`).focus(),n&&n(e)}const Nc={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},Gc=t=>t;let Vc;function Bc(){return void 0===Vc&&(Vc="undefined"==typeof CSS||"function"!=typeof CSS.supports||CSS.supports("touch-action","none")),Vc}const Hc=({children:t})=>t,$c=t.forwardRef((function(e,n){const{"aria-label":i,"aria-labelledby":r,"aria-valuetext":s,className:l,component:h="span",classes:p,defaultValue:f,disableSwap:g=!1,disabled:m=!1,getAriaLabel:y,getAriaValueText:v,marks:_=!1,max:x=100,min:w=0,name:b,onChange:S,onChangeCommitted:C,onMouseDown:T,orientation:E="horizontal",scale:M=Gc,step:O=1,tabIndex:R,track:P="normal",value:k,valueLabelDisplay:I="off",valueLabelFormat:L=Gc,isRtl:F=!1,components:A={},componentsProps:Z={}}=e,j=(0,o.Z)(e,Lc),D=t.useRef(),[z,W]=t.useState(-1),[N,G]=t.useState(-1),[V,B]=t.useState(!1),H=t.useRef(0),[$,K]=(0,Mc.Z)({controlled:k,default:null!=f?f:w,name:"Slider"}),X=S&&((t,e,n)=>{const i=t.nativeEvent||t,r=new i.constructor(i.type,i);Object.defineProperty(r,"target",{writable:!0,value:{value:e,name:b}}),S(r,e,n)}),Y=Array.isArray($);let U=Y?$.slice().sort(Fc):[$];U=U.map((t=>Ac(t,w,x)));const q=!0===_&&null!==O?[...Array(Math.floor((x-w)/O)+1)].map(((t,e)=>({value:w+O*e}))):_||[],{isFocusVisibleRef:J,onBlur:Q,onFocus:tt,ref:et}=(0,Oc.Z)(),[nt,it]=t.useState(-1),rt=t.useRef(),ot=(0,Rc.Z)(et,rt),at=(0,Rc.Z)(n,ot),st=(0,Pc.Z)((t=>{const e=Number(t.currentTarget.getAttribute("data-index"));tt(t),!0===J.current&&it(e),G(e)})),lt=(0,Pc.Z)((t=>{Q(t),!1===J.current&&it(-1),G(-1)})),ut=(0,Pc.Z)((t=>{const e=Number(t.currentTarget.getAttribute("data-index"));G(e)})),ct=(0,Pc.Z)((()=>{G(-1)}));(0,kc.Z)((()=>{m&&rt.current.contains(document.activeElement)&&document.activeElement.blur()}),[m]),m&&-1!==z&&W(-1),m&&-1!==nt&&it(-1);const ht=(0,Pc.Z)((t=>{const e=Number(t.currentTarget.getAttribute("data-index")),n=U[e],i=q.map((t=>t.value)),r=i.indexOf(n);let o=t.target.valueAsNumber;if(q&&null==O&&(o=o<n?i[r-1]:i[r+1]),o=Ac(o,w,x),q&&null==O){const t=q.map((t=>t.value)),n=t.indexOf(U[e]);o=o<U[e]?t[n-1]:t[n+1]}if(Y){g&&(o=Ac(o,U[e-1]||-1/0,U[e+1]||1/0));const t=o;o=zc({values:U,source:$,newValue:o,index:e}).sort(Fc);let n=e;g||(n=o.indexOf(t)),Wc({sliderRef:rt,activeIndex:n})}K(o),it(e),X&&X(t,o,e),C&&C(t,o)})),pt=t.useRef();let dt=E;F&&"vertical"!==E&&(dt+="-reverse");const ft=({finger:t,move:e=!1,values:n,source:i})=>{const{current:r}=rt,{width:o,height:a,bottom:s,left:l}=r.getBoundingClientRect();let u,c;if(u=0===dt.indexOf("vertical")?(s-t.y)/a:(t.x-l)/o,-1!==dt.indexOf("-reverse")&&(u=1-u),c=function(t,e,n){return(n-e)*t+e}(u,w,x),O)c=function(t,e,n){const i=Math.round((t-n)/e)*e+n;return Number(i.toFixed(function(t){if(Math.abs(t)<1){const e=t.toExponential().split("e-"),n=e[0].split(".")[1];return(n?n.length:0)+parseInt(e[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}(e)))}(c,O,w);else{const t=q.map((t=>t.value));c=t[Zc(t,c)]}c=Ac(c,w,x);let h=0;if(Y){h=e?pt.current:Zc(n,c),g&&(c=Ac(c,n[h-1]||-1/0,n[h+1]||1/0));const t=c;c=zc({values:n,source:i,newValue:c,index:h}).sort(Fc),g&&e||(h=c.indexOf(t),pt.current=h)}return{newValue:c,activeIndex:h}},gt=(0,Pc.Z)((t=>{const e=jc(t,D);if(!e)return;if(H.current+=1,"mousemove"===t.type&&0===t.buttons)return void mt(t);const{newValue:n,activeIndex:i}=ft({finger:e,move:!0,values:U,source:$});Wc({sliderRef:rt,activeIndex:i,setActive:W}),K(n),!V&&H.current>2&&B(!0),X&&X(t,n,i)})),mt=(0,Pc.Z)((t=>{const e=jc(t,D);if(B(!1),!e)return;const{newValue:n}=ft({finger:e,values:U,source:$});W(-1),"touchend"===t.type&&G(-1),C&&C(t,n),D.current=void 0,vt()})),yt=(0,Pc.Z)((t=>{Bc()||t.preventDefault();const e=t.changedTouches[0];null!=e&&(D.current=e.identifier);const n=jc(t,D),{newValue:i,activeIndex:r}=ft({finger:n,values:U,source:$});Wc({sliderRef:rt,activeIndex:r,setActive:W}),K(i),X&&X(t,i,r),H.current=0;const o=(0,Ec.Z)(rt.current);o.addEventListener("touchmove",gt),o.addEventListener("touchend",mt)})),vt=t.useCallback((()=>{const t=(0,Ec.Z)(rt.current);t.removeEventListener("mousemove",gt),t.removeEventListener("mouseup",mt),t.removeEventListener("touchmove",gt),t.removeEventListener("touchend",mt)}),[mt,gt]);t.useEffect((()=>{const{current:t}=rt;return t.addEventListener("touchstart",yt,{passive:Bc()}),()=>{t.removeEventListener("touchstart",yt,{passive:Bc()}),vt()}}),[vt,yt]),t.useEffect((()=>{m&&vt()}),[m,vt]);const _t=(0,Pc.Z)((t=>{if(T&&T(t),0!==t.button)return;t.preventDefault();const e=jc(t,D),{newValue:n,activeIndex:i}=ft({finger:e,values:U,source:$});Wc({sliderRef:rt,activeIndex:i,setActive:W}),K(n),X&&X(t,n,i),H.current=0;const r=(0,Ec.Z)(rt.current);r.addEventListener("mousemove",gt),r.addEventListener("mouseup",mt)})),xt=Dc(Y?U[0]:w,w,x),wt=Dc(U[U.length-1],w,x)-xt,bt=(0,a.Z)({},Nc[dt].offset(xt),Nc[dt].leap(wt)),St=A.Root||h,Ct=Z.root||{},Tt=A.Rail||"span",Et=Z.rail||{},Mt=A.Track||"span",Ot=Z.track||{},Rt=A.Thumb||"span",Pt=Z.thumb||{},kt=A.ValueLabel||Tc,It=Z.valueLabel||{},Lt=A.Mark||"span",Ft=Z.mark||{},At=A.MarkLabel||"span",Zt=Z.markLabel||{},jt=(0,a.Z)({},e,{classes:p,disabled:m,dragging:V,isRtl:F,marked:q.length>0&&q.some((t=>t.label)),max:x,min:w,orientation:E,scale:M,step:O,track:P,valueLabelDisplay:I,valueLabelFormat:L}),Dt=(t=>{const{disabled:e,dragging:n,marked:i,orientation:r,track:o,classes:a}=t,s={root:["root",e&&"disabled",n&&"dragging",i&&"marked","vertical"===r&&"vertical","inverted"===o&&"trackInverted",!1===o&&"trackFalse"],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled"],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return(0,c.Z)(s,Sc,a)})(jt);return(0,d.jsxs)(St,(0,a.Z)({ref:at,onMouseDown:_t},Ct,!Ae(St)&&{as:h,ownerState:(0,a.Z)({},jt,Ct.ownerState)},j,{className:(0,u.Z)(Dt.root,Ct.className,l),children:[(0,d.jsx)(Tt,(0,a.Z)({},Et,!Ae(Tt)&&{ownerState:(0,a.Z)({},jt,Et.ownerState)},{className:(0,u.Z)(Dt.rail,Et.className)})),(0,d.jsx)(Mt,(0,a.Z)({},Ot,!Ae(Mt)&&{ownerState:(0,a.Z)({},jt,Ot.ownerState)},{className:(0,u.Z)(Dt.track,Ot.className),style:(0,a.Z)({},bt,Ot.style)})),q.map(((e,n)=>{const i=Dc(e.value,w,x),r=Nc[dt].offset(i);let o;return o=!1===P?-1!==U.indexOf(e.value):"normal"===P&&(Y?e.value>=U[0]&&e.value<=U[U.length-1]:e.value<=U[0])||"inverted"===P&&(Y?e.value<=U[0]||e.value>=U[U.length-1]:e.value>=U[0]),(0,d.jsxs)(t.Fragment,{children:[(0,d.jsx)(Lt,(0,a.Z)({"data-index":n},Ft,!Ae(Lt)&&{ownerState:(0,a.Z)({},jt,Ft.ownerState)},{markActive:o,style:(0,a.Z)({},r,Ft.style),className:(0,u.Z)(Dt.mark,Ft.className,o&&Dt.markActive)})),null!=e.label?(0,d.jsx)(At,(0,a.Z)({"aria-hidden":!0,"data-index":n},Zt,!Ae(At)&&{ownerState:(0,a.Z)({},jt,Zt.ownerState)},{markLabelActive:o,style:(0,a.Z)({},r,Zt.style),className:(0,u.Z)(Dt.markLabel,Zt.className,o&&Dt.markLabelActive),children:e.label})):null]},e.value)})),U.map(((n,o)=>{const l=Dc(n,w,x),c=Nc[dt].offset(l),h="off"===I?Hc:kt;return(0,d.jsx)(t.Fragment,{children:(0,d.jsx)(h,(0,a.Z)({valueLabelFormat:L,valueLabelDisplay:I,value:"function"==typeof L?L(M(n),o):L,index:o,open:N===o||z===o||"on"===I,disabled:m},It,{className:(0,u.Z)(Dt.valueLabel,It.className)},!Ae(kt)&&{ownerState:(0,a.Z)({},jt,It.ownerState)},{children:(0,d.jsx)(Rt,(0,a.Z)({"data-index":o,onMouseOver:ut,onMouseLeave:ct},Pt,{className:(0,u.Z)(Dt.thumb,Pt.className,z===o&&Dt.active,nt===o&&Dt.focusVisible)},!Ae(Rt)&&{ownerState:(0,a.Z)({},jt,Pt.ownerState)},{style:(0,a.Z)({},c,{pointerEvents:g&&z!==o?"none":void 0},Pt.style),children:(0,d.jsx)("input",{tabIndex:R,"data-index":o,"aria-label":y?y(o):i,"aria-labelledby":r,"aria-orientation":E,"aria-valuemax":M(x),"aria-valuemin":M(w),"aria-valuenow":M(n),"aria-valuetext":v?v(M(n),o):s,onFocus:st,onBlur:lt,name:b,type:"range",min:e.min,max:e.max,step:e.step,disabled:m,value:U[o],onChange:ht,style:(0,a.Z)({},Ic,{direction:F?"rtl":"ltr",width:"100%",height:"100%"})})}))}))},o)}))]}))}));var Kc=$c;const Xc=["components","componentsProps","color","size"],Yc=(0,a.Z)({},Cc,(0,m.Z)("MuiSlider",["colorPrimary","colorSecondary","thumbColorPrimary","thumbColorSecondary","sizeSmall","thumbSizeSmall"])),Uc=(0,p.ZP)("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,i=!0===n.marksProp&&null!==n.step?[...Array(Math.floor((n.max-n.min)/n.step)+1)].map(((t,e)=>({value:n.min+n.step*e}))):n.marksProp||[],r=i.length>0&&i.some((t=>t.label));return[e.root,e[`color${(0,bt.Z)(n.color)}`],"medium"!==n.size&&e[`size${(0,bt.Z)(n.size)}`],r&&e.marked,"vertical"===n.orientation&&e.vertical,"inverted"===n.track&&e.trackInverted,!1===n.track&&e.trackFalse]}})((({theme:t,ownerState:e})=>(0,a.Z)({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:t.palette[e.color].main,WebkitTapHighlightColor:"transparent"},"horizontal"===e.orientation&&(0,a.Z)({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},"small"===e.size&&{height:2},e.marked&&{marginBottom:20}),"vertical"===e.orientation&&(0,a.Z)({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},"small"===e.size&&{width:2},e.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${Yc.disabled}`]:{pointerEvents:"none",cursor:"default",color:t.palette.grey[400]},[`&.${Yc.dragging}`]:{[`& .${Yc.thumb}, & .${Yc.track}`]:{transition:"none"}}}))),qc=(0,p.ZP)("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})((({ownerState:t})=>(0,a.Z)({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},"horizontal"===t.orientation&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===t.orientation&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},"inverted"===t.track&&{opacity:1}))),Jc=(0,p.ZP)("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})((({theme:t,ownerState:e})=>{const n="light"===t.palette.mode?(0,k.$n)(t.palette[e.color].main,.62):(0,k._j)(t.palette[e.color].main,.5);return(0,a.Z)({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest})},"small"===e.size&&{border:"none"},"horizontal"===e.orientation&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===e.orientation&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},!1===e.track&&{display:"none"},"inverted"===e.track&&{backgroundColor:n,borderColor:n})})),Qc=(0,p.ZP)("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.thumb,e[`thumbColor${(0,bt.Z)(n.color)}`],"medium"!==n.size&&e[`thumbSize${(0,bt.Z)(n.size)}`]]}})((({theme:t,ownerState:e})=>(0,a.Z)({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest})},"small"===e.size&&{width:12,height:12},"horizontal"===e.orientation&&{top:"50%",transform:"translate(-50%, -50%)"},"vertical"===e.orientation&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":(0,a.Z)({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:t.shadows[2]},"small"===e.size&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${Yc.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${(0,k.Fq)(t.palette[e.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${Yc.active}`]:{boxShadow:`0px 0px 0px 14px ${(0,k.Fq)(t.palette[e.color].main,.16)}`},[`&.${Yc.disabled}`]:{"&:hover":{boxShadow:"none"}}}))),th=(0,p.ZP)(Tc,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})((({theme:t,ownerState:e})=>(0,a.Z)({[`&.${Yc.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"},zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),top:-10,transformOrigin:"bottom center",transform:"translateY(-100%) scale(0)",position:"absolute",backgroundColor:t.palette.grey[600],borderRadius:2,color:t.palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},"small"===e.size&&{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"},{"&:before":{position:"absolute",content:'""',width:8,height:8,bottom:0,left:"50%",transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit"}}))),eh=(0,p.ZP)("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>(0,p.Dz)(t)&&"markActive"!==t,overridesResolver:(t,e)=>e.mark})((({theme:t,ownerState:e,markActive:n})=>(0,a.Z)({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},"horizontal"===e.orientation&&{top:"50%",transform:"translate(-1px, -50%)"},"vertical"===e.orientation&&{left:"50%",transform:"translate(-50%, 1px)"},n&&{backgroundColor:t.palette.background.paper,opacity:.8}))),nh=(0,p.ZP)("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>(0,p.Dz)(t)&&"markLabelActive"!==t,overridesResolver:(t,e)=>e.markLabel})((({theme:t,ownerState:e,markLabelActive:n})=>(0,a.Z)({},t.typography.body2,{color:t.palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},"horizontal"===e.orientation&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},"vertical"===e.orientation&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},n&&{color:t.palette.text.primary})));Uc.propTypes={children:l().node,ownerState:l().shape({"aria-label":l().string,"aria-labelledby":l().string,"aria-valuetext":l().string,classes:l().object,color:l().oneOf(["primary","secondary"]),defaultValue:l().oneOfType([l().arrayOf(l().number),l().number]),disabled:l().bool,getAriaLabel:l().func,getAriaValueText:l().func,isRtl:l().bool,marks:l().oneOfType([l().arrayOf(l().shape({label:l().node,value:l().number.isRequired})),l().bool]),max:l().number,min:l().number,name:l().string,onChange:l().func,onChangeCommitted:l().func,orientation:l().oneOf(["horizontal","vertical"]),scale:l().func,step:l().number,track:l().oneOf(["inverted","normal",!1]),value:l().oneOfType([l().arrayOf(l().number),l().number]),valueLabelDisplay:l().oneOf(["auto","off","on"]),valueLabelFormat:l().oneOfType([l().func,l().string])})};const ih=t=>!t||!Ae(t),rh=t.forwardRef((function(t,e){var n,i,r,s;const l=(0,h.Z)({props:t,name:"MuiSlider"}),c="rtl"===ie().direction,{components:p={},componentsProps:f={},color:g="primary",size:m="medium"}=l,y=(0,o.Z)(l,Xc),v=(t=>{const{color:e,size:n,classes:i={}}=t;return(0,a.Z)({},i,{root:(0,u.Z)(i.root,Sc(`color${(0,bt.Z)(e)}`),i[`color${(0,bt.Z)(e)}`],n&&[Sc(`size${(0,bt.Z)(n)}`),i[`size${(0,bt.Z)(n)}`]]),thumb:(0,u.Z)(i.thumb,Sc(`thumbColor${(0,bt.Z)(e)}`),i[`thumbColor${(0,bt.Z)(e)}`],n&&[Sc(`thumbSize${(0,bt.Z)(n)}`),i[`thumbSize${(0,bt.Z)(n)}`]])})})((0,a.Z)({},l,{color:g,size:m}));return(0,d.jsx)(Kc,(0,a.Z)({},y,{isRtl:c,components:(0,a.Z)({Root:Uc,Rail:qc,Track:Jc,Thumb:Qc,ValueLabel:th,Mark:eh,MarkLabel:nh},p),componentsProps:(0,a.Z)({},f,{root:(0,a.Z)({},f.root,ih(p.Root)&&{ownerState:(0,a.Z)({},null==(n=f.root)?void 0:n.ownerState,{color:g,size:m})}),thumb:(0,a.Z)({},f.thumb,ih(p.Thumb)&&{ownerState:(0,a.Z)({},null==(i=f.thumb)?void 0:i.ownerState,{color:g,size:m})}),track:(0,a.Z)({},f.track,ih(p.Track)&&{ownerState:(0,a.Z)({},null==(r=f.track)?void 0:r.ownerState,{color:g,size:m})}),valueLabel:(0,a.Z)({},f.valueLabel,ih(p.ValueLabel)&&{ownerState:(0,a.Z)({},null==(s=f.valueLabel)?void 0:s.ownerState,{color:g,size:m})})}),classes:v,ref:e}))}));var oh=rh,ah=(0,Z.Z)((0,d.jsx)("path",{d:"M9 16h2V8H9v8zm3-14C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm1-4h2V8h-2v8z"}),"PauseCircleOutline"),sh=(0,Z.Z)((0,d.jsx)("path",{d:"m10 16.5 6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"PlayCircleOutline");const lh="Timeline-time",uh="Timeline-date",ch=(0,p.ZP)(Dt)((({theme:t})=>({[`&.${lh}`]:{fontSize:t.typography.pxToRem(24)},[`&.${uh}`]:{fontStyle:"italic",color:"grey",marginLeft:"12px",fontSize:t.typography.pxToRem(20)}}))),hh=({timepoint:t})=>{const n="sv-SE",i=t.toLocaleTimeString(n,{hour:"numeric",minute:"numeric"}),r=t.toLocaleDateString(n,{weekday:"long",month:"long",day:"numeric"});return e().createElement("div",null,e().createElement(ch,{variantMapping:{body1:"span"},className:lh},i),e().createElement(ch,{variantMapping:{body1:"span"},className:uh},(o=r).charAt(0).toUpperCase()+o.slice(1)));var o},ph=(0,p.ZP)("div")((({theme:t})=>({position:"fixed",left:0,right:0,bottom:0,padding:"2px 4px",maxWidth:"95%",margin:"0 auto",[t.breakpoints.down("md")]:{marginBottom:"5px"},[t.breakpoints.up("sm")]:{marginBottom:"15px"},width:600,zIndex:1001}))),dh=(0,p.ZP)(Bt)((t=>({width:"100%",paddingRight:32}))),fh=(0,p.ZP)(sn)((t=>({height:60,margin:12}))),gh=(0,p.ZP)(dn)((({theme:t})=>({colorPrimary:{color:"dark"==t.palette.mode?L.Z.white:t.palette.primary.main},fontSize:"60px"}))),mh=t=>{const{onClick:n,isplaying:i}=t;return e().createElement(gh,{color:"primary",onClick:()=>n(!i),edge:"end",size:"large"},i?e().createElement(ah,{style:{fontSize:"60px"}}):e().createElement(sh,{style:{fontSize:"60px"}}))};var yh=n=>{const{shown:i,timepoints:r,onChange:o}=n,[a,s]=(0,t.useState)(0),[l,u]=(0,t.useState)(!1),[c,h]=(0,t.useState)(-1);return(0,t.useEffect)((()=>{if(l){const t=window.setTimeout((()=>{o(r[a+1]),s(a+1),a+1==r.length-1&&(h(-1),u(!1))}),2500);return h(t),()=>clearInterval(t)}}),[l,a,o,r]),i||-1==c||(clearTimeout(c),h(-1),u(!1)),e().createElement(Mn,{direction:"up",in:i,mountOnEnter:!0},e().createElement(ph,null,e().createElement(dh,{elevation:5,square:!1},e().createElement(xe,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center"},e().createElement(mh,{onClick:t=>{t&&a==r.length-1&&s(0),u(t)},isplaying:l}),e().createElement(fh,{orientation:"vertical"}),e().createElement("div",{style:{flex:1,marginLeft:2}},e().createElement(hh,{timepoint:r[a]}),e().createElement(oh,{max:r.length-1,value:a,onChange:(p=o,(t,e)=>{const n=e;n==a||n<0||n>=r.length||(l&&u(!1),-1!=c&&clearTimeout(c),s(n),h(window.setTimeout((t=>{h(-1),p(r[t])}),300,n)))})}))))));var p},vh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_h=function(t){function e(e,n,i){var r=t.call(this)||this,o=i||{};return r.tileCoord=e,r.state=n,r.interimTile=null,r.key="",r.transition_=void 0===o.transition?250:o.transition,r.transitionStarts_={},r}return vh(e,t),e.prototype.changed=function(){this.dispatchEvent(Yr)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(2==t.getState())return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(2==t.getState()){t.interimTile=null;break}1==t.getState()?e=t:0==t.getState()?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(3!==this.state&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){Wn()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var i=e-n+1e3/60;return i>=this.transition_?1:oa(i/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(Xr),xh=_h,wh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bh=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.extent=e,o.pixelRatio_=i,o.resolution=n,o.state=r,o}return wh(e,t),e.prototype.changed=function(){this.dispatchEvent(Yr)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Wn()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Wn()},e}(Xr),Sh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Ch(t,e,n){var i=t;if(i.src&&wo){var r=i.decode(),o=!0;return r.then((function(){o&&e()})).catch((function(t){o&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():n())})),function(){o=!1}}var a=[ro(i,"load",e),ro(i,"error",n)];return function(){a.forEach(oo)}}!function(t){function e(e,n,i,r,o,a){var s=t.call(this,e,n,i,0)||this;return s.src_=r,s.image_=new Image,null!==o&&(s.image_.crossOrigin=o),s.unlisten_=null,s.state=0,s.imageLoadFunction_=a,s}Sh(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=mi(this.extent)/this.image_.height),this.state=2,this.unlistenImage_(),this.changed()},e.prototype.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Ch(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=mi(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(bh);var Th,Eh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mh=function(t){function e(e,n,i,r,o,a){var s=t.call(this,e,n,a)||this;return s.crossOrigin_=r,s.src_=i,s.key=i,s.image_=new Image,null!==r&&(s.image_.crossOrigin=r),s.unlisten_=null,s.tileLoadFunction_=o,s}return Eh(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=2,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){var t;this.state=3,this.unlistenImage_(),this.image_=((t=So(1,1)).fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=2:this.state=4,this.unlistenImage_(),this.changed()},e.prototype.load=function(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Ch(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(xh),Oh=function(){function t(t,e,n,i,r,o){this.sourceProj_=t,this.targetProj_=e;var a={},s=pr(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return a[e]||(a[e]=s(t)),a[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&xi(i)==xi(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?xi(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?xi(this.targetProj_.getExtent()):null;var l=vi(n),u=_i(n),c=pi(n),h=hi(n),p=this.transformInv_(l),d=this.transformInv_(u),f=this.transformInv_(c),g=this.transformInv_(h),m=10+(o?Math.max(0,Math.ceil(Ii(ci(n)/(o*o*256*256)))):0);if(this.addQuad_(l,u,c,h,p,d,f,g,m),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach((function(t,e,n){y=Math.min(y,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-y>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-y>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-y>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-y>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}a={}}return t.prototype.addTriangle_=function(t,e,n,i,r,o){this.triangles_.push({source:[i,r,o],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,i,r,o,a,s,l){var u=Kn([r,o,a,s]),c=this.sourceWorldWidth_?xi(u)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&c>.5&&c<1,d=!1;if(l>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(d=xi(Kn([t,e,n,i]))/this.targetWorldWidth_>.25||d),!p&&this.sourceProj_.isGlobal()&&c&&(d=c>.25||d)),!(!d&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3]))||wi(u,this.maxSourceExtent_)){var f=0;if(!(d||isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])))if(l>0)d=!0;else if(1!=(f=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(s[0])&&isFinite(s[1])?0:1))&&2!=f&&4!=f&&8!=f)return;if(l>0){if(!d){var g=[(t[0]+n[0])/2,(t[1]+n[1])/2],m=this.transformInv_(g),y=void 0;y=p?(Zi(r[0],h)+Zi(a[0],h))/2-Zi(m[0],h):(r[0]+a[0])/2-m[0];var v=(r[1]+a[1])/2-m[1];d=y*y+v*v>this.errorThresholdSquared_}if(d){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var _=[(e[0]+n[0])/2,(e[1]+n[1])/2],x=this.transformInv_(_),w=[(i[0]+t[0])/2,(i[1]+t[1])/2],b=this.transformInv_(w);this.addQuad_(t,e,_,w,r,o,x,b,l-1),this.addQuad_(w,_,n,i,b,x,a,s,l-1)}else{var S=[(t[0]+e[0])/2,(t[1]+e[1])/2],C=this.transformInv_(S),T=[(n[0]+i[0])/2,(n[1]+i[1])/2],E=this.transformInv_(T);this.addQuad_(t,S,T,i,r,C,E,s,l-1),this.addQuad_(S,e,n,T,C,o,a,E,l-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&f)&&this.addTriangle_(t,n,i,r,a,s),0==(14&f)&&this.addTriangle_(t,n,e,r,a,o),f&&(0==(13&f)&&this.addTriangle_(e,i,t,o,s,r),0==(7&f)&&this.addTriangle_(e,i,n,o,s,a))}},t.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach((function(e,n,i){var r=e.source;ai(t,r[0]),ai(t,r[1]),ai(t,r[2])})),t},t.prototype.getTriangles=function(){return this.triangles_},t}(),Rh={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1};function Ph(t,e,n,i,r){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,r)),t.restore()}function kh(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function Ih(t,e,n,i){var r=dr(n,e,t),o=or(e,i,n),a=e.getMetersPerUnit();void 0!==a&&(o*=a);var s=t.getMetersPerUnit();void 0!==s&&(o/=s);var l=t.getExtent();if(!l||qn(l,r)){var u=or(t,o,r)/o;isFinite(u)&&u>0&&(o/=u)}return o}var Lh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fh=function(t){function e(e,n,i,r,o,a,s,l,u,c,h,p){var d=t.call(this,o,0)||this;d.renderEdges_=void 0!==h&&h,d.contextOptions_=p,d.pixelRatio_=s,d.gutter_=l,d.canvas_=null,d.sourceTileGrid_=n,d.targetTileGrid_=r,d.wrappedTileCoord_=a||o,d.sourceTiles_=[],d.sourcesListenerKeys_=null,d.sourceZ_=0;var f=r.getTileCoordExtent(d.wrappedTileCoord_),g=d.targetTileGrid_.getExtent(),m=d.sourceTileGrid_.getExtent(),y=g?yi(f,g):f;if(0===ci(y))return d.state=4,d;var v=e.getExtent();v&&(m=m?yi(m,v):v);var _=r.getResolution(d.wrappedTileCoord_[0]),x=function(t,e,n,i){var r=di(n),o=Ih(t,e,r,i);return(!isFinite(o)||o<=0)&&ui(n,(function(n){return o=Ih(t,e,n,i),isFinite(o)&&o>0})),o}(e,i,y,_);if(!isFinite(x)||x<=0)return d.state=4,d;var w=void 0!==c?c:.5;if(d.triangulation_=new Oh(e,i,y,m,x*w,_),0===d.triangulation_.getTriangles().length)return d.state=4,d;d.sourceZ_=n.getZForResolution(x);var b=d.triangulation_.calculateSourceExtent();if(m&&(e.canWrapX()?(b[1]=Pi(b[1],m[1],m[3]),b[3]=Pi(b[3],m[1],m[3])):b=yi(b,m)),ci(b)){for(var S=n.getTileRangeForExtentAndZ(b,d.sourceZ_),C=S.minX;C<=S.maxX;C++)for(var T=S.minY;T<=S.maxY;T++){var E=u(d.sourceZ_,C,T,s);E&&d.sourceTiles_.push(E)}0===d.sourceTiles_.length&&(d.state=4)}else d.state=4;return d}return Lh(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,i){e&&2==e.getState()&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=3;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"==typeof n?n:n[0],r="number"==typeof n?n:n[1],o=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,n,i,r,o,a,s,l,u,c,h){var p=So(Math.round(n*t),Math.round(n*e));if(Vr(p,h),0===l.length)return p.canvas;function d(t){return Math.round(t*n)/n}p.scale(n,n),p.globalCompositeOperation="lighter";var f=[1/0,1/0,-1/0,-1/0];l.forEach((function(t,e,n){var i,r;i=f,(r=t.extent)[0]<i[0]&&(i[0]=r[0]),r[2]>i[2]&&(i[2]=r[2]),r[1]<i[1]&&(i[1]=r[1]),r[3]>i[3]&&(i[3]=r[3])}));var g=xi(f),m=mi(f),y=So(Math.round(n*g/i),Math.round(n*m/i));Vr(y,h);var v=n/i;l.forEach((function(t,e,n){var i=t.extent[0]-f[0],r=-(t.extent[3]-f[3]),o=xi(t.extent),a=mi(t.extent);t.image.width>0&&t.image.height>0&&y.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,i*v,r*v,o*v,a*v)}));var _=vi(a);return s.getTriangles().forEach((function(t,e,r){var a=t.source,s=t.target,l=a[0][0],u=a[0][1],c=a[1][0],g=a[1][1],m=a[2][0],v=a[2][1],x=d((s[0][0]-_[0])/o),w=d(-(s[0][1]-_[1])/o),b=d((s[1][0]-_[0])/o),S=d(-(s[1][1]-_[1])/o),C=d((s[2][0]-_[0])/o),T=d(-(s[2][1]-_[1])/o),E=l,M=u;l=0,u=0;var O=function(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,r=Math.abs(t[n][n]),o=n+1;o<e;o++){var a=Math.abs(t[o][n]);a>r&&(r=a,i=o)}if(0===r)return null;var s=t[i];t[i]=t[n],t[n]=s;for(var l=n+1;l<e;l++)for(var u=-t[l][n]/t[n][n],c=n;c<e+1;c++)n==c?t[l][c]=0:t[l][c]+=u*t[n][c]}for(var h=new Array(e),p=e-1;p>=0;p--){h[p]=t[p][e]/t[p][p];for(var d=p-1;d>=0;d--)t[d][e]-=t[d][p]*h[p]}return h}([[c-=E,g-=M,0,0,b-x],[m-=E,v-=M,0,0,C-x],[0,0,c,g,S-w],[0,0,m,v,T-w]]);if(O){if(p.save(),p.beginPath(),function(){if(void 0===Th){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",Ph(t,4,5,4,0),Ph(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;Th=kh(e,0)||kh(e,4)||kh(e,8)}return Th}()||h===Rh){p.moveTo(b,S);for(var R=x-b,P=w-S,k=0;k<4;k++)p.lineTo(b+d((k+1)*R/4),S+d(k*P/3)),3!=k&&p.lineTo(b+d((k+1)*R/4),S+d((k+1)*P/3));p.lineTo(C,T)}else p.moveTo(b,S),p.lineTo(x,w),p.lineTo(C,T);p.clip(),p.transform(O[0],O[2],O[1],O[3],x,w),p.translate(f[0]-E,f[3]-M),p.scale(i/n,-i/n),p.drawImage(y.canvas,0,0),p.restore()}})),c&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,s.getTriangles().forEach((function(t,e,n){var i=t.target,r=(i[0][0]-_[0])/o,a=-(i[0][1]-_[1])/o,s=(i[1][0]-_[0])/o,l=-(i[1][1]-_[1])/o,u=(i[2][0]-_[0])/o,c=-(i[2][1]-_[1])/o;p.beginPath(),p.moveTo(s,l),p.lineTo(r,a),p.lineTo(u,c),p.closePath(),p.stroke()})),p.restore()),p.canvas}(i,r,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,s,this.triangulation_,t,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=2}this.changed()},e.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,i){var r=e.getState();if(0==r||1==r){t++;var o=io(e,Yr,(function(n){var i=e.getState();2!=i&&3!=i&&4!=i||(oo(o),0==--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(o)}}.bind(this)),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(t,e,n){0==t.getState()&&t.load()}))}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(oo),this.sourcesListenerKeys_=null},e}(xh),Ah=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var n=this.entries_[t];return $n(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},t.prototype.remove=function(t){var e=this.entries_[t];return $n(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){$n(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}(),Zh=Ah;function jh(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function Dh(t,e,n){return t+"/"+e+"/"+n}function zh(t){return Dh(t[0],t[1],t[2])}function Wh(t){return t.split("/").map(Number)}var Nh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Nh(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=Wh(this.peekFirstKey())[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(zh(e.tileCoord)),e.release())}.bind(this))}},e}(Zh),Vh=Gh,Bh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Hh(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}var $h=function(t){function e(e){var n=t.call(this)||this;return n.projection=rr(e.projection),n.attributions_=Hh(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:Ko,n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return Bh(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return Wn()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getContextOptions=function(){},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=Hh(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(po),Kh=[0,0,0],Xh=function(){function t(t){var e,n,i;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,$n((e=this.resolutions_,!0,n=function(t,e){return e-t}||Lr,e.every((function(t,i){if(0===i)return!0;var r=n(e[i-1],t);return!(r>0||0===r)}))),17),!t.origins)for(var r=0,o=this.resolutions_.length-1;r<o;++r)if(i){if(this.resolutions_[r]/this.resolutions_[r+1]!==i){i=void 0;break}}else i=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=i,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,$n(this.origins_.length==this.resolutions_.length,20));var a=t.extent;void 0===a||this.origin_||this.origins_||(this.origin_=vi(a)),$n(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,$n(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:256,$n(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){var n=new mc(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(a){var i=this.getTileRangeForExtentAndZ(a,e);n.minX=Math.max(i.minX,n.minX),n.maxX=Math.min(i.maxX,n.maxX),n.minY=Math.max(i.minY,n.minY),n.maxY=Math.min(i.maxY,n.maxY)}return n}),this):a&&this.calculateTileRanges_(a)}return t.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),r=i.minX,o=i.maxX;r<=o;++r)for(var a=i.minY,s=i.maxY;a<=s;++a)n([e,r,a])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,i){var r,o,a=null,s=t[0]-1;for(2===this.zoomFactor_?(r=t[1],o=t[2]):a=this.getTileCoordExtent(t,i);s>=this.minZoom;){if(e(s,2===this.zoomFactor_?gc(r=Math.floor(r/2),r,o=Math.floor(o/2),o,n):this.getTileRangeForExtentAndZ(a,s,n)))return!0;--s}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],r=2*t[2];return gc(i,i+1,r,r+1,e)}var o=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},t.prototype.getTileRangeForTileCoordAndZ=function(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;var i=t[0],r=t[1],o=t[2];if(e===i)return gc(r,o,r,o,n);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,e-i),s=Math.floor(r*a),l=Math.floor(o*a);return e<i?gc(s,s,l,l,n):gc(s,Math.floor(a*(r+1))-1,l,Math.floor(a*(o+1))-1,n)}var u=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(u,e,n)},t.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),r=this.getResolution(t),o=su(this.getTileSize(t),this.tmpSize_),a=i[0]+e.minX*o[0]*r,s=i[0]+(e.maxX+1)*o[0]*r;return ei(a,i[1]+e.minY*o[1]*r,s,i[1]+(e.maxY+1)*o[1]*r,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=Kh;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,i);var r=i[1],o=i[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,i),gc(r,i[1],o,i[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=su(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]-(t[2]+.5)*i[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=su(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*r[0]*i,a=n[1]-(t[2]+1)*r[1]*i;return ei(o,a,o+r[0]*i,a+r[1]*i,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,r){var o=this.getZForResolution(n),a=n/this.getResolution(o),s=this.getOrigin(o),l=su(this.getTileSize(o),this.tmpSize_),u=i?.5:0,c=i?.5:0,h=Math.floor((t-s[0])/n+u),p=Math.floor((s[1]-e)/n+c),d=a*h/l[0],f=a*p/l[1];return i?(d=Math.ceil(d)-1,f=Math.ceil(f)-1):(d=Math.floor(d),f=Math.floor(f)),jh(o,d,f,r)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,r){var o=this.getOrigin(n),a=this.getResolution(n),s=su(this.getTileSize(n),this.tmpSize_),l=i?.5:0,u=i?.5:0,c=Math.floor((t-o[0])/a+l),h=Math.floor((o[1]-e)/a+u),p=c/s[0],d=h/s[1];return i?(p=Math.ceil(p)-1,d=Math.ceil(d)-1):(p=Math.floor(p),d=Math.floor(d)),jh(n,p,d,r)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},t.prototype.getZForResolution=function(t,e){return Pi(Fr(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n},t}();function Yh(t){var e=t.getDefaultTileGrid();return e||(e=qh(t),t.setDefaultTileGrid(e)),e}function Uh(t,e,n,i){for(var r=void 0!==e?e:42,o=mi(t),a=xi(t),s=su(void 0!==n?n:256),l=i>0?i:Math.max(a/s[0],o/s[1]),u=r+1,c=new Array(u),h=0;h<u;++h)c[h]=l/Math.pow(2,h);return c}function qh(t,e,n,i){return function(t,e,n,i){var r=void 0!==i?i:zn,o=Uh(t,e,n);return new Xh({extent:t,origin:fi(t,r),resolutions:o,tileSize:n})}(Jh(t),e,n,i)}function Jh(t){var e=(t=rr(t)).getExtent();if(!e){var n=180*Mi[Oi.DEGREES]/t.getMetersPerUnit();e=ei(-n,-n,n,n)}return e}var Qh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tp=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.on,n.once,n.un,n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var i=e.tileGrid;return i&&su(i.getTileSize(i.getMinZoom()),[256,256]),n.tileCache=new Vh(e.cacheSize||0),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection=e.zDirection?e.zDirection:0,n}return Qh(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,i){var r=this.getTileCacheForProjection(t);if(!r)return!1;for(var o,a,s,l=!0,u=n.minX;u<=n.maxX;++u)for(var c=n.minY;c<=n.maxY;++c)a=Dh(e,u,c),s=!1,r.containsKey(a)&&(s=2===(o=r.get(a)).getState())&&(s=!1!==i(o)),s||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,r){return Wn()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Yh(t)},e.prototype.getTileCacheForProjection=function(t){return $n(cr(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var i,r,o,a=this.getTileGridForProjection(n),s=this.getTilePixelRatio(e),l=su(a.getTileSize(t),this.tmpSize);return 1==s?l:(i=l,r=s,void 0===(o=this.tmpSize)&&(o=[0,0]),o[0]=i[0]*r+.5|0,o[1]=i[1]*r+.5|0,o)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var i=e[0],r=t.getTileCoordCenter(e),o=Jh(n);if(qn(o,r))return e;var a=xi(o),s=Math.ceil((o[0]-r[0])/a);return r[0]+=a*s,t.getTileCoordForCoordAndZ(r,i)}(i,t,n)),function(t,e){var n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o=e.getFullTileRange(n);return!o||o.containsXY(i,r)}(t,i)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,e){var n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)},e.prototype.useTile=function(t,e,n,i){},e}($h),ep=function(t){function e(e,n){var i=t.call(this,e)||this;return i.tile=n,i}return Qh(e,t),e}(Pr),np=tp;function ip(t,e){var n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(a,s,l){return a?t.replace(n,a[0].toString()).replace(i,a[1].toString()).replace(r,a[2].toString()).replace(o,(function(){var t=a[0],n=e.getFullTileRange(t);return $n(n,55),(n.getHeight()-a[2]-1).toString()})):void 0}}function rp(t){return 1===t.length?t[0]:function(e,n,i){if(e){var r=function(t){return(t[1]<<t[0])+t[2]}(e),o=Zi(r,t.length);return t[o](e,n,i)}}}function op(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var i=n[1].charCodeAt(0),r=n[2].charCodeAt(0),o=void 0;for(o=i;o<=r;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}var ap=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sp=function(t){function e(n){var i=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tilePixelRatio:n.tilePixelRatio,wrapX:n.wrapX,transition:n.transition,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return i.generateTileUrlFunction_=i.tileUrlFunction===e.prototype.tileUrlFunction,i.tileLoadFunction=n.tileLoadFunction,n.tileUrlFunction&&(i.tileUrlFunction=n.tileUrlFunction),i.urls=null,n.urls?i.setUrls(n.urls):n.url&&i.setUrl(n.url),i.tileLoadingKeys_={},i}return ap(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,i=Gn(n),r=n.getState();1==r?(this.tileLoadingKeys_[i]=!0,e="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],e=3==r?"tileloaderror":2==r?"tileloadend":void 0),null!=e&&this.dispatchEvent(new ep(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=op(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=ip(t[r],e);return rp(i)}(t,this.tileGrid),e):this.setKey(e)},e.prototype.tileUrlFunction=function(t,e,n){},e.prototype.useTile=function(t,e,n){var i=Dh(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(np),lp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),up=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:cp,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:Mh,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.contextOptions_=!1===e.imageSmoothing?Rh:void 0,n.renderReprojectionEdges_=!1,n}return lp(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var i in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var r=this.tileCacheForProjection[i];r.expireCache(r==n?e:{})}},e.prototype.getContextOptions=function(){return this.contextOptions_},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!cr(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){return t.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!cr(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!cr(e,t)){var n=Gn(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=Yh(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||cr(e,t))return this.tileCache;var n=Gn(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new Vh(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,i,r,o){var a=[t,e,n],s=this.getTileCoordForTileUrlFunction(a,r),l=s?this.tileUrlFunction(s,i,r):void 0,u=new this.tileClass(a,void 0!==l?0:4,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=o,u.addEventListener(Yr,this.handleTileChange.bind(this)),u},e.prototype.getTile=function(t,e,n,i,r){var o=this.getProjection();if(o&&r&&!cr(o,r)){var a=this.getTileCacheForProjection(r),s=[t,e,n],l=void 0,u=zh(s);a.containsKey(u)&&(l=a.get(u));var c=this.getKey();if(l&&l.key==c)return l;var h=this.getTileGridForProjection(o),p=this.getTileGridForProjection(r),d=this.getTileCoordForTileUrlFunction(s,r),f=new Fh(o,h,r,p,s,d,this.getTilePixelRatio(i),this.getGutter(),function(t,e,n,i){return this.getTileInternal(t,e,n,i,o)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return f.key=c,l?(f.interimTile=l,f.refreshInterimChain(),a.replace(u,f)):a.set(u,f),f}return this.getTileInternal(t,e,n,i,o||r)},e.prototype.getTileInternal=function(t,e,n,i,r){var o=null,a=Dh(t,e,n),s=this.getKey();if(this.tileCache.containsKey(a)){if((o=this.tileCache.get(a)).key!=s){var l=o;o=this.createTile_(t,e,n,i,r,s),0==l.getState()?o.interimTile=l.interimTile:o.interimTile=l,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(t,e,n,i,r,s),this.tileCache.set(a,o);return o},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=rr(t);if(n){var i=Gn(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=e)}},e}(sp);function cp(t,e){t.getImage().src=e}var hp=up,pp="KVP";function dp(t,e){var n=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&n.push(t+"="+encodeURIComponent(e[t]))}));var i=n.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+i}var fp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gp=function(t){function e(e){var n=t.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes})||this;return n.matrixIds_=e.matrixIds,n}return fp(e,t),e.prototype.getMatrixId=function(t){return this.matrixIds_[t]},e.prototype.getMatrixIds=function(){return this.matrixIds_},e}(Xh),mp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yp=function(t){function e(e){var n=this,i=void 0!==e.requestEncoding?e.requestEncoding:pp,r=e.tileGrid,o=e.urls;return void 0===o&&void 0!==e.url&&(o=op(e.url)),(n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,imageSmoothing:e.imageSmoothing,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:o,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition,zDirection:e.zDirection})||this).version_=void 0!==e.version?e.version:"1.0.0",n.format_=void 0!==e.format?e.format:"image/jpeg",n.dimensions_=void 0!==e.dimensions?e.dimensions:{},n.layer_=e.layer,n.matrixSet_=e.matrixSet,n.style_=e.style,n.requestEncoding_=i,n.setKey(n.getKeyForDimensions_()),o&&o.length>0&&(n.tileUrlFunction=rp(o.map(n.createFromWMTSTemplate.bind(n)))),n}return mp(e,t),e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction(rp(t.map(this.createFromWMTSTemplate.bind(this))),e)},e.prototype.getDimensions=function(){return this.dimensions_},e.prototype.getFormat=function(){return this.format_},e.prototype.getLayer=function(){return this.layer_},e.prototype.getMatrixSet=function(){return this.matrixSet_},e.prototype.getRequestEncoding=function(){return this.requestEncoding_},e.prototype.getStyle=function(){return this.style_},e.prototype.getVersion=function(){return this.version_},e.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var n in this.dimensions_)e[t++]=n+"-"+this.dimensions_[n];return e.join("/")},e.prototype.updateDimensions=function(t){Vr(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},e.prototype.createFromWMTSTemplate=function(t){var e=this.requestEncoding_,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==pp&&Vr(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=e==pp?dp(t,n):t.replace(/\{(\w+?)\}/g,(function(t,e){return e.toLowerCase()in n?n[e.toLowerCase()]:t}));var i=this.tileGrid,r=this.dimensions_;return function(n,o,a){if(n){var s={TileMatrix:i.getMatrixId(n[0]),TileCol:n[1],TileRow:n[2]};Vr(s,r);var l=t;return e==pp?dp(l,s):l.replace(/\{(\w+?)\}/g,(function(t,e){return s[e]}))}}},e}(hp),vp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_p=function(t){function e(e,n,i,r,o,a){var s=t.call(this,e,n,a)||this;return s.extent=null,s.format_=r,s.features_=null,s.loader_,s.projection=null,s.resolution,s.tileLoadFunction_=o,s.url_=i,s.key=i,s}return vp(e,t),e.prototype.getFormat=function(){return this.format_},e.prototype.getFeatures=function(){return this.features_},e.prototype.load=function(){0==this.state&&(this.setState(1),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))},e.prototype.onLoad=function(t,e){this.setFeatures(t)},e.prototype.onError=function(){this.setState(3)},e.prototype.setFeatures=function(t){this.features_=t,this.setState(2)},e.prototype.setLoader=function(t){this.loader_=t},e}(xh),xp=_p,wp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bp=[],Sp=function(t){function e(e,n,i,r){var o=t.call(this,e,n,{transition:0})||this;return o.context_={},o.executorGroups={},o.declutterExecutorGroups={},o.loadingSourceTiles=0,o.hitDetectionImageData={},o.replayState_={},o.sourceTiles=[],o.errorTileKeys={},o.wantedResolution,o.getSourceTiles=r.bind(void 0,o),o.wrappedTileCoord=i,o}return wp(e,t),e.prototype.getContext=function(t){var e=Gn(t);return e in this.context_||(this.context_[e]=So(1,1,bp)),this.context_[e]},e.prototype.hasContext=function(t){return Gn(t)in this.context_},e.prototype.getImage=function(t){return this.hasContext(t)?this.getContext(t).canvas:null},e.prototype.getReplayState=function(t){var e=Gn(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[e]},e.prototype.load=function(){this.getSourceTiles()},e.prototype.release=function(){for(var e in this.context_)bp.push(this.context_[e].canvas),delete this.context_[e];t.prototype.release.call(this)},e}(xh),Cp="arraybuffer";var Tp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ep=function(t){function e(e){var n=this,i=e.projection||"EPSG:3857",r=e.extent||Jh(i),o=e.tileGrid||function(t){var e=t||{},n=e.extent||rr("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Uh(n,e.maxZoom,e.tileSize,e.maxResolution)};return new Xh(i)}({extent:r,maxResolution:e.maxResolution,maxZoom:void 0!==e.maxZoom?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});return(n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,opaque:!1,projection:i,state:e.state,tileGrid:o,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Op,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection})||this).format_=e.format?e.format:null,n.sourceTileCache=new Vh(n.tileCache.highWaterMark),n.overlaps_=null==e.overlaps||e.overlaps,n.tileClass=e.tileClass?e.tileClass:xp,n.tileGrids_={},n}return Tp(e,t),e.prototype.getFeaturesInExtent=function(t){var e=[],n=this.tileCache;if(0===n.getCount())return e;var i=Wh(n.peekFirstKey())[0],r=this.tileGrid;return n.forEach((function(n){if(n.tileCoord[0]===i&&2===n.getState())for(var o=n.getSourceTiles(),a=0,s=o.length;a<s;++a){var l=o[a],u=l.tileCoord;if(wi(t,r.getTileCoordExtent(u))){var c=l.getFeatures();if(c)for(var h=0,p=c.length;h<p;++h){var d=c[h],f=d.getGeometry();wi(t,f.getExtent())&&e.push(d)}}}})),e},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.clear=function(){this.tileCache.clear(),this.sourceTileCache.clear()},e.prototype.expireCache=function(e,n){var i=this.getTileCacheForProjection(e),r=Object.keys(n).reduce((function(t,e){var n,r,o=Dh((r=(n=e).substring(n.lastIndexOf("/")+1,n.length).split(",").map(Number))[0],r[1],r[2]);if(i.containsKey(o))for(var a=i.get(o).sourceTiles,s=0,l=a.length;s<l;++s)t[a[s].getKey()]=!0;return t}),{});t.prototype.expireCache.call(this,e,n),this.sourceTileCache.expireCache(r)},e.prototype.getSourceTiles=function(t,e,n){var i=this;if(0===n.getState()){n.setState(1);var r=n.wrappedTileCoord,o=this.getTileGridForProjection(e),a=o.getTileCoordExtent(r),s=r[0],l=o.getResolution(s);Xn(a,-l,a);var u=this.tileGrid,c=u.getExtent();c&&yi(a,c,a);var h=u.getZForResolution(l,1);u.forEachTileCoord(a,h,(function(r){var o=i.tileUrlFunction(r,t,e),a=i.sourceTileCache.containsKey(o)?i.sourceTileCache.get(o):new i.tileClass(r,o?0:4,o,i.format_,i.tileLoadFunction);n.sourceTiles.push(a);var s=a.getState();if(s<2){var l=function(t){i.handleTileChange(t);var e=a.getState();if(2===e||3===e){var r=a.getKey();r in n.errorTileKeys?2===a.getState()&&delete n.errorTileKeys[r]:n.loadingSourceTiles--,3===e?n.errorTileKeys[r]=!0:a.removeEventListener(Yr,l),0===n.loadingSourceTiles&&n.setState($r(n.errorTileKeys)?2:3)}};a.addEventListener(Yr,l),n.loadingSourceTiles++}0===s&&(a.extent=u.getTileCoordExtent(r),a.projection=e,a.resolution=u.getResolution(r[0]),i.sourceTileCache.set(o,a),a.load())})),n.loadingSourceTiles||n.setState(n.sourceTiles.some((function(t){return 3===t.getState()}))?3:2)}return n.sourceTiles},e.prototype.getTile=function(t,e,n,i,r){var o,a=Dh(t,e,n),s=this.getKey();if(this.tileCache.containsKey(a)&&(o=this.tileCache.get(a)).key===s)return o;var l=[t,e,n],u=this.getTileCoordForTileUrlFunction(l,r),c=this.getTileGrid().getExtent(),h=this.getTileGridForProjection(r);if(u&&c){var p=h.getTileCoordExtent(u);Xn(p,-h.getResolution(t),p),wi(c,p)||(u=null)}var d=!0;if(null!==u){var f=this.tileGrid,g=h.getResolution(t),m=f.getZForResolution(g,1),y=h.getTileCoordExtent(u);Xn(y,-g,y),f.forEachTileCoord(y,m,function(t){d=d&&!this.tileUrlFunction(t,i,r)}.bind(this))}var v=new Sp(l,d?4:0,u,this.getSourceTiles.bind(this,i,r));return v.key=s,o?(v.interimTile=o,v.refreshInterimChain(),this.tileCache.replace(a,v)):this.tileCache.set(a,v),v},e.prototype.getTileGridForProjection=function(t){var e=t.getCode(),n=this.tileGrids_[e];if(!n){var i=this.tileGrid;n=qh(t,void 0,i?i.getTileSize(i.getMinZoom()):void 0),this.tileGrids_[e]=n}return n},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.getTilePixelSize=function(t,e,n){var i=su(this.getTileGridForProjection(n).getTileSize(t),this.tmpSize);return[Math.round(i[0]*e),Math.round(i[1]*e)]},e.prototype.updateCacheSize=function(e,n){t.prototype.updateCacheSize.call(this,2*e,n),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(n).highWaterMark},e}(sp),Mp=Ep;function Op(t,e){t.setLoader((function(n,i,r){!function(t,e,n,i,r,o,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(n,i,r):t,!0),e.getType()==Cp&&(s.responseType="arraybuffer"),s.withCredentials=!1,s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var i=e.getType(),l=void 0;"json"==i||"text"==i?l=s.responseText:"xml"==i?(l=s.responseXML)||(l=(new DOMParser).parseFromString(s.responseText,"application/xml")):i==Cp&&(l=s.response),l?o(e.readFeatures(l,{extent:n,featureProjection:r}),e.readProjection(l)):a()}else a()},s.onerror=a,s.send()}(e,t.getFormat(),n,i,r,t.onLoad.bind(t),t.onError.bind(t))}))}var Rp=function(){function t(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return t.prototype.getReadOptions=function(t,e){var n;if(e){var i=e.dataProjection?rr(e.dataProjection):this.readProjection(t);e.extent&&i&&i.getUnits()===Oi.TILE_PIXELS&&(i=rr(i)).setWorldExtent(e.extent),n={dataProjection:i,featureProjection:e.featureProjection}}return this.adaptOptions(n)},t.prototype.adaptOptions=function(t){return Vr({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return Wn()},t.prototype.readFeature=function(t,e){return Wn()},t.prototype.readFeatures=function(t,e){return Wn()},t.prototype.readGeometry=function(t,e){return Wn()},t.prototype.readProjection=function(t){return Wn()},t.prototype.writeFeature=function(t,e){return Wn()},t.prototype.writeFeatures=function(t,e){return Wn()},t.prototype.writeGeometry=function(t,e){return Wn()},t}();function Pp(t,e,n,i,r,o,a){var s,l,u=(n-e)/i;if(1===u)s=e;else if(2===u)s=e,l=r;else if(0!==u){for(var c=t[e],h=t[e+1],p=0,d=[0],f=e+i;f<n;f+=i){var g=t[f],m=t[f+1];p+=Math.sqrt((g-c)*(g-c)+(m-h)*(m-h)),d.push(p),c=g,h=m}var y=r*p,v=function(t,e,n){for(var i,r,o=Lr,a=0,s=t.length,l=!1;a<s;)(r=+o(t[i=a+(s-a>>1)],e))<0?a=i+1:(s=i,l=!r);return l?a:~a}(d,y);v<0?(l=(y-d[-v-2])/(d[-v-1]-d[-v-2]),s=e+(-v-2)*i):s=e+v*i}var _=a>1?a:2,x=o||new Array(_);for(f=0;f<_;++f)x[f]=void 0===s?NaN:void 0===l?t[s+f]:ji(t[s+f],t[s+i+f],l);return x}function kp(t,e,n,i,r,o){if(n==e)return null;var a;if(r<t[e+i-1])return o?((a=t.slice(e,e+i))[i-1]=r,a):null;if(t[n-1]<r)return o?((a=t.slice(n-i,n))[i-1]=r,a):null;if(r==t[e+i-1])return t.slice(e,e+i);for(var s=e/i,l=n/i;s<l;){var u=s+l>>1;r<t[(u+1)*i-1]?l=u:s=u+1}var c=t[s*i-1];if(r==c)return t.slice((s-1)*i,(s-1)*i+i);var h=(r-c)/(t[(s+1)*i-1]-c);a=[];for(var p=0;p<i-1;++p)a.push(ji(t[(s-1)*i+p],t[s*i+p],h));return a.push(r),a}function Ip(t,e,n,i){for(var r=t[e],o=t[e+1],a=0,s=e+i;s<n;s+=i){var l=t[s],u=t[s+1];a+=Math.sqrt((l-r)*(l-r)+(u-o)*(u-o)),r=l,o=u}return a}var Lp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fp=function(t){function e(e,n){var i=t.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return Lp(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?Zr(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){return i<Un(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ys(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),_s(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.forEachSegment=function(t){return Vs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=Ua&&this.layout!=qa)return null;var n=void 0!==e&&e;return kp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return Ms(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Pp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},e.prototype.getLength=function(){return Ip(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Ss(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,Ya)},e.prototype.getType=function(){return ka},e.prototype.intersectsExtent=function(t){return Bs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ws(this.flatCoordinates,0,t,this.stride),this.changed()},e}(gs),Ap=Fp,Zp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jp=function(t){function e(e,n,i){var r=t.call(this)||this;if(r.ends_=[],r.maxDelta_=-1,r.maxDeltaRevision_=-1,Array.isArray(e[0]))r.setCoordinates(e,n);else if(void 0!==n&&i)r.setFlatCoordinates(n,e),r.ends_=i;else{for(var o=r.getLayout(),a=e,s=[],l=[],u=0,c=a.length;u<c;++u){var h=a[u];0===u&&(o=h.getLayout()),Zr(s,h.getFlatCoordinates()),l.push(s.length)}r.setFlatCoordinates(o,s),r.ends_=l}return r}return Zp(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?Zr(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){return i<Un(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(vs(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),xs(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=Ua&&this.layout!=qa||0===this.flatCoordinates.length)return null;var i=void 0!==e&&e,r=void 0!==n&&n;return function(t,e,n,i,r,o,a){if(a)return kp(t,e,n[n.length-1],i,r,o);var s;if(r<t[i-1])return o?((s=t.slice(0,i))[i-1]=r,s):null;if(t[t.length-1]<r)return o?((s=t.slice(t.length-i))[i-1]=r,s):null;for(var l=0,u=n.length;l<u;++l){var c=n[l];if(e!=c){if(r<t[e+i-1])return null;if(r<=t[c-1])return kp(t,e,c,i,r,!1);e=c}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,i,r)},e.prototype.getCoordinates=function(){return Os(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new Ap(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,i=[],r=0,o=0,a=e.length;o<a;++o){var s=e[o],l=new Ap(t.slice(r,s),n);i.push(l),r=s}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,i=this.ends_,r=this.stride,o=0,a=i.length;o<a;++o){var s=i[o];Zr(t,Pp(e,n,s,r,.5)),n=s}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=function(t,e,n,i,r,o,a,s){for(var l=0,u=n.length;l<u;++l){var c=n[l];a=Ss(t,e,c,i,r,o,a),s.push(a),e=c}return a}(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,i),new e(n,Ya,i)},e.prototype.getType=function(){return Fa},e.prototype.intersectsExtent=function(t){return function(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o){if(Bs(t,e,n[o],i,r))return!0;e=n[o]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=bs(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(gs),Dp=jp,zp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wp=function(t){function e(e,n){var i=t.call(this)||this;return n&&!Array.isArray(e[0])?i.setFlatCoordinates(n,e):i.setCoordinates(e,n),i}return zp(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?Zr(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){if(i<Un(this.getExtent(),t,e))return i;for(var r=this.flatCoordinates,o=this.stride,a=0,s=r.length;a<s;a+=o){var l=Fi(t,e,r[a],r[a+1]);if(l<i){i=l;for(var u=0;u<o;++u)n[u]=r[a+u];n.length=o}}return i},e.prototype.getCoordinates=function(){return Ms(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new js(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,i=[],r=0,o=t.length;r<o;r+=n){var a=new js(t.slice(r,r+n),e);i.push(a)}return i},e.prototype.getType=function(){return La},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,i=0,r=e.length;i<r;i+=n)if(Qn(t,e[i],e[i+1]))return!0;return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ws(this.flatCoordinates,0,t,this.stride),this.changed()},e}(gs),Np=Wp;function Gp(t,e,n,i){for(var r=[],o=[1/0,1/0,-1/0,-1/0],a=0,s=n.length;a<s;++a){var l=n[a];o=ri(t,e,l[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=l[l.length-1]}return r}var Vp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bp=function(t){function e(e,n,i){var r=t.call(this)||this;if(r.endss_=[],r.flatInteriorPointsRevision_=-1,r.flatInteriorPoints_=null,r.maxDelta_=-1,r.maxDeltaRevision_=-1,r.orientedRevision_=-1,r.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){for(var o=r.getLayout(),a=e,s=[],l=[],u=0,c=a.length;u<c;++u){var h=a[u];0===u&&(o=h.getLayout());for(var p=s.length,d=h.getEnds(),f=0,g=d.length;f<g;++f)d[f]+=p;Zr(s,h.getFlatCoordinates()),l.push(d)}n=o,e=s,i=l}return void 0!==n&&i?(r.setFlatCoordinates(n,e),r.endss_=i):r.setCoordinates(e,n),r}return Vp(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;Zr(this.flatCoordinates,t.getFlatCoordinates());for(var i=0,r=(e=t.getEnds().slice()).length;i<r;++i)e[i]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),i=0;i<t;++i)n[i]=this.endss_[i].slice();var r=new e(this.flatCoordinates.slice(),this.layout,n);return r.applyProperties(this),r},e.prototype.closestPointXY=function(t,e,n,i){return i<Un(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o){var s=n[o];r=vs(t,e,s,i,r),e=s[s.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,i,r,o,a,s,l,u,c){for(var h=[NaN,NaN],p=0,d=n.length;p<d;++p){var f=n[p];u=xs(t,e,f,i,r,true,a,s,l,u,h),e=f[f.length-1]}return u}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,0,t,e,n,i))},e.prototype.containsXY=function(t,e){return function(t,e,n,i,r,o){if(0===n.length)return!1;for(var a=0,s=n.length;a<s;++a){var l=n[a];if(Ws(t,e,l,i,r,o))return!0;e=l[l.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return function(t,e,n,i){for(var r=0,o=0,a=n.length;o<a;++o){var s=n[o];r+=ks(t,e,s,i),e=s[s.length-1]}return r}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?Us(e=this.getOrientedFlatCoordinates().slice(),0,this.endss_,this.stride,t):e=this.flatCoordinates,Rs(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=Gp(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Gs(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new Np(this.getFlatInteriorPoints().slice(),Ua)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;!function(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o){var s=n[o];if(!Xs(t,e,s,i,undefined))return!1;s.length&&(e=s[s.length-1])}return!0}(t,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Us(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=function(t,e,n,i,r,o,a,s){for(var l=0,u=n.length;l<u;++l){var c=n[l],h=[];a=Es(t,e,c,i,r,o,a,h),s.push(h),e=c[c.length-1]}return a}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,i),new e(n,Ya,i)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var i=this.endss_[t].slice(),r=i[i.length-1];if(0!==e)for(var o=0,a=i.length;o<a;++o)i[o]-=e;return new Qs(this.flatCoordinates.slice(e,r),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[],r=0,o=0,a=n.length;o<a;++o){var s=n[o].slice(),l=s[s.length-1];if(0!==r)for(var u=0,c=s.length;u<c;++u)s[u]-=r;var h=new Qs(e.slice(r,l),t,s);i.push(h),r=l}return i},e.prototype.getType=function(){return Aa},e.prototype.intersectsExtent=function(t){return function(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o){var s=n[o];if(Hs(t,e,s,i,r))return!0;e=s[s.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=function(t,e,n,i,r){for(var o=r||[],a=0,s=0,l=n.length;s<l;++s){var u=bs(t,e,n[s],i,o[a]);o[a++]=u,e=u[u.length-1]}return o.length=a,o}(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var i=n[n.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()},e}(gs),Hp=Bp,$p=n(8882),Kp=[1,0,0,1,0,0],Xp=function(){function t(t,e,n,i,r){this.extent_,this.id_=r,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n,this.properties_=i}return t.prototype.get=function(t){return this.properties_[t]},t.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===Pa?ii(this.flatCoordinates_):ri(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},t.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var t=di(this.getExtent());this.flatInteriorPoints_=Ns(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_},t.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var t=Gp(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Gs(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_},t.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=Pp(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},t.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var t=this.flatCoordinates_,e=0,n=this.ends_,i=0,r=n.length;i<r;++i){var o=n[i],a=Pp(t,e,o,2,.5);Zr(this.flatMidpoints_,a),e=o}}return this.flatMidpoints_},t.prototype.getId=function(){return this.id_},t.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},t.prototype.getGeometry=function(){return this},t.prototype.getSimplifiedGeometry=function(t){return this},t.prototype.simplifyTransformed=function(t,e){return this},t.prototype.getProperties=function(){return this.properties_},t.prototype.getStride=function(){return 2},t.prototype.getStyleFunction=function(){},t.prototype.getType=function(){return this.type_},t.prototype.transform=function(t){var e=(t=rr(t)).getExtent(),n=t.getWorldExtent();if(e&&n){var i=mi(n)/mi(e);rs(Kp,n[0],n[3],i,-i,0,0,0),as(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Kp,this.flatCoordinates_)}},t.prototype.getEnds=function(){return this.ends_},t}();Xp.prototype.getEndss=Xp.prototype.getEnds,Xp.prototype.getFlatCoordinates=Xp.prototype.getOrientedFlatCoordinates;var Yp=Xp,Up=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qp=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.dataProjection=new Ri({code:"",units:Oi.TILE_PIXELS}),n.featureClass_=i.featureClass?i.featureClass:Yp,n.geometryName_=i.geometryName,n.layerName_=i.layerName?i.layerName:"layer",n.layers_=i.layers?i.layers:null,n.idProperty_=i.idProperty,n.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"],n}return Up(e,t),e.prototype.readRawGeometry_=function(t,e,n,i){t.pos=e.geometry;for(var r=t.readVarint()+t.pos,o=1,a=0,s=0,l=0,u=0,c=0;t.pos<r;){if(!a){var h=t.readVarint();o=7&h,a=h>>3}a--,1===o||2===o?(s+=t.readSVarint(),l+=t.readSVarint(),1===o&&u>c&&(i.push(u),c=u),n.push(s,l),u+=2):7===o?u>c&&(n.push(n[c],n[c+1]),u+=2):$n(!1,59)}u>c&&(i.push(u),c=u)},e.prototype.createFeature_=function(t,e,n){var i,r=e.type;if(0===r)return null;var o,a=e.properties;this.idProperty_?(o=a[this.idProperty_],delete a[this.idProperty_]):o=e.id,a[this.layerName_]=e.layer.name;var s=[],l=[];this.readRawGeometry_(t,e,s,l);var u=function(t,e){var n;return 1===t?n=1===e?Pa:La:2===t?n=1===e?ka:Fa:3===t&&(n=Ia),n}(r,l.length);if(this.featureClass_===Yp)(i=new this.featureClass_(u,s,l,a,o)).transform(n.dataProjection);else{var c=void 0;if(u==Ia){for(var h=[],p=0,d=0,f=0,g=l.length;f<g;++f){var m=l[f];if(Ks(s,p,m,2)){if(0===h.length)continue;h[h.length-1].push(l[d])}else h.push(l.slice(d,f+1));d=f+1,p=m}c=h.length>1?new Hp(s,Ya,h):new Qs(s,Ya,l)}else c=u===Pa?new js(s,Ya):u===ka?new Ap(s,Ya):u===Ia?new Qs(s,Ya,l):u===La?new Np(s,Ya):u===Fa?new Dp(s,Ya,l):null;i=new(0,this.featureClass_),this.geometryName_&&i.setGeometryName(this.geometryName_);var y=function(t,e,n){var i=n?rr(n.featureProjection):null,r=n?rr(n.dataProjection):null;return i&&r&&!cr(i,r)?t.transform(r,i):t}(c,0,n);i.setGeometry(y),i.setId(o),i.setProperties(a,!0)}return i},e.prototype.getType=function(){return Cp},e.prototype.readFeatures=function(t,e){var n=this.layers_,i=this.adaptOptions(e),r=rr(i.dataProjection);r.setWorldExtent(i.extent),i.dataProjection=r;var o=new $p(t),a=o.readFields(Jp,{}),s=[];for(var l in a)if(!n||-1!=n.indexOf(l)){var u=a[l],c=u?[0,0,u.extent,u.extent]:null;r.setExtent(c);for(var h=0,p=u.length;h<p;++h){var d=ed(o,u,h);s.push(this.createFeature_(o,d,i))}}return s},e.prototype.readProjection=function(t){return this.dataProjection},e.prototype.setLayers=function(t){this.layers_=t},e}(Rp);function Jp(t,e,n){if(3===t){var i={keys:[],values:[],features:[]},r=n.readVarint()+n.pos;n.readFields(Qp,i,r),i.length=i.features.length,i.length&&(e[i.name]=i)}}function Qp(t,e,n){if(15===t)e.version=n.readVarint();else if(1===t)e.name=n.readString();else if(5===t)e.extent=n.readVarint();else if(2===t)e.features.push(n.pos);else if(3===t)e.keys.push(n.readString());else if(4===t){for(var i=null,r=n.readVarint()+n.pos;n.pos<r;)i=1==(t=n.readVarint()>>3)?n.readString():2===t?n.readFloat():3===t?n.readDouble():4===t?n.readVarint64():5===t?n.readVarint():6===t?n.readSVarint():7===t?n.readBoolean():null;e.values.push(i)}}function td(t,e,n){if(1==t)e.id=n.readVarint();else if(2==t)for(var i=n.readVarint()+n.pos;n.pos<i;){var r=e.layer.keys[n.readVarint()],o=e.layer.values[n.readVarint()];e.properties[r]=o}else 3==t?e.type=n.readVarint():4==t&&(e.geometry=n.pos)}function ed(t,e,n){t.pos=e.features[n];var i=t.readVarint()+t.pos,r={layer:e,type:0,properties:{}};return t.readFields(td,r,i),r}var nd,id=qp;function rd(t,e){return od(t,e,[]).join("")}function od(t,e,n){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(t.nodeValue);else{var i=void 0;for(i=t.firstChild;i;i=i.nextSibling)od(i,e,n)}return n}function ad(t,e){return function(n,i){var r=t.call(void 0!==e?e:this,n,i);void 0!==r&&i[i.length-1].push(r)}}function sd(t,e,n){return function(i,r){var o=t.call(void 0!==n?n:this,i,r);if(void 0!==o){var a=r[r.length-1],s=void 0!==e?e:i.localName,l=void 0;s in a?l=a[s]:(l=[],a[s]=l),l.push(o)}}}function ld(t,e,n){return function(i,r){var o=t.call(void 0!==n?n:this,i,r);void 0!==o&&(r[r.length-1][void 0!==e?e:i.localName]=o)}}function ud(t,e,n){var i,r,o=void 0!==n?n:{};for(i=0,r=t.length;i<r;++i)o[t[i]]=e;return o}function cd(t,e,n,i,r){return i.push(t),function(t,e,n,i){var r;for(r=e.firstElementChild;r;r=r.nextElementSibling){var o=t[r.namespaceURI];if(void 0!==o){var a=o[r.localName];void 0!==a&&a.call(i,r,n)}}}(e,n,i,r),i.pop()}var hd=function(){function t(){}return t.prototype.read=function(t){if(t){if("string"==typeof t){var e=(n=t,(new DOMParser).parseFromString(n,"application/xml"));return this.readFromDocument(e)}return"documentElement"in t?this.readFromDocument(t):this.readFromNode(t)}return null;var n},t.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},t.prototype.readFromNode=function(t){},t}();function pd(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function dd(t){var e,n=rd(t,!1);return(e=/^\s*(\d+)\s*$/.exec(n))?parseInt(e[1],10):void 0}function fd(t){return rd(t,!1).trim()}var gd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),md=[null,"http://www.opengis.net/ows/1.1"],yd=ud(md,{ServiceIdentification:ld((function(t,e){return cd({},Pd,t,e)})),ServiceProvider:ld((function(t,e){return cd({},kd,t,e)})),OperationsMetadata:ld((function(t,e){return cd({},Ed,t,e)}))}),vd=function(t){function e(){return t.call(this)||this}return gd(e,t),e.prototype.readFromNode=function(t){return cd({},yd,t,[])||null},e}(hd),_d=ud(md,{DeliveryPoint:ld(fd),City:ld(fd),AdministrativeArea:ld(fd),PostalCode:ld(fd),Country:ld(fd),ElectronicMailAddress:ld(fd)}),xd=ud(md,{Value:sd((function(t,e){return fd(t)}))}),wd=ud(md,{AllowedValues:ld((function(t,e){return cd({},xd,t,e)}))}),bd=ud(md,{Phone:ld((function(t,e){return cd({},Md,t,e)})),Address:ld((function(t,e){return cd({},_d,t,e)}))}),Sd=ud(md,{HTTP:ld((function(t,e){return cd({},Cd,t,e)}))}),Cd=ud(md,{Get:sd((function(t,e){var n=pd(t);if(n)return cd({href:n},Od,t,e)})),Post:void 0}),Td=ud(md,{DCP:ld((function(t,e){return cd({},Sd,t,e)}))}),Ed=ud(md,{Operation:function(t,e){var n=t.getAttribute("name"),i=cd({},Td,t,e);i&&(e[e.length-1][n]=i)}}),Md=ud(md,{Voice:ld(fd),Facsimile:ld(fd)}),Od=ud(md,{Constraint:sd((function(t,e){var n=t.getAttribute("name");if(n)return cd({name:n},wd,t,e)}))}),Rd=ud(md,{IndividualName:ld(fd),PositionName:ld(fd),ContactInfo:ld((function(t,e){return cd({},bd,t,e)}))}),Pd=ud(md,{Abstract:ld(fd),AccessConstraints:ld(fd),Fees:ld(fd),Title:ld(fd),ServiceTypeVersion:ld(fd),ServiceType:ld(fd)}),kd=ud(md,{ProviderName:ld(fd),ProviderSite:ld(pd),ServiceContact:ld((function(t,e){return cd({},Rd,t,e)}))}),Id=vd,Ld=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fd=[null,"http://www.opengis.net/wmts/1.0"],Ad=[null,"http://www.opengis.net/ows/1.1"],Zd=ud(Fd,{Contents:ld((function(t,e){return cd({},Dd,t,e)}))}),jd=function(t){function e(){var e=t.call(this)||this;return e.owsParser_=new Id,e}return Ld(e,t),e.prototype.readFromNode=function(t){var e=t.getAttribute("version");e&&(e=e.trim());var n=this.owsParser_.readFromNode(t);return n?(n.version=e,(n=cd(n,Zd,t,[]))||null):null},e}(hd),Dd=ud(Fd,{Layer:sd((function(t,e){return cd({},zd,t,e)})),TileMatrixSet:sd((function(t,e){return cd({},$d,t,e)}))}),zd=ud(Fd,{Style:sd((function(t,e){var n=cd({},Wd,t,e);if(n){var i="true"===t.getAttribute("isDefault");return n.isDefault=i,n}})),Format:sd(fd),TileMatrixSetLink:sd((function(t,e){return cd({},Nd,t,e)})),Dimension:sd((function(t,e){return cd({},Bd,t,e)})),ResourceURL:sd((function(t,e){var n=t.getAttribute("format"),i=t.getAttribute("template"),r=t.getAttribute("resourceType"),o={};return n&&(o.format=n),i&&(o.template=i),r&&(o.resourceType=r),o}))},ud(Ad,{Title:ld(fd),Abstract:ld(fd),WGS84BoundingBox:ld(Xd),Identifier:ld(fd)})),Wd=ud(Fd,{LegendURL:sd((function(t,e){var n={};return n.format=t.getAttribute("format"),n.href=pd(t),n}))},ud(Ad,{Title:ld(fd),Identifier:ld(fd)})),Nd=ud(Fd,{TileMatrixSet:ld(fd),TileMatrixSetLimits:ld((function(t,e){return cd([],Gd,t,e)}))}),Gd=ud(Fd,{TileMatrixLimits:ad((function(t,e){return cd({},Vd,t,e)}))}),Vd=ud(Fd,{TileMatrix:ld(fd),MinTileRow:ld(dd),MaxTileRow:ld(dd),MinTileCol:ld(dd),MaxTileCol:ld(dd)}),Bd=ud(Fd,{Default:ld(fd),Value:sd(fd)},ud(Ad,{Identifier:ld(fd)})),Hd=ud(Ad,{LowerCorner:ad(Yd),UpperCorner:ad(Yd)}),$d=ud(Fd,{WellKnownScaleSet:ld(fd),TileMatrix:sd((function(t,e){return cd({},Kd,t,e)}))},ud(Ad,{SupportedCRS:ld(fd),Identifier:ld(fd),BoundingBox:ld(Xd)})),Kd=ud(Fd,{TopLeftCorner:ld(Yd),ScaleDenominator:ld((function(t){var e,n=rd(t,!1);return(e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(n))?parseFloat(e[1]):void 0})),TileWidth:ld(dd),TileHeight:ld(dd),MatrixWidth:ld(dd),MatrixHeight:ld(dd)},ud(Ad,{Identifier:ld(fd)}));function Xd(t,e){var n=cd([],Hd,t,e);if(2==n.length)return Kn(n)}function Yd(t,e){var n=fd(t).split(/\s+/);if(n&&2==n.length){var i=+n[0],r=+n[1];if(!isNaN(i)&&!isNaN(r))return[i,r]}}var Ud=jd,qd=n(8476),Jd=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=su(t.scale),this.displacement_=t.displacement}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return Wn()},t.prototype.getImage=function(t){return Wn()},t.prototype.getHitDetectionImage=function(){return Wn()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return Wn()},t.prototype.getImageSize=function(){return Wn()},t.prototype.getOrigin=function(){return Wn()},t.prototype.getSize=function(){return Wn()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=su(t)},t.prototype.listenImageChange=function(t){Wn()},t.prototype.load=function(){Wn()},t.prototype.unlistenImageChange=function(t){Wn()},t}();function Qd(t){return Array.isArray(t)?dl(t):t}var tf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ef=function(t){function e(e){var n=this,i=void 0!==e.rotateWithView&&e.rotateWithView;return(n=t.call(this,{opacity:1,rotateWithView:i,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_=void 0,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.anchor_=null,n.size_=null,n.renderOptions_=null,n.render(),n}return tf(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var n=this.renderOptions_,i=So(n.size*t,n.size*t);this.draw_(n,i,t),e=i.canvas,this.canvas_[t]=e}return e},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return 2},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;var i=this.radius_,r=void 0===this.radius2_?i:this.radius2_;if(i<r){var o=i;i=r,r=o}var a=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/a,l=r*Math.sin(s),u=i-Math.sqrt(r*r-l*l),c=Math.sqrt(l*l+u*u),h=c/l;if("miter"===t&&h<=n)return h*e;var p=e/2/h,d=e/2*(u/c),f=Math.sqrt((i+p)*(i+p)+d*d)-i;if(void 0===this.radius2_||"bevel"===t)return 2*f;var g=i*Math.sin(s),m=r-Math.sqrt(i*i-g*g),y=Math.sqrt(g*g+m*m)/g;if(y<=n){var v=y*e/2-r-i;return 2*Math.max(f,v)}return 2*f},e.prototype.createRenderOptions=function(){var t,e=El,n=0,i=null,r=0,o=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=Ml),t=Qd(t),void 0===(o=this.stroke_.getWidth())&&(o=1),i=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset(),void 0===(e=this.stroke_.getLineJoin())&&(e=El),void 0===(n=this.stroke_.getMiterLimit())&&(n=10));var a=this.calculateLineJoinSize_(e,o,n),s=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:o,size:Math.ceil(2*s+a),lineDash:i,lineDashOffset:r,lineJoin:e,miterLimit:n}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size,e=this.getDisplacement();this.canvas_={},this.anchor_=[t/2-e[0],t/2+e[1]],this.size_=[t,t]},e.prototype.draw_=function(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var i=this.fill_.getColor();null===i&&(i=Sl),e.fillStyle=Qd(i),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),n=0;if("string"==typeof e&&(e=hl(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var i=So(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var e=this.points_,n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{var i=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);for(var r=this.angle_-Math.PI/2,o=2*Math.PI/e,a=0;a<e;a++){var s=r+a*o,l=a%2==0?n:i;t.lineTo(l*Math.cos(s),l*Math.sin(s))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=Sl,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e}(Jd),nf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rf=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:void 0!==n.scale?n.scale:1,rotation:void 0!==n.rotation?n.rotation:0,rotateWithView:void 0!==n.rotateWithView&&n.rotateWithView,displacement:void 0!==n.displacement?n.displacement:[0,0]})||this}return nf(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(ef),of=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}(),af=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}(),sf=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=cf,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=cf,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}(),lf=null;function uf(t,e){if(!lf){var n=new of({color:"rgba(255,255,255,0.4)"}),i=new af({color:"#3399CC",width:1.25});lf=[new sf({image:new rf({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return lf}function cf(t){return t.getGeometry()}var hf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),pf="renderOrder",df=function(t){function e(e){var n=this,i=e||{},r=Vr({},i);return delete r.style,delete r.renderBuffer,delete r.updateWhileAnimating,delete r.updateWhileInteracting,(n=t.call(this,r)||this).declutter_=void 0!==i.declutter&&i.declutter,n.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(i.style),n.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,n.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,n}return hf(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(pf)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new qd(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(pf,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:uf,this.styleFunction_=null===t?void 0:function(t){var e,n;"function"==typeof t?e=t:(Array.isArray(t)?n=t:($n("function"==typeof t.getZIndex,41),n=[t]),e=function(){return n});return e}(this.style_),this.changed()},e}(Uo),ff={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},gf=[ff.FILL],mf=[ff.STROKE],yf=[ff.BEGIN_PATH],vf=[ff.CLOSE_PATH],_f=ff,xf=function(){function t(){}return t.prototype.drawCustom=function(t,e,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}(),wf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bf=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=n,o.pixelRatio=r,o.maxLineWidth=0,o.resolution=i,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return wf(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,r=this.coordinates,o=r.length,a=0,s=t.length;a<s;a+=e)i[0]=t[a],i[1]=t[a+1],qn(n,i)&&(r[o++]=i[0],r[o++]=i[1]);return o},e.prototype.appendFlatLineCoordinates=function(t,e,n,i,r,o){var a=this.coordinates,s=a.length,l=this.getBufferedMaxExtent();o&&(e+=i);var u,c,h,p=t[e],d=t[e+1],f=this.tmpCoordinate_,g=!0;for(u=e+i;u<n;u+=i)f[0]=t[u],f[1]=t[u+1],(h=ti(l,f))!==c?(g&&(a[s++]=p,a[s++]=d,g=!1),a[s++]=f[0],a[s++]=f[1]):1===h?(a[s++]=f[0],a[s++]=f[1],g=!1):g=!0,p=f[0],d=f[1],c=h;return(r&&g||u===e+i)&&(a[s++]=p,a[s++]=d),s},e.prototype.drawCustomCoordinates_=function(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o){var s=n[o],l=this.appendFlatLineCoordinates(t,e,s,i,!1,!1);r.push(l),e=s}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var i,r,o,a,s,l=t.getType(),u=t.getStride(),c=this.coordinates.length;if(l==Aa){i=t.getOrientedFlatCoordinates(),a=[];var h=t.getEndss();s=0;for(var p=0,d=h.length;p<d;++p){var f=[];s=this.drawCustomCoordinates_(i,s,h[p],u,f),a.push(f)}this.instructions.push([_f.CUSTOM,c,a,t,n,Rs])}else l==Ia||l==Fa?(o=[],i=l==Ia?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(i,0,t.getEnds(),u,o),this.instructions.push([_f.CUSTOM,c,o,t,n,Os])):l==ka||l==ja?(i=t.getFlatCoordinates(),r=this.appendFlatLineCoordinates(i,0,i.length,u,!1,!1),this.instructions.push([_f.CUSTOM,c,r,t,n,Ms])):l==La?(i=t.getFlatCoordinates(),(r=this.appendFlatPointCoordinates(i,u))>c&&this.instructions.push([_f.CUSTOM,c,r,t,n,Ms])):l==Pa&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),r=this.coordinates.length,this.instructions.push([_f.CUSTOM,c,r,t,n]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[_f.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[_f.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,r=e.length,o=-1;for(t=0;t<r;++t)(i=(n=e[t])[0])==_f.END_GEOMETRY?o=t:i==_f.BEGIN_GEOMETRY&&(n[2]=t,Ar(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=Qd(i||Sl)}else n.fillStyle=void 0;if(e){var r=e.getColor();n.strokeStyle=Qd(r||Ml);var o=e.getLineCap();n.lineCap=void 0!==o?o:Cl;var a=e.getLineDash();n.lineDash=a?a.slice():Tl;var s=e.getLineDashOffset();n.lineDashOffset=s||0;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:El;var u=e.getWidth();n.lineWidth=void 0!==u?u:1;var c=e.getMiterLimit();n.miterLimit=void 0!==c?c:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[_f.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[_f.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,r=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||r!=t.currentLineDash&&!Dr(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[_f.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Yn(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Xn(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(xf),Sf=bf,Cf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tf=function(t){function e(e,n,i,r){var o=t.call(this,e,n,i,r)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterImageWithText_=void 0,o}return Cf(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(n,i);this.instructions.push([_f.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([_f.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(n,i);this.instructions.push([_f.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([_f.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),r=t.getHitDetectionImage(),o=t.getImage(this.pixelRatio),a=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=r,this.image_=o,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=a[0]*this.imagePixelRatio_,this.originY_=a[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterImageWithText_=e},e}(Sf),Ef=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mf=function(t){function e(e,n,i,r){return t.call(this,e,n,i,r)||this}return Ef(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,i){var r=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,n,i,!1,!1),a=[_f.MOVE_TO_LINE_TO,r,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},e.prototype.drawLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([_f.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Tl,0],yf);var o=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push(mf),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([_f.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],yf);for(var o=t.getEnds(),a=t.getFlatCoordinates(),s=t.getStride(),l=0,u=0,c=o.length;u<c;++u)l=this.drawFlatCoordinates_(a,l,o[u],s);this.hitDetectionInstructions.push(mf),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(mf),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(mf),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(yf)},e}(Sf),Of=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Rf=function(t){function e(e,n,i,r){return t.call(this,e,n,i,r)||this}return Of(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,i){var r=this.state,o=void 0!==r.fillStyle,a=void 0!==r.strokeStyle,s=n.length;this.instructions.push(yf),this.hitDetectionInstructions.push(yf);for(var l=0;l<s;++l){var u=n[l],c=this.coordinates.length,h=this.appendFlatLineCoordinates(t,e,u,i,!0,!a),p=[_f.MOVE_TO_LINE_TO,c,h];this.instructions.push(p),this.hitDetectionInstructions.push(p),a&&(this.instructions.push(vf),this.hitDetectionInstructions.push(vf)),e=u}return o&&(this.instructions.push(gf),this.hitDetectionInstructions.push(gf)),a&&(this.instructions.push(mf),this.hitDetectionInstructions.push(mf)),e},e.prototype.drawCircle=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([_f.SET_FILL_STYLE,Sl]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([_f.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,a,!1,!1);var l=[_f.CIRCLE,s];this.instructions.push(yf,l),this.hitDetectionInstructions.push(yf,l),void 0!==n.fillStyle&&(this.instructions.push(gf),this.hitDetectionInstructions.push(gf)),void 0!==n.strokeStyle&&(this.instructions.push(mf),this.hitDetectionInstructions.push(mf)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([_f.SET_FILL_STYLE,Sl]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([_f.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getEnds(),a=t.getOrientedFlatCoordinates(),s=t.getStride();this.drawFlatCoordinatess_(a,0,o,s),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([_f.SET_FILL_STYLE,Sl]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([_f.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var o=t.getEndss(),a=t.getOrientedFlatCoordinates(),s=t.getStride(),l=0,u=0,c=o.length;u<c;++u)l=this.drawFlatCoordinatess_(a,l,o[u],s);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,i=0,r=n.length;i<r;++i)n[i]=Cs(n[i],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(Sf),Pf=Rf;function kf(t,e,n,i,r){var o,a,s,l,u,c,h,p,d,f=n,g=n,m=0,y=0,v=n;for(o=n;o<i;o+=r){var _=e[o],x=e[o+1];void 0!==l&&(p=_-l,d=x-u,s=Math.sqrt(p*p+d*d),void 0!==c&&(y+=a,Math.acos((c*p+h*d)/(a*s))>t&&(y>m&&(m=y,f=v,g=o),y=0,v=o-r)),a=s,c=p,h=d),l=_,u=x}return(y+=s)>m?[v,o]:[f,g]}var If=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Lf={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Ff=function(t){function e(e,n,i,r){var o=t.call(this,e,n,i,r)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return If(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textFillState_,i=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(n||i)){var o=this.coordinates,a=o.length,s=t.getType(),l=null,u=t.getStride();if("line"!==r.placement||s!=ka&&s!=Fa&&s!=Ia&&s!=Aa){var c=r.overflow?null:[];switch(s){case Pa:case La:l=t.getFlatCoordinates();break;case ka:l=t.getFlatMidpoint();break;case ja:l=t.getCenter();break;case Fa:l=t.getFlatMidpoints(),u=2;break;case Ia:l=t.getFlatInteriorPoint(),r.overflow||c.push(l[2]/this.resolution),u=3;break;case Aa:var h=t.getFlatInteriorPoints();for(l=[],b=0,S=h.length;b<S;b+=3)r.overflow||c.push(h[b+2]/this.resolution),l.push(h[b],h[b+1]);if(0===l.length)return;u=2}if((P=this.appendFlatPointCoordinates(l,u))===a)return;if(c&&(P-a)/2!=l.length/u){var p=a/2;c=c.filter((function(t,e){var n=o[2*(p+e)]===l[e*u]&&o[2*(p+e)+1]===l[e*u+1];return n||--p,n}))}this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var d=r.padding;if(d!=Pl&&(r.scale[0]<0||r.scale[1]<0)){var f=r.padding[0],g=r.padding[1],m=r.padding[2],y=r.padding[3];r.scale[0]<0&&(g=-g,y=-y),r.scale[1]<0&&(f=-f,m=-m),d=[f,g,m,y]}var v=this.pixelRatio;this.instructions.push([_f.DRAW_IMAGE,a,P,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,d==Pl?Pl:d.map((function(t){return t*v})),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]);var _=1/v;this.hitDetectionInstructions.push([_f.DRAW_IMAGE,a,P,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[_,_],NaN,this.declutterImageWithText_,d,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]),this.endGeometry(e)}else{if(!wi(this.getBufferedMaxExtent(),t.getExtent()))return;var x=void 0;if(l=t.getFlatCoordinates(),s==ka)x=[l.length];else if(s==Fa)x=t.getEnds();else if(s==Ia)x=t.getEnds().slice(0,1);else if(s==Aa){var w=t.getEndss();x=[];for(var b=0,S=w.length;b<S;++b)x.push(w[b][0])}this.beginGeometry(t,e);for(var C=r.textAlign,T=0,E=void 0,M=0,O=x.length;M<O;++M){if(null==C){var R=kf(r.maxAngle,l,T,x[M],u);T=R[0],E=R[1]}else E=x[M];for(b=T;b<E;b+=u)o.push(l[b],l[b+1]);var P=o.length;T=x[M],this.drawChars_(a,P),a=P}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var r=this.textKey_;r in this.textStates||(this.textStates[r]={font:e.font,textAlign:e.textAlign||Ol,textBaseline:e.textBaseline||Rl,scale:e.scale});var o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e){var n=this.textStrokeState_,i=this.textState_,r=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();var s=this.pixelRatio,l=Lf[i.textBaseline],u=this.textOffsetY_*s,c=this.text_,h=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([_f.DRAW_CHARS,t,e,l,i.overflow,a,i.maxAngle,s,u,r,h*s,c,o,1]),this.hitDetectionInstructions.push([_f.DRAW_CHARS,t,e,l,i.overflow,a,i.maxAngle,1,u,r,h,c,o,1/s])},e.prototype.setTextStyle=function(t,e){var n,i,r;if(t){var o=t.getFill();o?((i=this.textFillState_)||(i={},this.textFillState_=i),i.fillStyle=Qd(o.getColor()||Sl)):(i=null,this.textFillState_=i);var a=t.getStroke();if(a){(r=this.textStrokeState_)||(r={},this.textStrokeState_=r);var s=a.getLineDash(),l=a.getLineDashOffset(),u=a.getWidth(),c=a.getMiterLimit();r.lineCap=a.getLineCap()||Cl,r.lineDash=s?s.slice():Tl,r.lineDashOffset=void 0===l?0:l,r.lineJoin=a.getLineJoin()||El,r.lineWidth=void 0===u?1:u,r.miterLimit=void 0===c?10:c,r.strokeStyle=Qd(a.getColor()||Ml)}else r=null,this.textStrokeState_=r;n=this.textState_;var h=t.getFont()||bl;Zl(h);var p=t.getScaleArray();n.overflow=t.getOverflow(),n.font=h,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||Rl,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||Pl,n.scale=void 0===p?[1,1]:p;var d=t.getOffsetX(),f=t.getOffsetY(),g=t.getRotateWithView(),m=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===f?0:f,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===m?0:m,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:Gn(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+Gn(i.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(Sf),Af={Circle:Pf,Default:Sf,Image:Tf,LineString:Mf,Polygon:Pf,Text:Ff},Zf=function(){function t(t,e,n,i){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var i in n){var r=n[i].finish();t[e][i]=r}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(i={},this.buildersByZIndex_[n]=i);var r=i[e];return void 0===r&&(r=new(0,Af[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=r),r},t}(),jf="Circle",Df="Default",zf="Image",Wf="LineString",Nf="Polygon",Gf="Text";function Vf(t,e,n,i,r,o,a,s,l,u,c,h){var p=t[e],d=t[e+1],f=0,g=0,m=0,y=0;function v(){f=p,g=d,p=t[e+=i],d=t[e+1],y+=m,m=Math.sqrt((p-f)*(p-f)+(d-g)*(d-g))}do{v()}while(e<n-i&&y+m<o);for(var _=(o-y)/m,x=ji(f,p,_),w=ji(g,d,_),b=e-i,S=y,C=o+s*l(u,r,c);e<n-i&&y+m<C;)v();var T,E=ji(f,p,_=(C-y)/m),M=ji(g,d,_);if(h){var O=[x,w,E,M];ss(O,0,4,2,h,O,O),T=O[0]>O[2]}else T=x>E;var R,P=Math.PI,k=[],I=b+i===e;if(m=0,y=S,p=t[e=b],d=t[e+1],I){v();var L=Math.atan2(d-g,p-f);T&&(L+=L>0?-P:P);var F=(E+x)/2,A=(M+w)/2;return k[0]=[F,A,(C-o)/2,L,r],k}for(var Z=0,j=r.length;Z<j;){v();var D=Math.atan2(d-g,p-f);if(T&&(D+=D>0?-P:P),void 0!==R){var z=D-R;if(z+=z>P?-2*P:z<-P?2*P:0,Math.abs(z)>a)return null}R=D;for(var W=Z,N=0;Z<j;++Z){var G=s*l(u,r[T?j-Z-1:Z],c);if(e+i<n&&y+m<o+N+G/2)break;N+=G}if(Z!==W){var V=T?r.substring(j-W,j-Z):r.substring(W,Z);F=ji(f,p,_=(o+N/2-y)/m),A=ji(g,d,_),k.push([F,A,N/2,D,V]),o+=N}}return k}var Bf=[1/0,1/0,-1/0,-1/0],Hf=[],$f=[],Kf=[],Xf=[];function Yf(t){return t[3].declutterBox}var Uf=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function qf(t,e){return"start"!==e&&"end"!==e||Uf.test(t)||(e="start"===e?"left":"right"),Lf[e]}var Jf=function(){function t(t,e,n,i){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,n,i){var r=t+e+n+i;if(this.labels_[r])return this.labels_[r];var o=i?this.strokeStates[i]:null,a=n?this.fillStates[n]:null,s=this.textStates[e],l=this.pixelRatio,u=[s.scale[0]*l,s.scale[1]*l],c=qf(t,s.textAlign||Ol),h=i&&o.lineWidth?o.lineWidth:0,p=t.split("\n"),d=p.length,f=[],g=function(t,e,n){for(var i=e.length,r=0,o=0;o<i;++o){var a=Dl(t,e[o]);r=Math.max(r,a),n.push(a)}return r}(s.font,p,f),m=function(t){var e=Al[t];if(null==e){if(xo){var n=Io(t),i=jl(t,"g");e=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else Ll||((Ll=document.createElement("div")).innerHTML="M",Ll.style.minHeight="0",Ll.style.maxHeight="none",Ll.style.height="auto",Ll.style.padding="0",Ll.style.border="none",Ll.style.position="absolute",Ll.style.display="block",Ll.style.left="-99999px"),Ll.style.font=t,document.body.appendChild(Ll),e=Ll.offsetHeight,document.body.removeChild(Ll);Al[t]=e}return e}(s.font),y=g+h,v=[],_=(y+2)*u[0],x=(m*d+h)*u[1],w={width:_<0?Math.floor(_):Math.ceil(_),height:x<0?Math.floor(x):Math.ceil(x),contextInstructions:v};1==u[0]&&1==u[1]||v.push("scale",u),v.push("font",s.font),i&&(v.push("strokeStyle",o.strokeStyle),v.push("lineWidth",h),v.push("lineCap",o.lineCap),v.push("lineJoin",o.lineJoin),v.push("miterLimit",o.miterLimit),(xo?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(v.push("setLineDash",[o.lineDash]),v.push("lineDashOffset",o.lineDashOffset))),n&&v.push("fillStyle",a.fillStyle),v.push("textBaseline","middle"),v.push("textAlign","center");var b,S=.5-c,C=c*y+S*h;if(i)for(b=0;b<d;++b)v.push("strokeText",[p[b],C+S*f[b],.5*(h+m)+b*m]);if(n)for(b=0;b<d;++b)v.push("fillText",[p[b],C+S*f[b],.5*(h+m)+b*m]);return this.labels_[r]=w,w},t.prototype.replayTextBackground_=function(t,e,n,i,r,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,n,i,r,o,a,s,l,u,c,h,p,d,f,g){var m,y=n-(a*=h[0]),v=i-(s*=h[1]),_=r+l>t?t-l:r,x=o+u>e?e-u:o,w=d[3]+_*h[0]+d[1],b=d[0]+x*h[1]+d[2],S=y-d[3],C=v-d[0];return(f||0!==c)&&(Hf[0]=S,Xf[0]=S,Hf[1]=C,$f[1]=C,$f[0]=S+w,Kf[0]=$f[0],Kf[1]=C+b,Xf[1]=Kf[1]),0!==c?(ns(m=rs([1,0,0,1,0,0],n,i,1,1,c,-n,-i),Hf),ns(m,$f),ns(m,Kf),ns(m,Xf),ei(Math.min(Hf[0],$f[0],Kf[0],Xf[0]),Math.min(Hf[1],$f[1],Kf[1],Xf[1]),Math.max(Hf[0],$f[0],Kf[0],Xf[0]),Math.max(Hf[1],$f[1],Kf[1],Xf[1]),Bf)):ei(Math.min(S,S+w),Math.min(C,C+b),Math.max(S,S+w),Math.max(C,C+b),Bf),p&&(y=Math.round(y),v=Math.round(v)),{drawImageX:y,drawImageY:v,drawImageW:_,drawImageH:x,originX:l,originY:u,declutterBox:{minX:Bf[0],minY:Bf[1],maxX:Bf[2],maxY:Bf[3],value:g},canvasTransform:m,scale:h}},t.prototype.replayImageOrLabel_=function(t,e,n,i,r,o,a){var s=!(!o&&!a),l=i.declutterBox,u=t.canvas,c=a?a[2]*i.scale[0]/2:0;return l.minX-c<=u.width/e&&l.maxX+c>=0&&l.minY-c<=u.height/e&&l.maxY+c>=0&&(s&&this.replayTextBackground_(t,Hf,$f,Kf,Xf,o,a),function(t,e,n,i,r,o,a,s,l,u,c){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),i.contextInstructions?(t.translate(l,u),t.scale(c[0],c[1]),function(t,e){for(var n=t.contextInstructions,i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?e[n[i]].apply(e,n[i+1]):e[n[i]]=n[i+1]}(i,t)):c[0]<0||c[1]<0?(t.translate(l,u),t.scale(c[0],c[1]),t.drawImage(i,r,o,a,s,0,0,a,s)):t.drawImage(i,r,o,a,s,l,u,a*c[0],s*c[1]),t.restore()}(t,i.canvasTransform,r,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=ns(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,n,i){var r=this.textStates[e],o=this.createLabel(t,e,i,n),a=this.strokeStates[n],s=this.pixelRatio,l=qf(t,r.textAlign||Ol),u=Lf[r.textBaseline||Rl],c=a&&a.lineWidth?a.lineWidth:0;return{label:o,anchorX:l*(o.width/s-2*r.scale[0])+2*(.5-l)*c,anchorY:u*o.height/s+2*(.5-u)*c}},t.prototype.execute_=function(t,e,n,i,r,o,a,s){var l,u,c;this.pixelCoordinates_&&Dr(n,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=as(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),c=n,(u=this.renderedTransform_)[0]=c[0],u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5]);for(var h,p,d,f,g,m,y,v,_,x,w,b,S,C,T,E,M=0,O=i.length,R=0,P=0,k=0,I=null,L=null,F=this.coordinateCache_,A=this.viewRotation_,Z=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,j={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:A},D=this.instructions!=i||this.overlaps?0:200;M<O;){var z=i[M];switch(z[0]){case _f.BEGIN_GEOMETRY:S=z[1],E=z[3],S.getGeometry()?void 0===a||wi(a,E.getExtent())?++M:M=z[2]+1:M=z[2];break;case _f.BEGIN_PATH:P>D&&(this.fill_(t),P=0),k>D&&(t.stroke(),k=0),P||k||(t.beginPath(),f=NaN,g=NaN),++M;break;case _f.CIRCLE:var W=l[R=z[1]],N=l[R+1],G=l[R+2]-W,V=l[R+3]-N,B=Math.sqrt(G*G+V*V);t.moveTo(W+B,N),t.arc(W,N,B,0,2*Math.PI,!0),++M;break;case _f.CLOSE_PATH:t.closePath(),++M;break;case _f.CUSTOM:R=z[1],h=z[2];var H=z[3],$=z[4],K=6==z.length?z[5]:void 0;j.geometry=H,j.feature=S,M in F||(F[M]=[]);var X=F[M];K?K(l,R,h,2,X):(X[0]=l[R],X[1]=l[R+1],X.length=2),$(X,j),++M;break;case _f.DRAW_IMAGE:R=z[1],h=z[2],v=z[3],p=z[4],d=z[5];var Y=z[6],U=z[7],q=z[8],J=z[9],Q=z[10],tt=z[11],et=z[12],nt=z[13],it=z[14];if(!v&&z.length>=19){_=z[18],x=z[19],w=z[20],b=z[21];var rt=this.drawLabelWithPointPlacement_(_,x,w,b);v=rt.label,z[3]=v;var ot=z[22];p=(rt.anchorX-ot)*this.pixelRatio,z[4]=p;var at=z[23];d=(rt.anchorY-at)*this.pixelRatio,z[5]=d,Y=v.height,z[6]=Y,nt=v.width,z[13]=nt}var st=void 0;z.length>24&&(st=z[24]);var lt=void 0,ut=void 0,ct=void 0;z.length>16?(lt=z[15],ut=z[16],ct=z[17]):(lt=Pl,ut=!1,ct=!1),Q&&Z?tt+=A:Q||Z||(tt-=A);for(var ht=0;R<h;R+=2)if(!(st&&st[ht++]<nt/this.pixelRatio)){var pt=[t,e,v,zt=this.calculateImageOrLabelDimensions_(v.width,v.height,l[R],l[R+1],nt,Y,p,d,q,J,tt,et,r,lt,ut||ct,S),U,ut?I:null,ct?L:null],dt=void 0,ft=void 0;if(s&&it){var gt=h-R;if(!it[gt]){it[gt]=pt;continue}if(dt=it[gt],delete it[gt],ft=Yf(dt),s.collides(ft))continue}s&&s.collides(zt.declutterBox)||(dt&&(s&&s.insert(ft),this.replayImageOrLabel_.apply(this,dt)),s&&s.insert(zt.declutterBox),this.replayImageOrLabel_.apply(this,pt))}++M;break;case _f.DRAW_CHARS:var mt=z[1],yt=z[2],vt=z[3],_t=z[4];b=z[5];var xt=z[6],wt=z[7],bt=z[8];w=z[9];var St=z[10];_=z[11],x=z[12];var Ct=[z[13],z[13]],Tt=this.textStates[x],Et=Tt.font,Mt=[Tt.scale[0]*wt,Tt.scale[1]*wt],Ot=void 0;Et in this.widths_?Ot=this.widths_[Et]:(Ot={},this.widths_[Et]=Ot);var Rt=Ip(l,mt,yt,2),Pt=Math.abs(Mt[0])*zl(Et,_,Ot);if(_t||Pt<=Rt){var kt=this.textStates[x].textAlign,It=Vf(l,mt,yt,2,_,(Rt-Pt)*Lf[kt],xt,Math.abs(Mt[0]),zl,Et,Ot,Z?0:this.viewRotation_);t:if(It){var Lt=[],Ft=void 0,At=void 0,Zt=void 0,jt=void 0,Dt=void 0;if(w)for(Ft=0,At=It.length;Ft<At;++Ft){Zt=(Dt=It[Ft])[4],jt=this.createLabel(Zt,x,"",w),p=Dt[2]+(Mt[0]<0?-St:St),d=vt*jt.height+2*(.5-vt)*St*Mt[1]/Mt[0]-bt;var zt=this.calculateImageOrLabelDimensions_(jt.width,jt.height,Dt[0],Dt[1],jt.width,jt.height,p,d,0,0,Dt[3],Ct,!1,Pl,!1,S);if(s&&s.collides(zt.declutterBox))break t;Lt.push([t,e,jt,zt,1,null,null])}if(b)for(Ft=0,At=It.length;Ft<At;++Ft){if(Zt=(Dt=It[Ft])[4],jt=this.createLabel(Zt,x,b,""),p=Dt[2],d=vt*jt.height-bt,zt=this.calculateImageOrLabelDimensions_(jt.width,jt.height,Dt[0],Dt[1],jt.width,jt.height,p,d,0,0,Dt[3],Ct,!1,Pl,!1,S),s&&s.collides(zt.declutterBox))break t;Lt.push([t,e,jt,zt,1,null,null])}s&&s.load(Lt.map(Yf));for(var Wt=0,Nt=Lt.length;Wt<Nt;++Wt)this.replayImageOrLabel_.apply(this,Lt[Wt])}}++M;break;case _f.END_GEOMETRY:if(void 0!==o){var Gt=o(S=z[1],E);if(Gt)return Gt}++M;break;case _f.FILL:D?P++:this.fill_(t),++M;break;case _f.MOVE_TO_LINE_TO:for(R=z[1],h=z[2],C=l[R],y=(T=l[R+1])+.5|0,(m=C+.5|0)===f&&y===g||(t.moveTo(C,T),f=m,g=y),R+=2;R<h;R+=2)m=(C=l[R])+.5|0,y=(T=l[R+1])+.5|0,R!=h-2&&m===f&&y===g||(t.lineTo(C,T),f=m,g=y);++M;break;case _f.SET_FILL_STYLE:I=z,this.alignFill_=z[2],P&&(this.fill_(t),P=0,k&&(t.stroke(),k=0)),t.fillStyle=z[1],++M;break;case _f.SET_STROKE_STYLE:L=z,k&&(t.stroke(),k=0),this.setStrokeStyle_(t,z),++M;break;case _f.STROKE:D?k++:t.stroke(),++M;break;default:++M}}P&&this.fill_(t),k&&t.stroke()},t.prototype.execute=function(t,e,n,i,r,o){this.viewRotation_=i,this.execute_(t,e,n,this.instructions,r,void 0,void 0,o)},t.prototype.executeHitDetection=function(t,e,n,i,r){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,i,r)},t}(),Qf=Jf,tg=[Nf,jf,Wf,zf,Gf,Df],eg=function(){function t(t,e,n,i,r,o){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(r)}return t.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);var i=t[e];for(var r in i){var o=i[r];n[r]=new Qf(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],i=0,r=t.length;i<r;++i)if(t[i]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o){var a=2*(i=Math.round(i))+1,s=rs(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=So(a,a));var u,c=this.hitDetectionContext_;c.canvas.width!==a||c.canvas.height!==a?(c.canvas.width=a,c.canvas.height=a):l||c.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(ai(u=[1/0,1/0,-1/0,-1/0],t),Xn(u,e*(this.renderBuffer_+i),u));var h,p=function(t){if(void 0!==ng[t])return ng[t];for(var e=2*t+1,n=t*t,i=new Array(n+1),r=0;r<=t;++r)for(var o=0;o<=t;++o){var a=r*r+o*o;if(a>n)break;var s=i[a];s||(s=[],i[a]=s),s.push(4*((t+r)*e+(t+o))+3),r>0&&s.push(4*((t-r)*e+(t+o))+3),o>0&&(s.push(4*((t+r)*e+(t-o))+3),r>0&&s.push(4*((t-r)*e+(t-o))+3))}for(var l=[],u=(r=0,i.length);r<u;++r)i[r]&&l.push.apply(l,i[r]);return ng[t]=l,l}(i);function d(t,e){for(var n=c.getImageData(0,0,a,a).data,s=0,l=p.length;s<l;s++)if(n[p[s]]>0){if(!o||h!==zf&&h!==Gf||-1!==o.indexOf(t)){var u=(p[s]-3)/4,d=i-u%a,f=i-(u/a|0),g=r(t,e,d*d+f*f);if(g)return g}c.clearRect(0,0,a,a);break}}var f,g,m,y,v,_=Object.keys(this.executorsByZIndex_).map(Number);for(_.sort(Lr),f=_.length-1;f>=0;--f){var x=_[f].toString();for(m=this.executorsByZIndex_[x],g=tg.length-1;g>=0;--g)if(void 0!==(y=m[h=tg[g]])&&(v=y.executeHitDetection(c,s,n,d,u)))return v}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],i=e[1],r=e[2],o=e[3],a=[n,i,n,o,r,o,r,i];return as(a,0,8,2,t,a),a},t.prototype.isEmpty=function(){return $r(this.executorsByZIndex_)},t.prototype.execute=function(t,e,n,i,r,o,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(Lr),this.maxExtent_&&(t.save(),this.clip(t,n));var l,u,c,h,p,d,f=o||tg;for(a&&s.reverse(),l=0,u=s.length;l<u;++l){var g=s[l].toString();for(p=this.executorsByZIndex_[g],c=0,h=f.length;c<h;++c)void 0!==(d=p[f[c]])&&d.execute(t,e,n,i,r,a)}this.maxExtent_&&t.restore()},t}(),ng={},ig=eg,rg="hybrid",og="vector",ag=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sg=function(t){function e(e,n,i,r,o,a,s){var l=t.call(this)||this;return l.context_=e,l.pixelRatio_=n,l.extent_=i,l.transform_=r,l.viewRotation_=o,l.squaredTolerance_=a,l.userTransform_=s,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=[0,0],l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=[0,0],l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=[1,0,0,1,0,0],l}return ag(e,t),e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var r=as(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var u=0,c=r.length;u<c;u+=2){var h=r[u]-this.imageAnchorX_,p=r[u+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var d=h+this.imageAnchorX_,f=p+this.imageAnchorY_;rs(a,d,f,1,1,l,-d,-f),o.setTransform.apply(o,a),o.translate(d,f),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,p,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=as(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=i){var s=r[e]+this.textOffsetX_,l=r[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]){var u=rs(this.tmpLocalTransform_,s,l,1,1,a,-s,-l);o.setTransform.apply(o,u),o.translate(s,l),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&o.strokeText(this.text_,s,l),this.textFillState_&&o.fillText(this.text_,s,l)}}},e.prototype.moveToLineTo_=function(t,e,n,i,r){var o=this.context_,a=as(t,e,n,i,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;r&&(s-=2);for(var l=2;l<s;l+=2)o.lineTo(a[l],a[l+1]);return r&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var r=0,o=n.length;r<o;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e},e.prototype.drawCircle=function(t){if(wi(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var i=t.getFlatCoordinates();if(i){var r=t.getStride();return as(i,0,i.length,r,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),o=this.context_;o.beginPath(),o.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case Pa:this.drawPoint(t);break;case ka:this.drawLineString(t);break;case Ia:this.drawPolygon(t);break;case La:this.drawMultiPoint(t);break;case Fa:this.drawMultiLineString(t);break;case Aa:this.drawMultiPolygon(t);break;case Za:this.drawGeometryCollection(t);break;case ja:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&wi(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),wi(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(wi(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),r=0,o=t.getEnds(),a=t.getStride();n.beginPath();for(var s=0,l=o.length;s<l;++s)r=this.moveToLineTo_(i,r,o[s],a,!1);n.stroke()}if(""!==this.text_){var u=t.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),wi(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),wi(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,r=t.getEndss(),o=t.getStride();e.beginPath();for(var a=0,s=r.length;a<s;++a){var l=r[a];i=this.drawRings_(n,i,l,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Dr(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:Ol;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=i&&(n.textAlign=i,e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){var n=this;if(t){var i=t.getColor();this.fillState_={fillStyle:Qd(i||Sl)}}else this.fillState_=null;if(e){var r=e.getColor(),o=e.getLineCap(),a=e.getLineDash(),s=e.getLineDashOffset(),l=e.getLineJoin(),u=e.getWidth(),c=e.getMiterLimit(),h=a||Tl;this.strokeState_={lineCap:void 0!==o?o:Cl,lineDash:1===this.pixelRatio_?h:h.map((function(t){return t*n.pixelRatio_})),lineDashOffset:(s||0)*this.pixelRatio_,lineJoin:void 0!==l?l:El,lineWidth:(void 0!==u?u:1)*this.pixelRatio_,miterLimit:void 0!==c?c:10,strokeStyle:Qd(r||Ml)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){var e;if(t&&(e=t.getSize())){var n=t.getAnchor(),i=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*this.pixelRatio_,this.imageAnchorY_=n[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:Qd(n||Sl)}}else this.textFillState_=null;var i=t.getStroke();if(i){var r=i.getColor(),o=i.getLineCap(),a=i.getLineDash(),s=i.getLineDashOffset(),l=i.getLineJoin(),u=i.getWidth(),c=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:Cl,lineDash:a||Tl,lineDashOffset:s||0,lineJoin:void 0!==l?l:El,lineWidth:void 0!==u?u:1,miterLimit:void 0!==c?c:10,strokeStyle:Qd(r||Ml)}}else this.textStrokeState_=null;var h=t.getFont(),p=t.getOffsetX(),d=t.getOffsetY(),f=t.getRotateWithView(),g=t.getRotation(),m=t.getScaleArray(),y=t.getText(),v=t.getTextAlign(),_=t.getTextBaseline();this.textState_={font:void 0!==h?h:bl,textAlign:void 0!==v?v:Ol,textBaseline:void 0!==_?_:Rl},this.text_=void 0!==y?y:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==d?this.pixelRatio_*d:0,this.textRotateWithView_=void 0!==f&&f,this.textRotation_=void 0!==g?g:0,this.textScale_=[this.pixelRatio_*m[0],this.pixelRatio_*m[1]]}else this.text_=""},e}(xf),lg=sg,ug="fraction",cg="pixels",hg="bottom-left",pg="bottom-right",dg="top-left",fg="top-right",gg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mg=null,yg=function(t){function e(e,n,i,r,o,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==r&&(s.image_.crossOrigin=r),s.canvas_={},s.color_=a,s.unlisten_=null,s.imageState_=o,s.size_=i,s.src_=n,s.tainted_,s}return gg(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&2===this.imageState_){mg||(mg=So(1,1)),mg.drawImage(this.image_,0,0);try{mg.getImageData(0,0,1,1),this.tainted_=!1}catch(t){mg=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Yr)},e.prototype.handleImageError_=function(){this.imageState_=3,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=2,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],n=So(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(0==this.imageState_){this.imageState_=1;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Ch(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var n=e.getContext("2d");if(n.scale(t,t),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply","multiply"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=ul(this.color_),n.fillRect(0,0,e.width/t,e.height/t),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var i=n.getImageData(0,0,e.width,e.height),r=i.data,o=this.color_[0]/255,a=this.color_[1]/255,s=this.color_[2]/255,l=this.color_[3],u=0,c=r.length;u<c;u+=4)r[u]*=o,r[u+1]*=a,r[u+2]*=s,r[u+3]*=l;n.putImageData(i,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(Xr),vg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_g=function(t){function e(e){var n=this,i=e||{},r=void 0!==i.opacity?i.opacity:1,o=void 0!==i.rotation?i.rotation:0,a=void 0!==i.scale?i.scale:1,s=void 0!==i.rotateWithView&&i.rotateWithView;(n=t.call(this,{opacity:r,rotation:o,scale:a,displacement:void 0!==i.displacement?i.displacement:[0,0],rotateWithView:s})||this).anchor_=void 0!==i.anchor?i.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:dg,n.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:ug,n.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:ug,n.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var l=void 0!==i.img?i.img:null,u=void 0!==i.imgSize?i.imgSize:null,c=i.src;$n(!(void 0!==c&&l),4),$n(!l||l&&u,5),void 0!==c&&0!==c.length||!l||(c=l.src||Gn(l)),$n(void 0!==c&&c.length>0,6);var h=void 0!==i.src?0:2;return n.color_=void 0!==i.color?hl(i.color):null,n.iconImage_=function(t,e,n,i,r,o){var a=gl.get(e,i,o);return a||(a=new yg(t,e,n,i,r,o),gl.set(e,i,o,a)),a}(l,c,u,n.crossOrigin_,h,n.color_),n.offset_=void 0!==i.offset?i.offset:[0,0],n.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:dg,n.origin_=null,n.size_=void 0!==i.size?i.size:null,n}return vg(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==ug||this.anchorYUnits_==ug){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==ug&&(t[0]*=e[0]),this.anchorYUnits_==ug&&(t[1]*=e[1])}if(this.anchorOrigin_!=dg){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=fg&&this.anchorOrigin_!=pg||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=hg&&this.anchorOrigin_!=pg||(t[1]=-t[1]+e[1])}var n=this.getDisplacement();return t[0]-=n[0],t[1]+=n[1],this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=dg){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=fg&&this.offsetOrigin_!=pg||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=hg&&this.offsetOrigin_!=pg||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(Yr,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(Yr,t)},e}(Jd),xg=.5,wg={Point:function(t,e,n,i,r){var o,a=n.getImage(),s=n.getText();if(r&&(t=r,o=a&&s&&s.getText()?{}:void 0),a){if(2!=a.getImageState())return;var l=t.getBuilder(n.getZIndex(),zf);l.setImageStyle(a,o),l.drawPoint(e,i)}if(s&&s.getText()){var u=t.getBuilder(n.getZIndex(),Gf);u.setTextStyle(s,o),u.drawText(e,i)}},LineString:function(t,e,n,i,r){var o=n.getStroke();if(o){var a=t.getBuilder(n.getZIndex(),Wf);a.setFillStrokeStyle(null,o),a.drawLineString(e,i)}var s=n.getText();if(s&&s.getText()){var l=(r||t).getBuilder(n.getZIndex(),Gf);l.setTextStyle(s),l.drawText(e,i)}},Polygon:function(t,e,n,i,r){var o=n.getFill(),a=n.getStroke();if(o||a){var s=t.getBuilder(n.getZIndex(),Nf);s.setFillStrokeStyle(o,a),s.drawPolygon(e,i)}var l=n.getText();if(l&&l.getText()){var u=(r||t).getBuilder(n.getZIndex(),Gf);u.setTextStyle(l),u.drawText(e,i)}},MultiPoint:function(t,e,n,i,r){var o,a=n.getImage(),s=n.getText();if(r&&(t=r,o=a&&s&&s.getText()?{}:void 0),a){if(2!=a.getImageState())return;var l=t.getBuilder(n.getZIndex(),zf);l.setImageStyle(a,o),l.drawMultiPoint(e,i)}if(s&&s.getText()){var u=(r||t).getBuilder(n.getZIndex(),Gf);u.setTextStyle(s,o),u.drawText(e,i)}},MultiLineString:function(t,e,n,i,r){var o=n.getStroke();if(o){var a=t.getBuilder(n.getZIndex(),Wf);a.setFillStrokeStyle(null,o),a.drawMultiLineString(e,i)}var s=n.getText();if(s&&s.getText()){var l=(r||t).getBuilder(n.getZIndex(),Gf);l.setTextStyle(s),l.drawText(e,i)}},MultiPolygon:function(t,e,n,i,r){var o=n.getFill(),a=n.getStroke();if(a||o){var s=t.getBuilder(n.getZIndex(),Nf);s.setFillStrokeStyle(o,a),s.drawMultiPolygon(e,i)}var l=n.getText();if(l&&l.getText()){var u=(r||t).getBuilder(n.getZIndex(),Gf);u.setTextStyle(l),u.drawText(e,i)}},GeometryCollection:function(t,e,n,i,r){var o,a,s=e.getGeometriesArray();for(o=0,a=s.length;o<a;++o)(0,wg[s[o].getType()])(t,s[o],n,i,r)},Circle:function(t,e,n,i,r){var o=n.getFill(),a=n.getStroke();if(o||a){var s=t.getBuilder(n.getZIndex(),jf);s.setFillStrokeStyle(o,a),s.drawCircle(e,i)}var l=n.getText();if(l&&l.getText()){var u=(r||t).getBuilder(n.getZIndex(),Gf);u.setTextStyle(l),u.drawText(e,i)}}};function bg(t,e,n,i,r,o,a){var s=!1,l=n.getImage();if(l){var u=l.getImageState();2==u||3==u?l.unlistenImageChange(r):(0==u&&l.load(),u=l.getImageState(),l.listenImageChange(r),s=!0)}return function(t,e,n,i,r,o){var a=n.getGeometryFunction()(e);if(a){var s=a.simplifyTransformed(i,r);n.getRenderer()?Sg(t,s,n,e):(0,wg[s.getType()])(t,s,n,e,o)}}(t,e,n,i,o,a),s}function Sg(t,e,n,i){if(e.getType()!=Za)t.getBuilder(n.getZIndex(),Df).drawCustom(e,i,n.getRenderer());else for(var r=e.getGeometries(),o=0,a=r.length;o<a;++o)Sg(t,r[o],n,i)}var Cg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tg={image:[Nf,jf,Wf,zf,Gf],hybrid:[Nf,Wf],vector:[]},Eg={hybrid:[zf,Gf,Df],vector:[Nf,jf,Wf,zf,Gf,Df]},Mg=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.dirty_=!1,n.renderedLayerRevision_,n.renderedPixelToCoordinateTransform_=null,n.renderedRotation_,n.renderTileImageQueue_={},n.tileListenerKeys_={},n.tmpTransform_=[1,0,0,1,0,0],n}return Cg(e,t),e.prototype.prepareTile=function(t,e,n,i){var r,o=Gn(t),a=t.getState();return 2!==a&&3!==a||!(o in this.tileListenerKeys_)||(oo(this.tileListenerKeys_[o]),delete this.tileListenerKeys_[o]),2!==a&&3!==a||(this.updateExecutorGroup_(t,e,n),this.tileImageNeedsRender_(t)&&(r=!0,i&&(this.renderTileImageQueue_[o]=t))),r},e.prototype.getTile=function(e,n,i,r){var o=r.pixelRatio,a=r.viewState,s=a.resolution,l=a.projection,u=this.getLayer(),c=u.getSource().getTile(e,n,i,o,l);if(c.getState()<2){c.wantedResolution=s;var h=Gn(c);if(!(h in this.tileListenerKeys_)){var p=io(c,Yr,this.prepareTile.bind(this,c,o,l,!0));this.tileListenerKeys_[h]=p}}else{var d=r.viewHints;!(!d[0]&&!d[1])&&c.wantedResolution||(c.wantedResolution=s),this.prepareTile(c,o,l,!1)&&u.getRenderMode()!==og&&this.renderTileImage_(c,r)}return t.prototype.getTile.call(this,e,n,i,r)},e.prototype.isDrawableTile=function(e){var n=this.getLayer();return t.prototype.isDrawableTile.call(this,e)&&(n.getRenderMode()===og?Gn(n)in e.executorGroups:e.hasContext(n))},e.prototype.getTileImage=function(t){return t.getImage(this.getLayer())},e.prototype.prepareFrame=function(e){var n=this.getLayer().getRevision();return this.renderedLayerRevision_!=n&&(this.renderedTiles.length=0),this.renderedLayerRevision_=n,t.prototype.prepareFrame.call(this,e)},e.prototype.updateExecutorGroup_=function(t,e,n){var i=this.getLayer(),r=i.getRevision(),o=i.getRenderOrder()||null,a=t.wantedResolution,s=t.getReplayState(i);if(s.dirty||s.renderedResolution!==a||s.renderedRevision!=r||s.renderedRenderOrder!=o){var l=i.getSource(),u=i.getDeclutter(),c=l.getTileGrid(),h=l.getTileGridForProjection(n).getTileCoordExtent(t.wrappedTileCoord),p=l.getSourceTiles(e,n,t),d=Gn(i);delete t.hitDetectionImageData[d],t.executorGroups[d]=[],u&&(t.declutterExecutorGroups[d]=[]);for(var f=function(n,r){var f=p[n];if(2!=f.getState())return"continue";var m=f.tileCoord,y=c.getTileCoordExtent(m),v=yi(h,y),_=Xn(v,i.getRenderBuffer()*a,g.tmpExtent),x=oi(y,v)?null:_;s.dirty=!1;var w=new Zf(0,_,a,e),b=u?new Zf(0,v,a,e):void 0,S=function(t,e){var n=function(t,e){return.5*t/e}(t,e);return n*n}(a,e),C=function(t){var e,n=t.getStyleFunction()||i.getStyleFunction();if(n&&(e=n(t,a)),e){var r=this.renderFeature(t,S,e,w,b);this.dirty_=this.dirty_||r,s.dirty=s.dirty||r}},T=f.getFeatures();o&&o!==s.renderedRenderOrder&&T.sort(o);for(var E=0,M=T.length;E<M;++E){var O=T[E];x&&!wi(x,O.getGeometry().getExtent())||C.call(g,O)}var R=w.finish(),P=i.getRenderMode()!==og&&u&&1===p.length?null:v,k=new ig(P,a,e,l.getOverlaps(),R,i.getRenderBuffer());if(t.executorGroups[d].push(k),b){var I=new ig(null,a,e,l.getOverlaps(),b.finish(),i.getRenderBuffer());t.declutterExecutorGroups[d].push(I)}},g=this,m=0,y=p.length;m<y;++m)f(m);s.renderedRevision=r,s.renderedRenderOrder=o,s.renderedResolution=a}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){var o=e.viewState.resolution,a=e.viewState.rotation;n=null==n?0:n;var s=this.getLayer(),l=s.getSource().getTileGridForProjection(e.viewState.projection),u=Kn([t]);Xn(u,o*n,u);for(var c,h={},p=function(t,e,n){var o=t.getId();void 0===o&&(o=Gn(t));var a=h[o];if(a){if(!0!==a&&n<a.distanceSq){if(0===n)return h[o]=!0,r.splice(r.lastIndexOf(a),1),i(t,s,e);a.geometry=e,a.distanceSq=n}}else{if(0===n)return h[o]=!0,i(t,s,e);r.push(h[o]={feature:t,layer:s,geometry:e,distanceSq:n,callback:i})}},d=this.renderedTiles,f=function(i,r){var h=d[i];if(!wi(l.getTileCoordExtent(h.wrappedTileCoord),u))return"continue";var f=Gn(s),g=[h.executorGroups[f]],m=h.declutterExecutorGroups[f];m&&g.push(m),g.some((function(i){for(var r=i===m?e.declutterTree.all().map((function(t){return t.value})):null,s=0,l=i.length;s<l;++s){var u=i[s];if(c=u.forEachFeatureAtCoordinate(t,o,a,n,p,r))return!0}}))},g=0,m=d.length;!c&&g<m;++g)f(g);return c},e.prototype.getFeatures=function(t){return new Promise(function(e,n){for(var i,r=this.getLayer(),o=Gn(r),a=r.getSource(),s=this.renderedProjection,l=s.getExtent(),u=this.renderedResolution,c=a.getTileGridForProjection(s),h=ns(this.renderedPixelToCoordinateTransform_,t.slice()),p=c.getTileCoordForCoordAndResolution(h,u),d=0,f=this.renderedTiles.length;d<f;++d)if(p.toString()===this.renderedTiles[d].tileCoord.toString()){if(2===(i=this.renderedTiles[d]).getState()){var g=c.getTileCoordExtent(i.tileCoord);a.getWrapX()&&s.canWrapX()&&!Jn(l,g)&&Ti(h,s);break}i=void 0}if(!i||i.loadingSourceTiles>0)e([]);else{var m=vi(c.getTileCoordExtent(i.wrappedTileCoord)),y=[(h[0]-m[0])/u,(m[1]-h[1])/u],v=i.getSourceTiles().reduce((function(t,e){return t.concat(e.getFeatures())}),[]),_=i.hitDetectionImageData[o];if(!_&&!this.animatingOrInteracting_){var x=su(c.getTileSize(c.getZForResolution(u))),w=this.renderedRotation_;_=function(t,e,n,i,r,o,a){var s=So(t[0]*xg,t[1]*xg);s.imageSmoothingEnabled=!1;for(var l=s.canvas,u=new lg(s,xg,r,null,a),c=n.length,h=Math.floor(16777215/c),p={},d=1;d<=c;++d){var f=n[d-1],g=f.getStyleFunction()||i;if(i){var m=g(f,o);if(m){Array.isArray(m)||(m=[m]);for(var y="#"+("000000"+(d*h).toString(16)).slice(-6),v=0,_=m.length;v<_;++v){var x=m[v],w=x.getGeometryFunction()(f);if(w&&wi(r,w.getExtent())){var b=x.clone(),S=b.getFill();S&&S.setColor(y);var C=b.getStroke();C&&(C.setColor(y),C.setLineDash(null)),b.setText(void 0);var T=x.getImage();if(T&&0!==T.getOpacity()){var E=T.getImageSize();if(!E)continue;var M=So(E[0],E[1],void 0,{alpha:!1}),O=M.canvas;M.fillStyle=y,M.fillRect(0,0,O.width,O.height),b.setImage(new _g({img:O,imgSize:E,anchor:T.getAnchor(),anchorXUnits:cg,anchorYUnits:cg,offset:T.getOrigin(),opacity:1,size:T.getSize(),scale:T.getScale(),rotation:T.getRotation(),rotateWithView:T.getRotateWithView()}))}var R=b.getZIndex()||0;(I=p[R])||(I={},p[R]=I,I.Polygon=[],I.Circle=[],I.LineString=[],I.Point=[]),I[w.getType().replace("Multi","")].push(w,b)}}}}}for(var P=Object.keys(p).map(Number).sort(Lr),k=(d=0,P.length);d<k;++d){var I=p[P[d]];for(var L in I){var F=I[L];for(v=0,_=F.length;v<_;v+=2){u.setStyle(F[v+1]);for(var A=0,Z=e.length;A<Z;++A)u.setTransform(e[A]),u.drawGeometry(F[v])}}}return s.getImageData(0,0,l.width,l.height)}(x,[this.getRenderTransform(c.getTileCoordCenter(i.wrappedTileCoord),u,0,xg,x[0]*xg,x[1]*xg,0)],v,r.getStyleFunction(),c.getTileCoordExtent(i.wrappedTileCoord),i.getReplayState(r).renderedResolution,w),i.hitDetectionImageData[o]=_}e(function(t,e,n){var i=[];if(n){var r=Math.floor(Math.round(t[0])*xg),o=Math.floor(Math.round(t[1])*xg),a=4*(Pi(r,0,n.width-1)+Pi(o,0,n.height-1)*n.width),s=n.data[a],l=n.data[a+1],u=n.data[a+2]+256*(l+256*s),c=Math.floor(16777215/e.length);u&&u%c==0&&i.push(e[u/c-1])}return i}(y,v,_))}}.bind(this))},e.prototype.handleFontsChanged=function(){Br(this.renderTileImageQueue_);var t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.renderDeclutter=function(t){var e=this.context,n=e.globalAlpha;e.globalAlpha=this.getLayer().getOpacity();for(var i=t.viewHints,r=!(i[0]||i[1]),o=this.renderedTiles,a=0,s=o.length;a<s;++a){var l=o[a],u=l.declutterExecutorGroups[Gn(this.getLayer())];if(u)for(var c=u.length-1;c>=0;--c)u[c].execute(this.context,1,this.getTileRenderTransform(l,t),t.viewState.rotation,r,void 0,t.declutterTree)}e.globalAlpha=n},e.prototype.getTileRenderTransform=function(t,e){var n=e.pixelRatio,i=e.viewState,r=i.center,o=i.resolution,a=i.rotation,s=e.size,l=Math.round(s[0]*n),u=Math.round(s[1]*n),c=this.getLayer().getSource().getTileGridForProjection(e.viewState.projection),h=t.tileCoord,p=c.getTileCoordExtent(t.wrappedTileCoord),d=c.getTileCoordExtent(h,this.tmpExtent)[0]-p[0];return ts(is(this.inversePixelTransform.slice(),1/n,1/n),this.getRenderTransform(r,o,a,n,l,u,d))},e.prototype.renderFrame=function(e,n){var i=e.viewHints,r=!(i[0]||i[1]);this.renderQueuedTileImages_(r,e),t.prototype.renderFrame.call(this,e,n),this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.renderedRotation_=e.viewState.rotation;var o=this.getLayer(),a=o.getRenderMode(),s=o.getSource(),l=e.usedTiles[Gn(s)];for(var u in this.renderTileImageQueue_)l&&u in l||delete this.renderTileImageQueue_[u];var c=this.context,h=c.globalAlpha;c.globalAlpha=o.getOpacity();for(var p=Eg[a],d=e.viewState.rotation,f=this.renderedTiles,g=[],m=[],y=f.length-1;y>=0;--y)for(var v=f[y],_=this.getTileRenderTransform(v,e),x=v.executorGroups[Gn(o)],w=!1,b=0,S=x.length;b<S;++b){var C=x[b];if(C.hasExecutors(p)){var T=v.tileCoord[0],E=void 0;if(!w&&(E=C.getClipCoords(_))){c.save();for(var M=0,O=g.length;M<O;++M){var R=g[M];T<m[M]&&(c.beginPath(),c.moveTo(E[0],E[1]),c.lineTo(E[2],E[3]),c.lineTo(E[4],E[5]),c.lineTo(E[6],E[7]),c.moveTo(R[6],R[7]),c.lineTo(R[4],R[5]),c.lineTo(R[2],R[3]),c.lineTo(R[0],R[1]),c.clip())}}C.execute(c,1,_,d,r,p),!w&&E&&(c.restore(),g.push(E),m.push(T),w=!0)}}return c.globalAlpha=h,this.container},e.prototype.renderQueuedTileImages_=function(t,e){for(var n in this.renderTileImageQueue_){if(!t&&Date.now()-e.time>8){e.animate=!0;break}var i=this.renderTileImageQueue_[n];delete this.renderTileImageQueue_[n],this.renderTileImage_(i,e)}},e.prototype.renderFeature=function(t,e,n,i,r){if(!n)return!1;var o=!1;if(Array.isArray(n))for(var a=0,s=n.length;a<s;++a)o=bg(i,t,n[a],e,this.boundHandleStyleImageChange_,void 0,r)||o;else o=bg(i,t,n,e,this.boundHandleStyleImageChange_,void 0,r);return o},e.prototype.tileImageNeedsRender_=function(t){var e=this.getLayer();if(e.getRenderMode()===og)return!1;var n=t.getReplayState(e),i=e.getRevision(),r=t.wantedResolution;return n.renderedTileResolution!==r||n.renderedTileRevision!==i},e.prototype.renderTileImage_=function(t,e){var n=this.getLayer(),i=t.getReplayState(n),r=n.getRevision(),o=t.executorGroups[Gn(n)];i.renderedTileRevision=r;var a=t.wrappedTileCoord,s=a[0],l=n.getSource(),u=e.pixelRatio,c=e.viewState.projection,h=l.getTileGridForProjection(c),p=h.getResolution(t.tileCoord[0]),d=e.pixelRatio/t.wantedResolution*p,f=h.getResolution(s),g=t.getContext(n);u=Math.round(Math.max(u,d/u));var m=l.getTilePixelSize(s,u,c);g.canvas.width=m[0],g.canvas.height=m[1];var y=u/d;if(1!==y){var v=Qa(this.tmpTransform_);is(v,y,y),g.setTransform.apply(g,v)}var _=h.getTileCoordExtent(a,this.tmpExtent),x=d/f,w=Qa(this.tmpTransform_);is(w,x,-x),function(t,e,n){ts(t,es(Ja,1,0,0,1,e,n))}(w,-_[0],-_[3]);for(var b=0,S=o.length;b<S;++b)o[b].execute(g,y,w,0,!0,Tg[n.getRenderMode()]);i.renderedTileResolution=t.wantedResolution},e}(_c),Og=Mg,Rg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pg=function(t){function e(e){var n=this,i=e||{},r=Vr({},i);delete r.preload,delete r.useInterimTilesOnError,(n=t.call(this,r)||this).on,n.once,n.un,"image"===i.renderMode&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),i.renderMode=void 0);var o=i.renderMode||rg;return $n(o==rg||o==og,28),n.renderMode_=o,n.setPreload(i.preload?i.preload:0),n.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),n}return Rg(e,t),e.prototype.createRenderer=function(){return new Og(this)},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderMode=function(){return this.renderMode_},e.prototype.getPreload=function(){return this.get(oc)},e.prototype.getUseInterimTilesOnError=function(){return this.get(ac)},e.prototype.setPreload=function(t){this.set(oc,t)},e.prototype.setUseInterimTilesOnError=function(t){this.set(ac,t)},e}(df),kg=e=>{const{map:n}=(0,t.useContext)(Dn);return(0,t.useEffect)((()=>{if(!n)return;const t=new Pg(e);return n.addLayer(t),()=>{n&&n.removeLayer(t)}}),[n,e]),null};var Ig=e().createContext({apiURL:"localhost:8080",environment:"development",tileURL:"http://localhost:8081/maps/trails/{z}/{x}/{y}.vector.pbf?debug=true",browser:{hasTouch:!1}});const Lg="App-fullscreen",Fg="App-padded",Ag="App-topbar",Zg="App-hiddenBox",jg=(0,p.ZP)("div")((({theme:t})=>({[`& .${Lg}`]:{position:"absolute",top:0,right:0,height:"100%",width:"100vw"},[`&.${Fg}`]:{[t.breakpoints.down("md")]:{paddingTop:"5px",paddingRight:"10px",paddingLeft:"10px"},[t.breakpoints.up("sm")]:{paddingTop:"15px",paddingRight:"25px",paddingLeft:"25px"}},[`&.${Ag}`]:{position:"relative",width:"100%",display:"flex",justifyContent:"space-between",pointerEvents:"none",zIndex:1001},[`&.${Zg}`]:{width:64,[t.breakpoints.down("md")]:{display:"none"}}}))),Dg=new yp(function(t,e){var n=jr(t.Contents.Layer,(function(t,n,i){return t.Identifier==e.layer}));if(null===n)return null;var i,r=t.Contents.TileMatrixSet;(i=n.TileMatrixSetLink.length>1?zr(n.TileMatrixSetLink,"projection"in e?function(t,n,i){var o=jr(r,(function(e){return e.Identifier==t.TileMatrixSet})).SupportedCRS,a=rr(o),s=rr(e.projection);return a&&s?cr(a,s):o==e.projection}:function(t,n,i){return t.TileMatrixSet==e.matrixSet}):0)<0&&(i=0);var o=n.TileMatrixSetLink[i].TileMatrixSet,a=n.TileMatrixSetLink[i].TileMatrixSetLimits,s=n.Format[0];"format"in e&&(s=e.format),(i=zr(n.Style,(function(t,n,i){return"style"in e?t.Title==e.style:t.isDefault})))<0&&(i=0);var l=n.Style[i].Identifier,u={};"Dimension"in n&&n.Dimension.forEach((function(t,e,n){var i=t.Identifier,r=t.Default;void 0===r&&(r=t.Value[0]),u[i]=r}));var c,h=jr(t.Contents.TileMatrixSet,(function(t,e,n){return t.Identifier==o})),p=h.SupportedCRS;if(p&&(c=rr(p)),"projection"in e){var d=rr(e.projection);d&&(c&&!cr(d,c)||(c=d))}var f=!1,g="ne"==c.getAxisOrientation().substr(0,2),m=h.TileMatrix[0],y={MinTileCol:0,MinTileRow:0,MaxTileCol:m.MatrixWidth-1,MaxTileRow:m.MatrixHeight-1};if(a){y=a[a.length-1];var v=jr(h.TileMatrix,(function(t){return t.Identifier===y.TileMatrix||h.Identifier+":"+t.Identifier===y.TileMatrix}));v&&(m=v)}var _=28e-5*m.ScaleDenominator/c.getMetersPerUnit(),x=g?[m.TopLeftCorner[1],m.TopLeftCorner[0]]:m.TopLeftCorner,w=m.TileWidth*_,b=m.TileHeight*_,S=h.BoundingBox,C=[x[0]+w*y.MinTileCol,x[1]-b*(1+y.MaxTileRow),x[0]+w*(1+y.MaxTileCol),x[1]-b*y.MinTileRow];if(void 0!==S&&!Jn(S,C)){var T=n.WGS84BoundingBox,E=rr("EPSG:4326").getExtent();if(C=S,T)f=T[0]===E[0]&&T[2]===E[2];else{var M=fr(S,h.SupportedCRS,"EPSG:4326");f=M[0]-1e-10<=E[0]&&M[2]+1e-10>=E[2]}}var O=function(t,e,n){var i=[],r=[],o=[],a=[],s=[],l=void 0!==n?n:[],u=rr(t.SupportedCRS),c=u.getMetersPerUnit(),h="ne"==u.getAxisOrientation().substr(0,2);return t.TileMatrix.sort((function(t,e){return e.ScaleDenominator-t.ScaleDenominator})),t.TileMatrix.forEach((function(e){if(!(l.length>0)||jr(l,(function(n){return e.Identifier==n.TileMatrix||-1===e.Identifier.indexOf(":")&&t.Identifier+":"+e.Identifier===n.TileMatrix}))){r.push(e.Identifier);var n=28e-5*e.ScaleDenominator/c,u=e.TileWidth,p=e.TileHeight;h?o.push([e.TopLeftCorner[1],e.TopLeftCorner[0]]):o.push(e.TopLeftCorner),i.push(n),a.push(u==p?u:[u,p]),s.push([e.MatrixWidth,e.MatrixHeight])}})),new gp({extent:e,origins:o,resolutions:i,matrixIds:r,tileSizes:a,sizes:s})}(h,C,a),R=[],P=e.requestEncoding;if(P=void 0!==P?P:"","OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata)for(var k=t.OperationsMetadata.GetTile.DCP.HTTP.Get,I=0,L=k.length;I<L;++I)if(k[I].Constraint){var F=jr(k[I].Constraint,(function(t){return"GetEncoding"==t.name})).AllowedValues.Value;if(""===P&&(P=F[0]),P!==pp)break;pp,F.indexOf("KVP")>=0&&R.push(k[I].href)}else k[I].href&&(P=pp,R.push(k[I].href));return 0===R.length&&(P="REST",n.ResourceURL.forEach((function(t){"tile"===t.resourceType&&(s=t.format,R.push(t.template))}))),{urls:R,layer:e.layer,matrixSet:o,format:s,projection:c,requestEncoding:P,tileGrid:O,style:l,dimensions:u,wrapX:f,crossOrigin:e.crossOrigin}}((new Ud).read('\n<Capabilities xmlns="http://www.opengis.net/wmts/1.0" xmlns:gml="http://www.opengis.net/gml" xmlns:ows="http://www.opengis.net/ows/1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wmts/1.0 http://schemas.opengis.net/wmts/1.0/wmtsGetCapabilities_response.xsd" version="1.0.0">\n  <ows:ServiceIdentification>\n    <ows:Title>Topografisk Webbkarta Cache Visning</ows:Title>\n    <ows:Abstract>WMTS fr tillhandahllande av Lantmteriets geografiska data.</ows:Abstract>\n    <ows:Keywords>\n      <ows:Keyword>topowebb</ows:Keyword>\n    </ows:Keywords>\n    <ows:ServiceType>OGC WMTS</ows:ServiceType>\n    <ows:ServiceTypeVersion>1.0.0</ows:ServiceTypeVersion>\n  </ows:ServiceIdentification>\n  <ows:ServiceProvider>\n    <ows:ProviderName>Lantmteriet</ows:ProviderName>\n    <ows:ProviderSite xlink:href="http://www.lantmateriet.se" />\n    <ows:ServiceContact>\n      <ows:IndividualName>Geodatasupport</ows:IndividualName>\n      <ows:PositionName>Support</ows:PositionName>\n      <ows:ContactInfo>\n        <ows:Phone>\n          <ows:Voice>026-633600</ows:Voice>\n        </ows:Phone>\n        <ows:Address>\n          <ows:DeliveryPoint>Lantmteriet</ows:DeliveryPoint>\n          <ows:City>Gvle</ows:City>\n          <ows:PostalCode>801 82</ows:PostalCode>\n          <ows:Country>Sweden</ows:Country>\n          <ows:ElectronicMailAddress>geodatasupport@lm.se</ows:ElectronicMailAddress>\n        </ows:Address>\n      </ows:ContactInfo>\n    </ows:ServiceContact>\n  </ows:ServiceProvider>\n  <ows:OperationsMetadata>\n    <ows:Operation name="GetCapabilities">\n      <ows:DCP>\n        <ows:HTTP>\n          <ows:Get xlink:href="http://maps.lantmateriet.se/topowebb/v1.1/wmts?">\n            <ows:Constraint name="GetEncoding">\n              <ows:AllowedValues>\n                <ows:Value>KVP</ows:Value>\n              </ows:AllowedValues>\n            </ows:Constraint>\n          </ows:Get>\n        </ows:HTTP>\n      </ows:DCP>\n    </ows:Operation>\n    <ows:Operation name="GetTile">\n      <ows:DCP>\n        <ows:HTTP>\n          <ows:Get xlink:href="http://maps.lantmateriet.se/topowebb/v1.1/wmts?">\n            <ows:Constraint name="GetEncoding">\n              <ows:AllowedValues>\n                <ows:Value>KVP</ows:Value>\n              </ows:AllowedValues>\n            </ows:Constraint>\n          </ows:Get>\n        </ows:HTTP>\n      </ows:DCP>\n    </ows:Operation>\n    <ows:Operation name="GetFeatureInfo">\n      <ows:DCP>\n        <ows:HTTP>\n          <ows:Get xlink:href="http://maps.lantmateriet.se/topowebb/v1.1/wmts?">\n            <ows:Constraint name="GetEncoding">\n              <ows:AllowedValues>\n                <ows:Value>KVP</ows:Value>\n              </ows:AllowedValues>\n            </ows:Constraint>\n          </ows:Get>\n        </ows:HTTP>\n      </ows:DCP>\n    </ows:Operation>\n  </ows:OperationsMetadata>\n  <Contents>\n    <Layer>\n      <ows:Title>topowebb_nedtonad</ows:Title>\n      <ows:Identifier>topowebb_nedtonad</ows:Identifier>\n      <Style isDefault="true">\n        <ows:Identifier>default</ows:Identifier>\n      </Style>\n      <Format>image/png</Format>\n      <TileMatrixSetLink>\n        <TileMatrixSet>3006</TileMatrixSet>\n      </TileMatrixSetLink>\n      <TileMatrixSetLink>\n        <TileMatrixSet>3857</TileMatrixSet>\n      </TileMatrixSetLink>\n      <ResourceURL format="image/png" resourceType="tile" template="http://maps.lantmateriet.se/topowebb/v1.1/wmts/1.0.0/topowebb_nedtonad/default/{TileMatrixSet}/{TileMatrix}/{TileRow}/{TileCol}.png" />\n    </Layer>\n    <Layer>\n      <ows:Title>topowebb</ows:Title>\n      <ows:Identifier>topowebb</ows:Identifier>\n      <Style isDefault="true">\n        <ows:Identifier>default</ows:Identifier>\n      </Style>\n      <Format>image/png</Format>\n      <TileMatrixSetLink>\n        <TileMatrixSet>3006</TileMatrixSet>\n      </TileMatrixSetLink>\n      <TileMatrixSetLink>\n        <TileMatrixSet>3857</TileMatrixSet>\n      </TileMatrixSetLink>\n      <ResourceURL format="image/png" resourceType="tile" template="http://maps.lantmateriet.se/topowebb/v1.1/wmts/1.0.0/topowebb/default/{TileMatrixSet}/{TileMatrix}/{TileRow}/{TileCol}.png" />\n    </Layer>\n    <TileMatrixSet>\n      <ows:Identifier>3857</ows:Identifier>\n      <ows:BoundingBox crs="urn:ogc:def:crs:EPSG:6.3:3857">\n        <ows:LowerCorner>-20037508.342789 -20037508.342789</ows:LowerCorner>\n        <ows:UpperCorner>20037508.342789 20037508.342789</ows:UpperCorner>\n      </ows:BoundingBox>\n      <ows:SupportedCRS>urn:ogc:def:crs:EPSG:6.3:3857</ows:SupportedCRS>\n      <WellKnownScaleSet>urn:ogc:def:wkss:OGC:1.0:GoogleMapsCompatible</WellKnownScaleSet>\n      <TileMatrix>\n        <ows:Identifier>0</ows:Identifier>\n        <ScaleDenominator>559082264.02871787548065185547</ScaleDenominator>\n        <TopLeftCorner>-20037508.342789 20037508.342789</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>1</MatrixWidth>\n        <MatrixHeight>1</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>1</ows:Identifier>\n        <ScaleDenominator>279541132.01435887813568115234</ScaleDenominator>\n        <TopLeftCorner>-20037508.342789 20037508.342789</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>2</MatrixWidth>\n        <MatrixHeight>2</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>2</ows:Identifier>\n        <ScaleDenominator>139770566.00717940926551818848</ScaleDenominator>\n        <TopLeftCorner>-20037508.342789 20037508.342789</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>4</MatrixWidth>\n        <MatrixHeight>4</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>3</ows:Identifier>\n        <ScaleDenominator>69885283.00358971953392028809</ScaleDenominator>\n        <TopLeftCorner>-20037508.342789 20037508.342789</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>8</MatrixWidth>\n        <MatrixHeight>8</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>4</ows:Identifier>\n        <ScaleDenominator>34942641.50179485976696014404</ScaleDenominator>\n        <TopLeftCorner>-20037508.342789 20037508.342789</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>16</MatrixWidth>\n        <MatrixHeight>16</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>5</ows:Identifier>\n        <ScaleDenominator>17471320.75089742988348007202</ScaleDenominator>\n        <TopLeftCorner>-20037508.342789 20037508.342789</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>32</MatrixWidth>\n        <MatrixHeight>32</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>6</ows:Identifier>\n        <ScaleDenominator>8735660.37544871494174003601</ScaleDenominator>\n        <TopLeftCorner>-20037508.342789 20037508.342789</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>64</MatrixWidth>\n        <MatrixHeight>64</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>7</ows:Identifier>\n        <ScaleDenominator>4367830.18772435747087001801</ScaleDenominator>\n        <TopLeftCorner>-20037508.342789 20037508.342789</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>128</MatrixWidth>\n        <MatrixHeight>128</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>8</ows:Identifier>\n        <ScaleDenominator>2183915.09386217873543500900</ScaleDenominator>\n        <TopLeftCorner>-20037508.342789 20037508.342789</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>256</MatrixWidth>\n        <MatrixHeight>256</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>9</ows:Identifier>\n        <ScaleDenominator>1091957.54693108866922557354</ScaleDenominator>\n        <TopLeftCorner>-20037508.342789 20037508.342789</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>512</MatrixWidth>\n        <MatrixHeight>512</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>10</ows:Identifier>\n        <ScaleDenominator>545978.77346554468385875225</ScaleDenominator>\n        <TopLeftCorner>-20037508.342789 20037508.342789</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>1024</MatrixWidth>\n        <MatrixHeight>1024</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>11</ows:Identifier>\n        <ScaleDenominator>272989.38673277228372171521</ScaleDenominator>\n        <TopLeftCorner>-20037508.342789 20037508.342789</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>2048</MatrixWidth>\n        <MatrixHeight>2048</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>12</ows:Identifier>\n        <ScaleDenominator>136494.69336638617096468806</ScaleDenominator>\n        <TopLeftCorner>-20037508.342789 20037508.342789</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>4096</MatrixWidth>\n        <MatrixHeight>4096</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>13</ows:Identifier>\n        <ScaleDenominator>68247.34668319307093042880</ScaleDenominator>\n        <TopLeftCorner>-20037508.342789 20037508.342789</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>8192</MatrixWidth>\n        <MatrixHeight>8192</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>14</ows:Identifier>\n        <ScaleDenominator>34123.67334159654274117202</ScaleDenominator>\n        <TopLeftCorner>-20037508.342789 20037508.342789</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>16384</MatrixWidth>\n        <MatrixHeight>16384</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>15</ows:Identifier>\n        <ScaleDenominator>17061.83667079827137058601</ScaleDenominator>\n        <TopLeftCorner>-20037508.342789 20037508.342789</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>32768</MatrixWidth>\n        <MatrixHeight>32768</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>16</ows:Identifier>\n        <ScaleDenominator>8530.91833539913568529300</ScaleDenominator>\n        <TopLeftCorner>-20037508.342789 20037508.342789</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>65536</MatrixWidth>\n        <MatrixHeight>65536</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>17</ows:Identifier>\n        <ScaleDenominator>4265.45916769956784264650</ScaleDenominator>\n        <TopLeftCorner>-20037508.342789 20037508.342789</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>131072</MatrixWidth>\n        <MatrixHeight>131072</MatrixHeight>\n      </TileMatrix>\n    </TileMatrixSet>\n    <TileMatrixSet>\n      <ows:Identifier>3006</ows:Identifier>\n      <ows:BoundingBox crs="urn:ogc:def:crs:EPSG:6.3:3006">\n        <ows:LowerCorner>4305696.000000 -1200000.000000</ows:LowerCorner>\n        <ows:UpperCorner>8500000.000000 2994304.000000</ows:UpperCorner>\n      </ows:BoundingBox>\n      <ows:SupportedCRS>urn:ogc:def:crs:EPSG:6.3:3006</ows:SupportedCRS>\n      <TileMatrix>\n        <ows:Identifier>0</ows:Identifier>\n        <ScaleDenominator>14628571.42857142910361289978</ScaleDenominator>\n        <TopLeftCorner>8500000.000000 -1200000.000000</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>4</MatrixWidth>\n        <MatrixHeight>4</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>1</ows:Identifier>\n        <ScaleDenominator>7314285.71428571455180644989</ScaleDenominator>\n        <TopLeftCorner>8500000.000000 -1200000.000000</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>8</MatrixWidth>\n        <MatrixHeight>8</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>2</ows:Identifier>\n        <ScaleDenominator>3657142.85714285727590322495</ScaleDenominator>\n        <TopLeftCorner>8500000.000000 -1200000.000000</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>16</MatrixWidth>\n        <MatrixHeight>16</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>3</ows:Identifier>\n        <ScaleDenominator>1828571.42857142863795161247</ScaleDenominator>\n        <TopLeftCorner>8500000.000000 -1200000.000000</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>32</MatrixWidth>\n        <MatrixHeight>32</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>4</ows:Identifier>\n        <ScaleDenominator>914285.71428571431897580624</ScaleDenominator>\n        <TopLeftCorner>8500000.000000 -1200000.000000</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>64</MatrixWidth>\n        <MatrixHeight>64</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>5</ows:Identifier>\n        <ScaleDenominator>457142.85714285715948790312</ScaleDenominator>\n        <TopLeftCorner>8500000.000000 -1200000.000000</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>128</MatrixWidth>\n        <MatrixHeight>128</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>6</ows:Identifier>\n        <ScaleDenominator>228571.42857142857974395156</ScaleDenominator>\n        <TopLeftCorner>8500000.000000 -1200000.000000</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>256</MatrixWidth>\n        <MatrixHeight>256</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>7</ows:Identifier>\n        <ScaleDenominator>114285.71428571428987197578</ScaleDenominator>\n        <TopLeftCorner>8500000.000000 -1200000.000000</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>512</MatrixWidth>\n        <MatrixHeight>512</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>8</ows:Identifier>\n        <ScaleDenominator>57142.85714285714493598789</ScaleDenominator>\n        <TopLeftCorner>8500000.000000 -1200000.000000</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>1024</MatrixWidth>\n        <MatrixHeight>1024</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>9</ows:Identifier>\n        <ScaleDenominator>28571.42857142857246799394</ScaleDenominator>\n        <TopLeftCorner>8500000.000000 -1200000.000000</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>2048</MatrixWidth>\n        <MatrixHeight>2048</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>10</ows:Identifier>\n        <ScaleDenominator>14285.71428571428623399697</ScaleDenominator>\n        <TopLeftCorner>8500000.000000 -1200000.000000</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>4096</MatrixWidth>\n        <MatrixHeight>4096</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>11</ows:Identifier>\n        <ScaleDenominator>7142.85714285714311699849</ScaleDenominator>\n        <TopLeftCorner>8500000.000000 -1200000.000000</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>8192</MatrixWidth>\n        <MatrixHeight>8192</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>12</ows:Identifier>\n        <ScaleDenominator>3571.42857142857155849924</ScaleDenominator>\n        <TopLeftCorner>8500000.000000 -1200000.000000</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>16384</MatrixWidth>\n        <MatrixHeight>16384</MatrixHeight>\n      </TileMatrix>\n      <TileMatrix>\n        <ows:Identifier>13</ows:Identifier>\n        <ScaleDenominator>1785.71428571428577924962</ScaleDenominator>\n        <TopLeftCorner>8500000.000000 -1200000.000000</TopLeftCorner>\n        <TileWidth>256</TileWidth>\n        <TileHeight>256</TileHeight>\n        <MatrixWidth>32768</MatrixWidth>\n        <MatrixHeight>32768</MatrixHeight>\n      </TileMatrix>\n    </TileMatrixSet>\n  </Contents>\n</Capabilities>\n'),{layer:"topowebb",matrixSet:"3857"})),zg={apiURL:"localhost:8080",environment:"production",tileURL:"",browser:{hasTouch:"ontouchstart"in window||navigator.maxTouchPoints>0}},Wg={light:(0,P.Z)({palette:{mode:"light"}}),dark:(0,P.Z)({palette:{mode:"dark"},components:{MuiSlider:{styleOverrides:{track:{backgroundColor:I.Z[500]},rail:{backgroundColor:I.Z[600]},thumb:{backgroundColor:"white","&.Mui-focusVisible,&:hover":{boxShadow:`0px 0px 0px 8px ${(0,k.Fq)(L.Z.white,.16)}`,"@media (hover: none)":{boxShadow:"none"}},"&.Mui-active":{boxShadow:`0px 0px 0px 14px ${(0,k.Fq)(L.Z.white,.16)}`}}}},MuiIconButton:{styleOverrides:{colorPrimary:{color:F.Z[500]}}}}})};(0,i.render)(e().createElement(e().StrictMode,null,e().createElement((function(t){const{injectFirst:e,children:n}=t;return e?(0,d.jsx)(b.C,{value:S,children:n}):n}),{injectFirst:!0},e().createElement(Ig.Provider,{value:zg},e().createElement((function(t){const{children:e,theme:n}=t;return(0,d.jsx)(M,{theme:n,children:(0,d.jsx)(R,{children:e})})}),{theme:Wg.light},e().createElement(w,null,e().createElement((n=>{const{env:i,forecastAPI:r}=n;Dg.setUrls(["https://minkarta.lantmateriet.se/map/topowebbcache/?"]);const[o,a]=(0,t.useState)(!1),[s,l]=(0,t.useState)(),[u,c]=(0,t.useState)(Dg),[h,p]=(0,t.useState)((()=>{const{state:t}=Rr();return t instanceof Tr?{center:lr([t.lon,t.lat]),zoom:t.zoom??8}:{center:lr([18.07,59.324]),zoom:8}})()),[d,f]=(0,t.useState)({reference:new Date,validTimes:[new Date]}),[g,m]=(0,t.useState)({weather:!1,wind:!1,temperature:!1,layers:0}),[y,v]=(0,t.useState)();(0,t.useEffect)((()=>console.log("Running in "+i.environment)),[i.environment]),(0,t.useEffect)((()=>{const t="development"!=i.environment?void 0:new Mp({url:i.tileURL,format:new id({layerName:"trail_sections",geometryName:"geom",idProperty:"gid"})});v(t)}),[i.tileURL]),(0,t.useEffect)((()=>{(async()=>{console.log("Fetching forecast...");const t=new Date,e=await r.ValidTimes(),n=(new Date).getTime()-t.getTime();console.log(`Fetched forecast, reference time: ${e.reference.toUTCString()}, with ${e.validTimes.length} timestamps in ${n}ms`),f(e),l(e.validTimes[0])})()}),[r]),(0,t.useEffect)((()=>{const t=setTimeout((()=>a(!0)),500);return()=>clearTimeout(t)}),[]);const _=t=>e=>{const n=g.layers+(e?1:-1),i={...g,layers:n};i[t]=e,m(i)};return e().createElement(jg,{className:`${Fg} ${Lg}`},e().createElement(rc,{view:h,className:Lg},e().createElement(bc,{zIndex:0,source:u}),y&&e().createElement(kg,{source:y})),e().createElement(Mn,{direction:"down",in:o},e().createElement(jg,{className:Ag},e().createElement(jg,{className:Zg}),e().createElement(xn,{onGPSLocate:console.log,onGPSTrack:console.log,onGPSDeactivate:console.log}),e().createElement(Oe,null))),e().createElement(jn,{shown:!!s&&o},e().createElement(Fn,{onClick:_("weather")}),e().createElement(An,{onClick:_("wind")}),e().createElement(Zn,{onClick:_("temperature")})),e().createElement(yh,{shown:g.layers>0&&o,timepoints:d.validTimes,onChange:l}))}),{env:zg,forecastAPI:A})))))),document.getElementById("root"))}()}();
//# sourceMappingURL=bundle.94f587f7.min.js.map